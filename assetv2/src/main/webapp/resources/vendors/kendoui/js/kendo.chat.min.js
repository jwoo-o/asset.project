/** 
 * Kendo UI v2018.2.620 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2018 Telerik EAD. All rights reserved.                                                                                                                                                     
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(t,define){define("chat/view.min",["kendo.core.min","kendo.draganddrop.min"],t)}(function(){return function(t,e){var s,i,n,a,r=window.kendo,o=r.ui.Widget,l=t.extend,c=t.proxy,d=".",g=" ",h=".kendoChat",p=r.template('<div #:text# class="#=styles.messageGroup# #= url ? "" : styles.noAvatar #"><p class="#=styles.author#">#:text#</p># if (url) { #<img src="#=url#" alt="#:text#" class="#=styles.avatar#"># } #</div>'),u=r.template('<div me class="#=styles.messageGroup# #=styles.self# #= url ? "" : styles.noAvatar #"># if (url) { #<img src="#=url#" alt="#:text#" class="#=styles.avatar#"># } #</div>'),m=r.template('<div class="#=styles.message#"><time class="#=styles.messageTime#">#= kendo.toString(kendo.parseDate(timestamp), "HH:mm:ss") #</time><div class="#=styles.bubble#">#:text#</div></div>'),f=r.template('<div class="#=styles.message#"><div class="#=styles.bubble#"><div class="#=styles.typingIndicator#"><span></span><span></span><span></span></div></div></div>'),v=r.template('<div class="#=styles.suggestedActions#"># for (var i = 0; i < suggestedActions.length; i++) { #<span class="#=styles.suggestedAction#" data-value="#:suggestedActions[i].value#">#:suggestedActions[i].title#</span># } #</div>'),y=r.template('<div class="#=styles.card# #=styles.cardRich#"># if (typeof images !== "undefined" && images.length > 0) { #<img src="#:images[0].url#" alt="#:images[0].alt#" class="#=styles.cardImage#" /># } #<div class="#=styles.cardBody#"># if (typeof title !== "undefined") { #<h5 class="#=styles.cardTitle#">#:title#</h5># } ## if (typeof subtitle !== "undefined") { #<h6 class="#=styles.cardSubtitle#">#:subtitle#</h6># } ## if (typeof text !== "undefined") { #<p>#:text#</p># } #</div># if (typeof buttons !== "undefined" && buttons.length > 0) { #<div class="#=styles.cardActions# #=styles.cardActionsVertical#"># for (var i = 0; i < buttons.length; i++) { #<span class="#=styles.cardAction#"><span class="#=styles.button# #=styles.buttonPrimary#" data-value="#:buttons[i].value#">#:buttons[i].title#</span></span># } #</div># } #</div>');r.chat={Templates:{},Components:{}},r.chat.registerTemplate=function(t,e){r.chat.Templates[t]=r.template(e)},r.chat.getTemplate=function(t){return r.chat.Templates[t]||m},r.chat.registerTemplate("text",m),r.chat.registerTemplate("message",m),r.chat.registerTemplate("typing",f),r.chat.registerTemplate("suggestedAction",v),r.chat.registerTemplate("heroCard",y),r.chat.registerTemplate("application/vnd.microsoft.card.hero",y),r.chat.registerComponent=function(t,e){r.chat.Components[t]=e},r.chat.getComponent=function(t){return r.chat.Components[t]||null},s=r.chat.Component=r.Class.extend({init:function(e,s){this.element=t("<div></div>"),this.options=e,this.view=s},destroy:function(){r.destroy(this.element)}}),i=s.extend({init:function(t,e){s.fn.init.call(this,t,e),this.element.kendoCalendar({change:function(){e.trigger("suggestedAction",{text:r.toString(this.value(),"d"),type:"message"})}})},destroy:function(){}}),r.chat.registerComponent("calendar",i),n={wrapper:"k-widget k-chat",messageList:"k-avatars",messageTime:"k-message-time",messageGroup:"k-message-group",message:"k-message",only:"k-only",first:"k-first",middle:"k-middle",last:"k-last",author:"k-author",avatar:"k-avatar",noAvatar:"k-no-avatar",self:"k-alt",button:"k-button",buttonPrimary:"k-flat k-primary",typingIndicator:"k-typing-indicator",bubble:"k-bubble",suggestedActions:"k-quick-replies",suggestedAction:"k-quick-reply",cardWrapper:"k-card-container",card:"k-card",cardRich:"k-card-type-rich",cardBody:"k-card-body",cardImage:"k-card-image",cardTitle:"k-card-title",cardSubtitle:"k-card-subtitle",cardActions:"k-card-actions",cardActionsVertical:"k-card-actions-vertical",cardAction:"k-card-action",selected:"k-state-selected"},a=r.chat.ChatView=o.extend({init:function(t,e){o.fn.init.call(this,t,e),this._list(),this._lastSender=null,this._attachEvents(),this._scrollable()},events:[],options:{},destroy:function(){o.fn.destroy.call(this),this._scrollDraggable&&this._scrollDraggable.destroy(),this.list.empty(),this.list=null,this.element.off(h),this._lastSender=null},_list:function(){var t=a.styles;this.list=this.element.addClass(t.messageList).attr("aria-live","polite")},_attachEvents:function(){var t=a.styles;this.element.on("click"+h,c(this._listClick,this)).on("click"+h,d+t.message,c(this._messageClick,this)).on("click"+h,d+t.suggestedAction,c(this._suggestedActionClick,this)).on("click"+h,d+t.cardAction+g+d+t.button,c(this._cardActionClick,this))},_scrollable:function(){var e,s,i=a.styles;this._scrollDraggable=new r.ui.Draggable(this.list,{distance:0,filter:d+i.cardDeck}),this._scrollDraggable.bind("dragstart",function(i){e=i.x.location,s=t(i.currentTarget).scrollLeft()}).bind("drag",r.throttle(function(i){var n=e-i.x.location;t(i.currentTarget).scrollLeft(s+n),s=t(i.currentTarget).scrollLeft()},15))},getTemplate:function(t){return r.chat.getTemplate(t)},getComponent:function(t){return r.chat.getComponent(t)},renderMessage:function(t,e){t.timestamp||(t.timestamp=new Date);var s=this._renderTemplate(t.type,t);this._renderBubble(s,e),"typing"!==t.type&&(this._lastSender=e.id)},renderSuggestedActions:function(t){this._removeSuggestedActions();var e=this._renderTemplate("suggestedAction",{suggestedActions:t});this.list.append(e),this._scrollToBottom()},renderAttachments:function(e,s){var i,n,r="carousel"===e.attachmentLayout?a.styles.cardDeck:a.styles.cardWrapper,o=t("<div>").addClass(r),l=e.attachments;for(i=0;i<l.length;i++)n=this._renderTemplate(l[i].contentType,l[i].content),o.append(n);l.length&&(this._renderBubble(o,s),this._lastSender=null)},renderComponent:function(t){var e=this.getComponent(t),s=new e({},this);this.list.append(s.element),this._scrollToBottom()},_removeTypingIndicator:function(){var t,e,s=a.styles,i=this.list.find(d+s.typingIndicator);i.length&&(t=i.parents(d+s.message).first(),e=i.parents(d+s.messageGroup).first(),t.remove(),e.find(d+s.message).length||e.find(d+s.cardDeck).length||e.find(d+s.cardWrapper).length||e.remove())},_removeSuggestedActions:function(){this.list.find(d+a.styles.suggestedActions).remove()},_listClick:function(e){var s=a.styles,i=t(e.target);i.hasClass(s.message)||i.parents(d+s.message).length||this._clearSelection()},_messageClick:function(e){this._clearSelection(),t(e.currentTarget).addClass(a.styles.selected)},_suggestedActionClick:function(e){var s=t(e.target).data("value")||"";this.trigger("actionClick",{text:s}),this._removeSuggestedActions()},_cardActionClick:function(e){var s=t(e.target).data("value")||"";this.trigger("actionClick",{text:s})},_renderBubble:function(t,e){this._removeSuggestedActions(),this._removeTypingIndicator();var s=this._getMessageGroup(e);this._appendToGroup(s,t),this._scrollToBottom()},_renderTemplate:function(e,s){var i,n,r,o,c=this.getComponent(e);return c?(n=new c(s,this),i=n.element):(r=this.getTemplate(e),o=l(!0,{},s,{styles:a.styles}),i=t(r(o))),i},_getMessageGroup:function(e){var s,i=a.styles,n=this._getMessageGroupTemplate(e);return e.id===this._lastSender&&null!==this._lastSender&&(s=this.list.find(d+i.messageGroup).last(),s.length)?s:t(n({text:e.name,url:e.iconUrl,styles:i})).appendTo(this.list)},_getMessageGroupTemplate:function(t){var e=t.id===this.options.user.id,s=e?u:p;return s},_appendToGroup:function(t,e){var s=a.styles,i=t.find(d+s.message),n=i.length;e.addClass(0===n?s.only:s.last),i.filter(d+s.only).removeClass(s.only).addClass(s.first),i.filter(d+s.last).removeClass(s.last).addClass(s.middle),t.append(e)},_clearSelection:function(){var t=a.styles.selected;this.element.find(d+t).removeClass(t)},_scrollToBottom:function(){this.list.scrollTop(this.list.prop("scrollHeight"))}}),l(!0,a,{styles:n})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(t,e,s){(s||e)()}),function(t,define){define("chat/messageBox.min",["kendo.core.min"],t)}(function(){return function(t,e){var s=window.kendo,i=s.ui.Widget,n=t.extend,a=t.proxy,r=".",o=".kendoChat",l=s.keys,c='<svg version="1.1" ixmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><path d="M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z"/></svg>',d={input:"k-input",button:"k-button",buttonFlat:"k-flat",buttonIcon:"k-button-icon",buttonSend:"k-button-send",iconAdd:"k-icon k-i-add",hidden:"k-hidden"},g=s.chat.ChatMessageBox=i.extend({init:function(t,e){i.fn.init.call(this,t,e),this._wrapper(),this._attachEvents(),this._typing=!1},events:[],options:{messages:{placeholder:"Type a message..."}},destroy:function(){i.fn.destroy.call(this),this.input&&(this.input.off(o),this.input.remove(),this.input=null),this.element.off(o),this.element.empty()},_wrapper:function(){var e=g.styles,i=this.options.messages,n="inputId_"+s.guid();t("<label>").addClass(e.hidden).html(i.placeholder).attr("for",n).appendTo(this.element),this.input=t("<input type='text'>").addClass(e.input).attr("id",n).attr("placeholder",i.placeholder).appendTo(this.element),t("<button>").addClass(e.button).addClass(e.buttonFlat).addClass(e.buttonIcon).addClass(e.buttonSend).append(t(c)).appendTo(this.element)},_attachEvents:function(){var t=g.styles;this.input.on("keydown"+o,a(this._keydown,this)).on("input"+o,a(this._input,this)).on("focusout"+o,a(this._inputFocusout,this)),this.element.on("click"+o,r+t.buttonSend,a(this._buttonClick,this))},_input:function(){var t=this.input.val(),e=t.length>0;this._triggerTyping(e)},_keydown:function(t){var e=t.keyCode;switch(e){case l.ENTER:t.preventDefault(),this._sendMessage()}},_buttonClick:function(t){t.preventDefault(),this._sendMessage()},_sendMessage:function(){var t,e=this.input.val();e.length&&(this._triggerTyping(!1),t={text:e},this.trigger("sendMessage",t),this.input.val(""))},_inputFocusout:function(){this._triggerTyping(!1)},_triggerTyping:function(t){t?this._typing||(this.trigger("typingStart",{}),this._typing=!0):this._typing&&(this.trigger("typingEnd",{}),this._typing=!1)}});n(!0,g,{styles:d})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(t,e,s){(s||e)()}),function(t,define){define("kendo.chat.min",["chat/view.min","chat/messageBox.min"],t)}(function(){return function(t,e){var s=window.kendo,i=s.ui.Widget,n=t.extend,a=".",r={wrapper:"k-widget k-chat",canvas:"k-chat-canvas",viewWrapper:"k-message-list",messageBoxWrapper:"k-message-box"},o=i.extend({init:function(t,e,n){i.fn.init.call(this,t,e),n&&(this._events=n),this._user(),this._wrapper(),this._view(),this._messageBox(),s.notify(this)},events:["typingStart","typingEnd","post","sendMessage","actionClick"],options:{user:{name:"User",iconUrl:""},name:"Chat",messages:{placeholder:"Type a message..."}},destroy:function(){this.view&&(this.view.unbind(),this.view.destroy(),this.view=null),this.messageBox&&(this.messageBox.unbind(),this.messageBox.destroy(),this.messageBox=null),i.fn.destroy.call(this)},_user:function(){this.options.user.id=s.guid()},getUser:function(){return n(!0,{},this.options.user)},_wrapper:function(){var t=o.styles,e=this.options,s=e.height,i=e.width;this.wrapper=this.element.addClass(t.wrapper).append("<div class='"+t.viewWrapper+"'></div><div class='"+t.messageBoxWrapper+"'></div>"),s&&this.wrapper.height(s),i&&this.wrapper.css("max-width",i)},_view:function(){var t=this,e=o.styles,i=n(!0,{},this.options),r=this.wrapper.find(a+e.viewWrapper+"");this.view=new s.chat.ChatView(r,i),this.view.bind("actionClick",function(e){t.trigger("actionClick",e),t.postMessage(e.text)})},_messageBox:function(){var t=this,e=o.styles,i=n(!0,{},this.options),r=this.wrapper.find(a+e.messageBoxWrapper+"");this.messageBox=new s.chat.ChatMessageBox(r,i),this.messageBox.bind("typingStart",function(e){t.trigger("typingStart",e)}).bind("typingEnd",function(e){t.trigger("typingEnd",e)}).bind("sendMessage",function(e){t.trigger("sendMessage",e),t.postMessage(e.text)})},postMessage:function(t){var e=n(!0,{},{text:t,type:"message",timestamp:new Date,from:this.getUser()});this.trigger("post",e),this.renderMessage(e,e.from)},renderMessage:function(t,e){this.view.renderMessage(t,e)},renderSuggestedActions:function(t){this.view.renderSuggestedActions(t)},renderAttachments:function(t,e){this.view.renderAttachments(t,e)}});s.ui.plugin(o),n(!0,o,{styles:r})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(t,e,s){(s||e)()});
//# sourceMappingURL=kendo.chat.min.js.map
