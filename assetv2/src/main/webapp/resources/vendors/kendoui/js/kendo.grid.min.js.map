{"version":3,"sources":["kendo.grid.js"],"names":["f","define","$","normalizeText","text","String","replace","REPLACE_REGEX","SPACE","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","styleKey","cacheKey","cachedResult","baselineMarker","textStr","box","_baselineMarker","cloneNode","textContent","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","attrEquals","attrName","attrValue","attr","groupCells","count","Array","stringifyAttributes","attributes","result","STRING","cursor","context","add","css","reorder","selector","source","dest","before","idx","sourceIndex","eq","appendTo","elements","lockedContent","content","filter","find","attachCustomCommandEvent","container","commands","command","commandName","isArray","isPlainObject","click","name","on","CLICK","NS","proxy","normalizeColumns","columns","encoded","hide","column","hidden","uid","field","isVisible","addHiddenStyle","footerAttributes","headerAttributes","guid","id","columnParent","parents","columnParents","inserted","splice","setColumnVisibility","visible","method","removeHiddenStyle","isCellVisible","display","visibleColumns","grep","toJQuery","toArray","updateCellRowSpan","cell","sourceLockedColumnsCount","lockedColumnDepth","depth","lockedColumns","nonLockedColumnDepth","nonLockedColumns","rowSpan","moveCellsBetweenContainers","sources","target","leafs","destination","groups","rows","sourcesDepth","targetDepth","children","insertAfter","last","addRowSpanValue","moveCells","updateCellIndex","thead","offset","position","allColumns","cells","leafColumns","el","hasClass","columnPosition","row","temp","max","sourcePosition","columnVisiblePosition","ths","t","append","concat","cellCounts","findParentColumnWithChildren","index","rtl","targetLocked","locked","findReorderTarget","masterColumns","parent","parentColumns","targetIndex","inArray","flatColumnsInDomOrder","flatColumns","targetParentContainerIndex","hiddenLeafColumnsCount","counter","columnsWidth","cols","colWidth","indexOf","parseInt","removeRowSpanValue","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","rowIndex","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","leafDataCells","indexAttr","a","b","indexA","indexB","parentColumnsCells","parentCellsWithChildren","prevCells","parentCell","closest","headerRows","level","prevAll","colSpan","Math","getAttribute","childColumnsCells","child","colSpanAttr","next","appendContent","tbody","table","html","empty","placeholder","tmp","tbodySupportsInnerHtml","innerHTML","firstChild","replaceChild","normalizeCols","hasDetails","colgroup","format","is","prepend","browser","msie","version","setTimeout","normalizeHeaderCells","len","lastIndex","th","insertBefore","convertToObject","array","item","formatGroupValue","columnValues","isForeignKey","groupValue","htmlEncode","setCellVisibility","state","pad","nonDataCellsRegExp","test","className","hideColumnCells","columnIndex","groupRows","data","hasSubgroups","items","groupFooters","aggregates","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","syncTableHeight","table1","table2","lockedHeigth","tableHeigth","diff","filterRowRegExp","adjustRowHeight","row1","row2","offsetHeight1","offsetHeight2","getCommand","focusTable","direct","scrollLeft","focusElement","one","e","preventDefault","focus","isColumnEditable","model","selectable","editable","isInputElement","element","tableClick","currentTarget","isHeader","lockedTable","headerTable","lockedHeader","isInput","currentTable","roleSelector","_setCurrent","navigatable","isIE8","_activeElement","contains","leftMostPosition","support","webkit","isInEdit","groupRowBuilder","colspan","ARIALABEL","COLLAPSE","groupRowLockedContentBuilder","ui","DataSource","ObservableObject","tbodyInnerHtml","activeElement","Widget","outerWidth","_outerWidth","outerHeight","_outerHeight","keys","prototype","isFunction","isEmptyObject","math","PROGRESS","ERROR","DATA_CELL","SELECTION_CELL_SELECTOR","NAVROW","NAVCELL","ITEMROW","FIRSTITEMROW","LASTITEMROW","FIRSTNAVITEM","HEADERCELLS","EDIT","BEFOREEDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","FILTERMENUOPEN","COLUMNMENUOPEN","CELLCLOSE","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","ITEM_CHANGE","PAGE","PAGING","SCROLL","SYNC","FOCUSED","FOCUSABLE","SELECTED","CHECKBOX","CHECKBOXINPUT","NORECORDSCLASS","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","NAVIGATE","HEIGHT","TABINDEX","FUNCTION","BOTTOM","CONTAINER_FOR","FIELD","INPUT","INCELL","INLINE","UNIQUE_ID","DELETECONFIRM","NORECORDS","CONFIRMDELETE","CANCELDELETE","EXPAND","formatRegExp","templateHashRegExp","whitespaceRegExp","RegExp","COMMANDBUTTONTMPL","SELECTCOLUMNTMPL","SELECTCOLUMNHEADERTMPL","isRtl","isIE7","isIE11","VirtualScrollable","that","fn","call","_refreshHandler","refresh","setDataSource","dataSource","wrap","unbind","bind","useRanges","itemHeight","noop","prefetch","maxScrollHeight","events","destroy","wrapper","verticalScrollbar","off","drag","scrollbar","overflow","first","_wheelScroll","_wrapper","kineticScrollNeeded","UserEvents","global","allowSelection","start","sender","capture","move","scrollTop","y","delta","x","_scroll","overflow-y","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","rowHeight","skip","_rangeStart","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","floor","lastItemOffset","ceil","lastItemIndex","_preventScroll","_scrollTop","_scrolling","_fetch","trigger","_scrollingTimeout","clearTimeout","_page","take","scrollToTop","_scrollTo","scrollToBottom","_scrollWrapperToTop","_scrollWrapperToBottom","_scrollWrapperOnColumnResize","initialScrollTop","scrollWidth","clientWidth","_wrapperScrolled","_isScrolledToBottom","_isWrapperScrolledToBottom","_isScrolledToTop","itemIndex","rangeStart","_isElementVisible","_isElementVisibleInWrapper","halfHeight","top","abs","pageSize","scrollIntoView","containerHeight","containerScroll","elementOffset","elementHeight","scrollingUp","currentSkip","fetching","prefetchAt","webkitCorrection","min","total","_fetching","callback","_timeout","inRange","progress","range","repaintScrollbar","shouldScrollWrapper","maxHeight","wrapperElement","wasScrolledToBottom","addScrollBarHeight","totalHeight","action","cancel","page","defaultCommands","create","iconClass","save","edit","update","canceledit","excel","pdf","Grid","DataBoundWidget","_events","_element","_aria","_columns","_dataSource","_tbody","_pageable","_thead","_groupable","_toolbar","_setContentHeight","_templates","_navigatable","_selectable","_clipboard","_details","_editable","_attachCustomCommandsEvent","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","addClass","_resizeHandler","resize","notify","scrollableContent","scrollable","virtual","groupable","virtualScrollable","toolbar","filterable","sortable","allowCopy","pageable","persistSelection","rowTemplate","altRowTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","messages","cancelDelete","confirmation","confirmDelete","expandCollapseColumnHeader","_angularItems","_destroyColumnAttachments","_navigatableTables","pager","kendoGroupable","clearArea","_selectedIds","copyHandler","updateClipBoardState","clearAreaHandler","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyVirtualScrollable","_destroyEditable","_progressHandler","_errorHandler","_removeLockedContainers","pane","minScreenResizeHandler","_draggableInstance","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","scrollables","footer","lockedFooter","_groupableClickHandler","_groupRows","_setContentWidthHandler","getOptions","initialData","_data","group","aggregate","transport","$angular","setOptions","mobileWrapper","currentOptions","_isMobile","after","removeClass","_setEvents","_items","tr","dataItems","n","resizeHandle","angular","each","filterMenu","_cellId","_hasDetails","_createResizeHandle","left","headerWrap","ieCorrection","firefoxCorrection","indicatorWidth","mozilla","show","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","button","buttons","which","_resizeHandleDocumentClick","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","hold","_resizable","columnStart","columnWidth","columnMinWidth","gridWidth","isLocked","col","isMobile","mobileOS","Resizable","handle","hint","header","contentTable","location","minResizableWidth","constrain","totalWidth","rtlMultiplier","currentWidth","_footerWidth","_scrollVirtualWrapperOnColumnResize","resizeend","newWidth","oldWidth","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_draggable","kendoDraggable","autoScroll","dragstart","not","dragend","title","paddingLeft","paddingRight","lineHeight","paddingTop","paddingBottom","_reorderable","kendoReorderable","draggable","dragOverContainers","lockable","inSameContainer","change","oldIndex","newIndex","reorderColumn","_reorderHeader","sourceLockedColumns","targetLockedColumns","destPosition","_reorderContent","footerCol","beforeVisibleColumn","columnsArray","lockedRows","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","headerCol","_findClosestVisibleColumnIndex","slice","prev","_hasFilterRow","reverse","closestVisibleColumn","leafIndex","autoFitColumn","minWidth","contentDiv","footerTable","j","tables","oldColumnWidth","newColumnWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","lockChanged","sourceColumns","destColumn","_updateColumnCellIndex","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unlockColumn","cellIndex","td","lockedColumnOffset","_modelForContainer","_editMode","getByUid","mode","multiple","handler","_editContainer","end","closeCell","_scrollVirtualWrapper","isLockedCell","has","blur","editCell","timer","editRow","_isVirtualInlineEditable","stopPropagation","removeRow","_confirmation","_attachModelChange","_shouldClearEditableState","_clearEditableState","kendoEditable","fields","editor","values","skipFocus","_isVirtualIncellEditable","_editableState","_relatedRow","_adjustLockedHorizontalScrollBar","touchScroller","_adjustRowsHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","close","_actionSheet","purge","navigate","_modelChangeHandler","_modelChange","isCancel","type","_displayCell","ns","dataItem","storage","settings","Template","templateSettings","tmpl","template","_cellTmpl","_removeRow","modelId","schema","cancelRow","sync","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","currentIndex","updateText","cancelText","updateIconClass","cancelIconClass","tempCommand","unescape","_createButton","kendoWindow","modal","userTriggered","clearContainer","_openPopUpEditor","_editAnimation","center","open","Editable","cancelChanges","_displayRow","valid","deferred","Deferred","reject","promise","resolve","related","newRow","nextRow","angularElements","angularData","isSelected","isAlt","replaceWith","_checkBoxSelection","select","_showMessage","actionSheet","view","ActionSheet","cancelTemplate","popup","_actionSheetPopupOptions","confirm","_isVirtualEditable","_virtualPageToTop","saveChanges","addRow","createAt","createAtBottom","toLowerCase","virtualEditable","serverPaging","totalPages","_removeCurrent","_virtualAddRow","insert","_editModel","_firstEditableColumnIndex","_virtualAddRowAtBottom","_virtualAddRowAtTop","at","_virtualPageToBottom","_virtualPage","_toolbarTmpl","prependTo","saveAsExcel","saveAsPDF","attributeClassMatch","Error","split","match","_hasFooters","groupRow","collapseGroup","expandGroup","_isLocked","_attachGroupable","draggables","enabled","Groupable","groupContainer","draggableElements","allowDrag","endless","_endlessPageSize","_skip","_continuousItems","lockedItems","nonLockedItems","apply","multi","notString","Selectable","parseOptions","aria","_persistSelectedRows","useAllItems","relatedTarget","continuousItems","keyCode","SPACEBAR","shiftKey","clear","_lastActive","LEFT","RIGHT","UP","DOWN","selectRange","_firstSelectee","grid","stopImmediatePropagation","copySelection","areaClipBoard","val","getTSV","Event","metaKey","getSelection","selection","createRange","opacity","cellsOffset","lockedCols","inLockedArea","rowsOffset","selected","delimeter","onlyVisible","cellText","any","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","minScreenWidth","hideColumn","showColumn","_relatedCell","clearSelection","_deselectCheckRows","selectableoptions","prop","_toggleHeaderCheckState","checked","allRows","dataSourceOptions","selectedViewIds","selectedKeyNames","property","ids","_updateCurrentAttr","headerId","removeAttr","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","addBack","_rowVirtualIndex","preventTrigger","_lastCellIndex","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","bottomDistance","offsetLeft","dataTables","headerTables","_openHeaderMenu","touch","_tableFocus","_tableBlur","_tableKeyDown","altKey","_setTabIndex","handled","requestInProgress","canHandle","isDefaultPrevented","_moveUp","_moveDown","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","HOME","_handleHome","END","_handleEnd","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","collapseRow","_moveColumn","_prevHorizontalCell","_tabNext","_horizontalContainer","expandRow","_nextHorizontalCell","nextAll","_prevVerticalCell","_verticalContainer","_nextVerticalCell","isLeft","ctrl","rowContainer","isInLockedTable","isInBody","isInCell","_handleEditing","active","_toggleCurrent","link","focusable","originalIndex","_currentDataIndex","lockedColumnsCount","tmpIndex","currentRowCells","hiddenColumns","up","step","right","back","switchRow","isEdited","isIE","oldIE","editContainer","opera","triggerHandler","_initMobile","Pane","documentElement","align","effect","_scrollable","originalPageSize","hasVirtualScroll","_createVirtualScrollable","_scrollLeft","_endlessFetchInProgress","_skipRerenderItemsCount","movable","_averageRowHeight","_restoreEditableState","scroll","_focusEditable","_onVirtualPaging","_cacheEditableState","_isVirtualPopupEditable","editableState","editedModel","inlineMode","incellMode","_getByUid","editedField","_canFocusEditable","widget","widgetInstance","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","hiddenDiv","isNaN","parseFloat","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","isGridHeightSet","scrollableHeight","initialHeight","newHeight","currentRowHeight","itemsCount","_rowHeight","_sum","_measures","_requestStart","_error","_progress","relatedRow","selectableRow","childCells","originalCells","Pager","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","_columnMenu","menu","menuOptions","hasMultiColumnHeaders","initCallback","openCallback","closeCallback","sortHandler","filterHandler","compare","forceUnique","checkSource","owner","filtering","kendoColumnMenu","_headerCells","_filterable","columnFilterable","filterInit","filterOpen","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","suggestDataSource","operators","customDataSource","cellOptions","_updateHeader","delay","inputWidth","suggestionOperator","minLength","dataTextField","operator","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","columnLeafs","initialColumns","headers","_checkboxClick","_headerCheckboxClick","checkBox","parentGrid","getKendoGrid","isSelecting","_tmpl","alt","skipGroupCells","paramName","fieldAttr","dirtyCellTemplate","expr","_dirtyCellTemplate","dirtyField","charAt","_headerCellText","headerTemplate","_dirtyIndicatorTemplate","stringify","useWithBlock","columnsLocked","_detailTmpl","_footerTmpl","g","_noRecordsTmpl","defaultTemplate","scrollableNoGridHeightStyles","templateName","rowClass","scope","fieldsMap","_emptyAggregates","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","detailRow","expanding","masterRow","ariaLabelText","ariaExpandText","toggleClass","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","trFilter","hasFilterRow","filterCellOffset","filterCells","leafColumnsCount","filtercellCells","filterRow","existingFilterRow","syncHeight","hasLockedColumns","hasTHead","_prepareColumns","_updateCols","_retrieveFirstColumn","parentRow","childRow","totalColSpan","_updateHeaderCols","_updateLockedCols","_autoColumns","toJSON","_rowsHtml","templates","_groupRowHtml","groupHeaderBuilder","skipColspan","skipLastGroup","footerData","groupHeaderTemplate","footerDefaults","_groupAggregatesDefaultObject","groupItems","headerData","_skippedGroups","shift","toHide","groupToCollapse","showFooter","footerCount","relatedGroup","_groupToCollapse","footersVisibility","groupsCount","pop","_firstDataItem","grouped","headerCellIndex","_setParentsVisibility","predicate","p","originalColumn","columnLeafIndex","_resize","force","_isActiveInTable","contentScrollLeft","cachedItemsToSkip","isCurrentInHeader","_progressTimeOut","_renderContent","_renderLockedContent","_togglePagerVisibility","_restoreCurrent","contentResized","resetTouchEvents","_muteAngularRebind","_restoreSelection","selectedRows","dataItemKey","cmd","_cleanupDetailItems","_angularGroupItems","_angularGroupFooterItems","flatViewLength","endlessAppend","flatView","alwaysVisible","rows2","containers","containersLength","heights","ExcelMixin","PDFMixin","_drawPDF_autoPageBreak","allPages","startingPage","draw","cont","_destructive","pageNumber","pageNum","drawing","drawDOM","clone","always","then","fail","err","renderPage","origBody","_initPDFProgress","_drawPDF","exportPage","doc","_drawPDFShadow","avoidLinks","done","args","paperSize","Group","pb","loading","kendoProgressBar","chunkCount","plugin"],"mappings":"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","file":"kendo.grid.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\n        var SPACE = ' ';\n        function normalizeText(text) {\n            return String(text).replace(REPLACE_REGEX, SPACE);\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: pre!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = options.box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n                measureBox.textContent = textStr;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (textStr.length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey,\n            normalizeText: normalizeText\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.grid', [\n        'kendo.data',\n        'kendo.columnsorter',\n        'kendo.editable',\n        'kendo.window',\n        'kendo.filtermenu',\n        'kendo.columnmenu',\n        'kendo.groupable',\n        'kendo.pager',\n        'kendo.selectable',\n        'kendo.sortable',\n        'kendo.reorderable',\n        'kendo.resizable',\n        'kendo.mobile.actionsheet',\n        'kendo.mobile.pane',\n        'kendo.ooxml',\n        'kendo.excel',\n        'kendo.progressbar',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'grid',\n        name: 'Grid',\n        category: 'web',\n        description: 'The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.',\n        depends: [\n            'data',\n            'columnsorter',\n            'sortable'\n        ],\n        features: [\n            {\n                id: 'grid-editing',\n                name: 'Editing',\n                description: 'Support for record editing',\n                depends: [\n                    'editable',\n                    'window'\n                ]\n            },\n            {\n                id: 'grid-filtering',\n                name: 'Filtering',\n                description: 'Support for record filtering',\n                depends: ['filtermenu']\n            },\n            {\n                id: 'grid-columnmenu',\n                name: 'Column menu',\n                description: 'Support for header column menu',\n                depends: ['columnmenu']\n            },\n            {\n                id: 'grid-grouping',\n                name: 'Grouping',\n                description: 'Support for grid grouping',\n                depends: ['groupable']\n            },\n            {\n                id: 'grid-filtercell',\n                name: 'Row filter',\n                description: 'Support for grid header filtering',\n                depends: ['filtercell']\n            },\n            {\n                id: 'grid-paging',\n                name: 'Paging',\n                description: 'Support for grid paging',\n                depends: ['pager']\n            },\n            {\n                id: 'grid-selection',\n                name: 'Selection',\n                description: 'Support for row selection',\n                depends: ['selectable']\n            },\n            {\n                id: 'grid-column-reorder',\n                name: 'Column reordering',\n                description: 'Support for column reordering',\n                depends: ['reorderable']\n            },\n            {\n                id: 'grid-column-resize',\n                name: 'Column resizing',\n                description: 'Support for column resizing',\n                depends: ['resizable']\n            },\n            {\n                id: 'grid-mobile',\n                name: 'Grid adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'mobile.actionsheet',\n                    'mobile.pane'\n                ]\n            },\n            {\n                id: 'grid-excel-export',\n                name: 'Excel export',\n                description: 'Export grid data as Excel spreadsheet',\n                depends: ['excel']\n            },\n            {\n                id: 'grid-pdf-export',\n                name: 'PDF export',\n                description: 'Export grid data as PDF',\n                depends: [\n                    'pdf',\n                    'drawing',\n                    'progressbar'\n                ]\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, DataSource = kendo.data.DataSource, ObservableObject = kendo.data.ObservableObject, tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml, activeElement = kendo._activeElement, Widget = ui.Widget, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, keys = kendo.keys, isPlainObject = $.isPlainObject, extend = $.extend, map = $.map, grep = $.grep, isArray = $.isArray, inArray = $.inArray, push = Array.prototype.push, proxy = $.proxy, isFunction = kendo.isFunction, isEmptyObject = $.isEmptyObject, contains = $.contains, math = Math, PROGRESS = 'progress', ERROR = 'error', DATA_CELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', SELECTION_CELL_SELECTOR = 'tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)', NAVROW = 'tr:not(.k-footer-template):visible', NAVCELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', ITEMROW = 'tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible', FIRSTITEMROW = ITEMROW + ':first', LASTITEMROW = ITEMROW + ':last', FIRSTNAVITEM = NAVROW + ':first>' + NAVCELL + ':first', HEADERCELLS = 'th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)', NS = '.kendoGrid', EDIT = 'edit', BEFOREEDIT = 'beforeEdit', SAVE = 'save', REMOVE = 'remove', DETAILINIT = 'detailInit', FILTERMENUINIT = 'filterMenuInit', COLUMNMENUINIT = 'columnMenuInit', FILTERMENUOPEN = 'filterMenuOpen', COLUMNMENUOPEN = 'columnMenuOpen', CELLCLOSE = 'cellClose', CHANGE = 'change', COLUMNHIDE = 'columnHide', COLUMNSHOW = 'columnShow', SAVECHANGES = 'saveChanges', DATABOUND = 'dataBound', DETAILEXPAND = 'detailExpand', DETAILCOLLAPSE = 'detailCollapse', ITEM_CHANGE = 'itemchange', PAGE = 'page', PAGING = 'paging', SCROLL = 'scroll', SYNC = 'sync', FOCUSED = 'k-state-focused', FOCUSABLE = ':kendoFocusable', SELECTED = 'k-state-selected', CHECKBOX = 'k-checkbox', CHECKBOXINPUT = 'input[data-role=\\'checkbox\\'].' + CHECKBOX, NORECORDSCLASS = 'k-grid-norecords', COLUMNRESIZE = 'columnResize', COLUMNREORDER = 'columnReorder', COLUMNLOCK = 'columnLock', COLUMNUNLOCK = 'columnUnlock', NAVIGATE = 'navigate', CLICK = 'click', HEIGHT = 'height', TABINDEX = 'tabIndex', FUNCTION = 'function', STRING = 'string', BOTTOM = 'bottom', CONTAINER_FOR = 'container-for', FIELD = 'field', INPUT = 'input', INCELL = 'incell', INLINE = 'inline', UNIQUE_ID = 'uid', DELETECONFIRM = 'Are you sure you want to delete this record?', NORECORDS = 'No records available.', CONFIRMDELETE = 'Delete', CANCELDELETE = 'Cancel', COLLAPSE = 'Collapse', EXPAND = 'Expand', ARIALABEL = 'aria-label', formatRegExp = /(\\}|\\#)/gi, templateHashRegExp = /#/gi, whitespaceRegExp = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', nonDataCellsRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-group-cell|k-hierarchy-cell)' + '(' + whitespaceRegExp + '|$)'), filterRowRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-filter-row)' + '(' + whitespaceRegExp + '|$)'), COMMANDBUTTONTMPL = '# if (iconClass) {#' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\"><span class=\"#=iconClass#\"></span>#=text#</a>' + '# } else { #' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\">#=text#</a>' + '# } #', SELECTCOLUMNTMPL = '# var checkboxGuid = kendo.guid(); #' + '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" id=\"#= checkboxGuid #\" aria-label=\"Select row\" aria-checked=\"false\" type=\"checkbox\">' + '<label for=\"#= checkboxGuid #\" class=\"k-checkbox-label k-no-text\">&\\\\#8203;</label>', SELECTCOLUMNHEADERTMPL = '# var checkboxGuid = kendo.guid(); #' + '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" aria-label=\"Select all rows\" aria-checked=\"false\" type=\"checkbox\" id=\"#= checkboxGuid #\">' + '<label for=\"#= checkboxGuid #\" class=\"k-checkbox-label k-no-text\">##&\\\\#8203;##</label>', isRtl = false, browser = kendo.support.browser, isIE7 = browser.msie && browser.version == 7, isIE8 = browser.msie && browser.version == 8;\n        var isIE11 = browser.msie && browser.version === 11;\n        var VirtualScrollable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._refreshHandler = proxy(that.refresh, that);\n                that.setDataSource(options.dataSource);\n                that.wrap();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                }\n                that.dataSource = dataSource;\n                that.dataSource.bind(CHANGE, that._refreshHandler);\n                that.dataSource.options.useRanges = true;\n            },\n            options: {\n                name: 'VirtualScrollable',\n                itemHeight: $.noop,\n                prefetch: true,\n                maxScrollHeight: 250000\n            },\n            events: [\n                PAGING,\n                PAGE,\n                SCROLL\n            ],\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.wrapper.add(that.verticalScrollbar).off(NS);\n                if (that.drag) {\n                    that.drag.destroy();\n                    that.drag = null;\n                }\n                that.wrapper = that.element = that.verticalScrollbar = null;\n                that._refreshHandler = null;\n            },\n            wrap: function () {\n                var that = this, scrollbar = kendo.support.scrollbar() + 1, element = that.element, wrapper;\n                element.css({\n                    width: 'auto',\n                    overflow: 'hidden'\n                }).css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                that.content = element.children().first();\n                wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>').parent().bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                that._wrapper();\n                if (kendo.support.kineticScrollNeeded) {\n                    that.drag = new kendo.UserEvents(that.wrapper, {\n                        global: true,\n                        allowSelection: true,\n                        start: function (e) {\n                            e.sender.capture();\n                        },\n                        move: function (e) {\n                            that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                            wrapper.scrollLeft(wrapper.scrollLeft() - e.x.delta);\n                            e.preventDefault();\n                        }\n                    });\n                }\n                that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" />').css({ width: scrollbar }).appendTo(element).bind('scroll' + NS, proxy(that._scroll, that));\n            },\n            _wrapper: function () {\n                var that = this;\n                if (isIE11) {\n                    that.wrapper.css({ 'overflow-y': SCROLL });\n                    that.element.css(isRtl ? 'padding-left' : 'padding-right', 0);\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var scrollbar = this.verticalScrollbar, scrollTop = scrollbar.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                    e.preventDefault();\n                    this.verticalScrollbar.scrollTop(scrollTop + -delta);\n                }\n            },\n            _scroll: function (e) {\n                var that = this, delayLoading = !that.options.prefetch, scrollTop = e.currentTarget.scrollTop, dataSource = that.dataSource, rowHeight = that.itemHeight, skip = dataSource.skip() || 0, start = that._rangeStart || skip, height = that.element.innerHeight(), isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop), firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0), lastItemOffset = isScrollingUp ? math.ceil(height / rowHeight) : math.floor(height / rowHeight), lastItemIndex = math.max(firstItemIndex + lastItemOffset, 0);\n                if (that._preventScroll) {\n                    that._preventScroll = false;\n                    return;\n                }\n                that._scrollTop = scrollTop - start * rowHeight;\n                that._scrollbarTop = scrollTop;\n                that._scrolling = delayLoading;\n                if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                    that.wrapper[0].scrollTop = that._scrollTop;\n                }\n                that.trigger(SCROLL);\n                if (delayLoading) {\n                    if (that._scrollingTimeout) {\n                        clearTimeout(that._scrollingTimeout);\n                    }\n                    that._scrollingTimeout = setTimeout(function () {\n                        that._scrolling = false;\n                        that._page(that._rangeStart, that.dataSource.take());\n                    }, 100);\n                }\n            },\n            scrollToTop: function () {\n                this._scrollTo(0);\n            },\n            scrollToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                this._scrollTo(scrollbar[0].scrollHeight - scrollbar.height());\n            },\n            _scrollWrapperToTop: function () {\n                this.wrapper.scrollTop(0);\n            },\n            _scrollWrapperToBottom: function () {\n                this.wrapper.scrollTop(this.wrapper[0].scrollHeight);\n            },\n            _scrollWrapperOnColumnResize: function () {\n                var that = this;\n                var wrapper = this.wrapper;\n                var initialScrollTop = wrapper.scrollTop();\n                if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n                    if (!that._wrapperScrolled || that._isScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop + kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                        that._wrapperScrolled = true;\n                    }\n                } else if (that._wrapperScrolled) {\n                    if (!that._isWrapperScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop - kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                    }\n                    that._wrapperScrolled = false;\n                }\n            },\n            _scrollTo: function (scrollTop) {\n                var that = this;\n                var scrollbar = that.verticalScrollbar;\n                if (scrollbar.scrollTop() !== scrollTop) {\n                    that._preventScroll = true;\n                }\n                that.wrapper.scrollTop(scrollTop);\n                that._scrollTop = that.wrapper.scrollTop();\n                scrollbar.scrollTop(scrollTop);\n                that._scrollbarTop = scrollbar.scrollTop();\n            },\n            _isScrolledToTop: function () {\n                return this.verticalScrollbar.scrollTop() === 0;\n            },\n            _isScrolledToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                var scrollTop = scrollbar.scrollTop();\n                return scrollTop > 0 && scrollTop >= parseInt(scrollbar[0].scrollHeight - scrollbar.height(), 10);\n            },\n            _isWrapperScrolledToBottom: function () {\n                var wrapper = this.wrapper;\n                return wrapper.scrollTop() >= parseInt(wrapper[0].scrollHeight - wrapper.height(), 10);\n            },\n            itemIndex: function (rowIndex) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                return rangeStart + rowIndex;\n            },\n            _isElementVisible: function (element) {\n                return this._isElementVisibleInWrapper(element);\n            },\n            _isElementVisibleInWrapper: function (element) {\n                var that = this;\n                var wrapper = that.wrapper;\n                var offsetTop;\n                var halfHeight;\n                element = $(element);\n                if (element[0] && contains(wrapper[0], element[0])) {\n                    offsetTop = element.offset().top - wrapper.offset().top;\n                    halfHeight = element.outerHeight() / 2;\n                    if ((offsetTop >= 0 || math.abs(offsetTop) <= halfHeight) && math.floor(offsetTop + halfHeight) <= wrapper.height()) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            position: function (index) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                var pageSize = this.dataSource.pageSize();\n                var result;\n                if (index > rangeStart) {\n                    result = index - rangeStart + 1;\n                } else {\n                    result = rangeStart - index - 1;\n                }\n                return result > pageSize ? pageSize : result;\n            },\n            scrollIntoView: function (row) {\n                var container = this.wrapper[0];\n                var containerHeight = container.clientHeight;\n                var containerScroll = !this._isScrolledToBottom() ? this._scrollTop || container.scrollTop : container.scrollTop;\n                var elementOffset = row[0].offsetTop;\n                var elementHeight = row[0].offsetHeight;\n                if (containerScroll > elementOffset) {\n                    this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n                } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                    this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n                }\n            },\n            _fetch: function (firstItemIndex, lastItemIndex, scrollingUp) {\n                var that = this, dataSource = that.dataSource, itemHeight = that.itemHeight, take = dataSource.take(), rangeStart = that._rangeStart || dataSource.skip() || 0, currentSkip = math.floor(firstItemIndex / take) * take, fetching = false, prefetchAt = 0.33;\n                var scrollbar = that.verticalScrollbar;\n                var webkitCorrection = browser.webkit ? 1 : 0;\n                if (firstItemIndex < rangeStart) {\n                    fetching = true;\n                    rangeStart = math.max(0, lastItemIndex - take);\n                    that._scrollTop = scrollbar.scrollTop() - rangeStart * itemHeight;\n                    that._page(rangeStart, take);\n                } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n                    fetching = true;\n                    rangeStart = math.min(firstItemIndex, dataSource.total() - take);\n                    if (scrollbar.scrollTop() >= scrollbar[0].scrollHeight - scrollbar.height() - webkitCorrection) {\n                        that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper.height();\n                    } else {\n                        that._scrollTop = itemHeight;\n                    }\n                    that._page(rangeStart, take);\n                } else if (!that._fetching && that.options.prefetch) {\n                    if (firstItemIndex < currentSkip + take - take * prefetchAt && firstItemIndex > take) {\n                        dataSource.prefetch(currentSkip - take, take, $.noop);\n                    }\n                    if (lastItemIndex > currentSkip + take * prefetchAt) {\n                        dataSource.prefetch(currentSkip + take, take, $.noop);\n                    }\n                }\n                return fetching;\n            },\n            fetching: function () {\n                return this._fetching;\n            },\n            _page: function (skip, take, callback) {\n                var that = this, delayLoading = !that.options.prefetch, dataSource = that.dataSource;\n                callback = isFunction(callback) ? callback : $.noop;\n                if (that.trigger(PAGING, {\n                        skip: skip,\n                        take: take\n                    })) {\n                    return;\n                }\n                clearTimeout(that._timeout);\n                that._fetching = true;\n                that._rangeStart = skip;\n                if (dataSource.inRange(skip, take)) {\n                    kendo.ui.progress($(that.wrapper).parent(), true);\n                    dataSource.range(skip, take, function () {\n                        kendo.ui.progress($(that.wrapper).parent(), false);\n                        callback();\n                        that.trigger(PAGE);\n                    });\n                } else {\n                    if (!delayLoading) {\n                        kendo.ui.progress(that.wrapper.parent(), true);\n                    }\n                    that._timeout = setTimeout(function () {\n                        if (!that._scrolling) {\n                            if (delayLoading) {\n                                kendo.ui.progress(that.wrapper.parent(), true);\n                            }\n                            dataSource.range(skip, take, function () {\n                                kendo.ui.progress(that.wrapper.parent(), false);\n                                callback();\n                                that.trigger(PAGE);\n                            });\n                        }\n                    }, 100);\n                }\n            },\n            repaintScrollbar: function (shouldScrollWrapper) {\n                var that = this, html = '', maxHeight = that.options.maxScrollHeight, dataSource = that.dataSource, scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0, wrapperElement = that.wrapper[0], totalHeight, idx, itemHeight;\n                var wasScrolledToBottom = that._isScrolledToBottom();\n                itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n                var addScrollBarHeight = wrapperElement.scrollWidth > wrapperElement.offsetWidth ? scrollbar : 0;\n                totalHeight = dataSource.total() * itemHeight + addScrollBarHeight;\n                for (idx = 0; idx < math.floor(totalHeight / maxHeight); idx++) {\n                    html += '<div style=\"width:1px;height:' + maxHeight + 'px\"></div>';\n                }\n                if (totalHeight % maxHeight) {\n                    html += '<div style=\"width:1px;height:' + totalHeight % maxHeight + 'px\"></div>';\n                }\n                that.verticalScrollbar.html(html);\n                if (wasScrolledToBottom && !that._isScrolledToBottom()) {\n                    that.scrollToBottom();\n                }\n                if (typeof that._scrollTop !== 'undefined' && !!shouldScrollWrapper) {\n                    wrapperElement.scrollTop = that._scrollTop;\n                    that._scrollWrapperOnColumnResize();\n                }\n            },\n            refresh: function (e) {\n                var that = this, dataSource = that.dataSource, rangeStart = that._rangeStart;\n                var action = (e || {}).action;\n                var shouldScrollWrapper = that._isScrolledToBottom() || !action || action !== ITEM_CHANGE && action !== REMOVE && action !== SYNC;\n                kendo.ui.progress(that.wrapper.parent(), false);\n                clearTimeout(that._timeout);\n                that.repaintScrollbar(shouldScrollWrapper);\n                if (that.drag) {\n                    that.drag.cancel();\n                }\n                if (typeof rangeStart !== 'undefined' && !that._fetching) {\n                    if (!action || action !== SYNC && action !== ITEM_CHANGE) {\n                        that._rangeStart = dataSource.skip();\n                    }\n                    if (dataSource.page() === 1 && (!action || action !== SYNC && action !== ITEM_CHANGE)) {\n                        that.verticalScrollbar[0].scrollTop = 0;\n                    }\n                }\n                that._fetching = false;\n            }\n        });\n        function attrEquals(attrName, attrValue) {\n            return '[' + kendo.attr(attrName) + '=' + attrValue + ']';\n        }\n        function groupCells(count) {\n            return new Array(count + 1).join('<td class=\"k-group-cell\">&nbsp;</td>');\n        }\n        function stringifyAttributes(attributes) {\n            var attr, result = ' ';\n            if (attributes) {\n                if (typeof attributes === STRING) {\n                    return attributes;\n                }\n                for (attr in attributes) {\n                    if (attributes[attr] !== '') {\n                        result += attr + '=\"' + attributes[attr] + '\"';\n                    }\n                }\n            }\n            return result;\n        }\n        var defaultCommands = {\n            create: {\n                text: 'Add new record',\n                className: 'k-grid-add',\n                iconClass: 'k-icon k-i-plus'\n            },\n            cancel: {\n                text: 'Cancel changes',\n                className: 'k-grid-cancel-changes',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            save: {\n                text: 'Save changes',\n                className: 'k-grid-save-changes',\n                iconClass: 'k-icon k-i-check'\n            },\n            destroy: {\n                text: 'Delete',\n                className: 'k-grid-delete',\n                iconClass: 'k-icon k-i-close'\n            },\n            edit: {\n                text: 'Edit',\n                className: 'k-grid-edit',\n                iconClass: 'k-icon k-i-edit'\n            },\n            update: {\n                text: 'Update',\n                className: 'k-primary k-grid-update',\n                iconClass: 'k-icon k-i-check'\n            },\n            canceledit: {\n                text: 'Cancel',\n                className: 'k-grid-cancel',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            excel: {\n                text: 'Export to Excel',\n                className: 'k-grid-excel',\n                iconClass: 'k-icon k-i-file-excel'\n            },\n            pdf: {\n                text: 'Export to PDF',\n                className: 'k-grid-pdf',\n                iconClass: 'k-icon k-i-file-pdf'\n            }\n        };\n        function cursor(context, value) {\n            $('th, th .k-grid-filter, th .k-link', context).add(document.body).css('cursor', value);\n        }\n        function reorder(selector, source, dest, before, count) {\n            var sourceIndex = source;\n            source = $();\n            count = count || 1;\n            for (var idx = 0; idx < count; idx++) {\n                source = source.add(selector.eq(sourceIndex + idx));\n            }\n            if (typeof dest == 'number') {\n                source[before ? 'insertBefore' : 'insertAfter'](selector.eq(dest));\n            } else {\n                source.appendTo(dest);\n            }\n        }\n        function elements(lockedContent, content, filter) {\n            return $(lockedContent).add(content).find(filter);\n        }\n        function attachCustomCommandEvent(context, container, commands) {\n            var idx, length, command, commandName;\n            commands = !isArray(commands) ? [commands] : commands;\n            for (idx = 0, length = commands.length; idx < length; idx++) {\n                command = commands[idx];\n                if (isPlainObject(command) && command.click) {\n                    commandName = command.name || command.text;\n                    container.on(CLICK + NS, 'a.k-grid-' + (commandName || '').replace(/\\s/g, ''), { commandName: commandName }, proxy(command.click, context));\n                }\n            }\n        }\n        function normalizeColumns(columns, encoded, hide) {\n            return map(columns, function (column) {\n                column = typeof column === STRING ? { field: column } : column;\n                var hidden;\n                if (!isVisible(column) || hide) {\n                    column.attributes = addHiddenStyle(column.attributes);\n                    column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                    column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                    hidden = true;\n                }\n                if (column.columns) {\n                    column.columns = normalizeColumns(column.columns, encoded, hidden);\n                }\n                var uid = kendo.guid();\n                column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                return extend({\n                    encoded: encoded,\n                    hidden: hidden\n                }, column);\n            });\n        }\n        function columnParent(column, columns) {\n            var parents = [];\n            columnParents(column, columns, parents);\n            return parents[parents.length - 1];\n        }\n        function columnParents(column, columns, parents) {\n            parents = parents || [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (column === columns[idx]) {\n                    return true;\n                } else if (columns[idx].columns) {\n                    var inserted = parents.length;\n                    parents.push(columns[idx]);\n                    if (!columnParents(column, columns[idx].columns, parents)) {\n                        parents.splice(inserted, parents.length - inserted);\n                    } else {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        function setColumnVisibility(column, visible) {\n            var method = visible ? removeHiddenStyle : addHiddenStyle;\n            column.hidden = !visible;\n            column.attributes = method(column.attributes);\n            column.footerAttributes = method(column.footerAttributes);\n            column.headerAttributes = method(column.headerAttributes);\n        }\n        function isCellVisible() {\n            return this.style.display !== 'none';\n        }\n        function isVisible(column) {\n            return visibleColumns([column]).length > 0;\n        }\n        function visibleColumns(columns) {\n            return grep(columns, function (column) {\n                var result = !column.hidden;\n                if (result && column.columns) {\n                    result = visibleColumns(column.columns).length > 0;\n                }\n                return result;\n            });\n        }\n        function toJQuery(elements) {\n            return $(elements).map(function () {\n                return this.toArray();\n            });\n        }\n        function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n            var lockedColumnDepth = depth(lockedColumns(columns));\n            var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n            var rowSpan = cell.rowSpan;\n            if (sourceLockedColumnsCount) {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan - (lockedColumnDepth - nonLockedColumnDepth) || 1;\n                } else {\n                    cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n                }\n            } else {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n                } else {\n                    cell.rowSpan = rowSpan - (nonLockedColumnDepth - lockedColumnDepth) || 1;\n                }\n            }\n        }\n        function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups) {\n            var sourcesDepth = depth(sources);\n            var targetDepth = depth([target]);\n            if (sourcesDepth > targetDepth) {\n                var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>');\n                var rows = destination.children(':not(.k-filter-row)');\n                $(new Array(sourcesDepth - targetDepth + 1).join('<tr>' + groupCells + '</tr>')).insertAfter(rows.last());\n            }\n            addRowSpanValue(destination, sourcesDepth - targetDepth);\n            moveCells(leafs, columns, container, destination);\n        }\n        function updateCellIndex(thead, columns, offset) {\n            offset = offset || 0;\n            var position;\n            var cell;\n            var allColumns = columns;\n            columns = leafColumns(columns);\n            var cells = {};\n            var rows = thead.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            for (var idx = 0, length = columns.length; idx < length; idx++) {\n                position = columnPosition(columns[idx], allColumns);\n                if (!cells[position.row]) {\n                    cells[position.row] = rows.eq(position.row).find('.k-header').filter(filter);\n                }\n                cell = cells[position.row].eq(position.cell);\n                cell.attr(kendo.attr('index'), offset + idx);\n            }\n            return columns.length;\n        }\n        function depth(columns) {\n            var result = 1;\n            var max = 0;\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].columns) {\n                    var temp = depth(columns[idx].columns);\n                    if (temp > max) {\n                        max = temp;\n                    }\n                }\n            }\n            return result + max;\n        }\n        function moveCells(leafs, columns, container, destination) {\n            var sourcePosition = columnVisiblePosition(leafs[0], columns);\n            var ths = container.find('>tr:not(.k-filter-row):eq(' + sourcePosition.row + ')>th.k-header');\n            var t = $();\n            var sourceIndex = sourcePosition.cell;\n            var idx;\n            for (idx = 0; idx < leafs.length; idx++) {\n                t = t.add(ths.eq(sourceIndex + idx));\n            }\n            destination.find('>tr:not(.k-filter-row)').eq(sourcePosition.row).append(t);\n            var children = [];\n            for (idx = 0; idx < leafs.length; idx++) {\n                if (leafs[idx].columns) {\n                    children = children.concat(leafs[idx].columns);\n                }\n            }\n            if (children.length) {\n                moveCells(children, columns, container, destination);\n            }\n        }\n        function columnPosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                cellCounts[row]++;\n            }\n            return result;\n        }\n        function findParentColumnWithChildren(columns, index, source, rtl) {\n            var target;\n            var locked = !!source.locked;\n            var targetLocked;\n            do {\n                target = columns[index];\n                index += rtl ? 1 : -1;\n                targetLocked = !!target.locked;\n            } while (target && index > -1 && index < columns.length && target != source && !target.columns && targetLocked === locked);\n            return target;\n        }\n        function findReorderTarget(columns, target, source, before, masterColumns) {\n            if (target.columns) {\n                target = target.columns;\n                return target[before ? 0 : target.length - 1];\n            } else {\n                var parent = columnParent(target, columns);\n                var parentColumns;\n                if (parent) {\n                    parentColumns = parent.columns;\n                } else {\n                    parentColumns = columns;\n                }\n                var index = inArray(target, parentColumns);\n                if (index === 0 && before) {\n                    index++;\n                } else if (index == parentColumns.length - 1 && !before) {\n                    index--;\n                } else if (index > 0 || index === 0 && !before) {\n                    index += before ? -1 : 1;\n                }\n                var sourceIndex = inArray(source, parentColumns);\n                target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n                var targetIndex = inArray(target, masterColumns);\n                if (target.columns && (!targetIndex || targetIndex === parentColumns.length - 1)) {\n                    return null;\n                }\n                if (target && target != source && target.columns) {\n                    return findReorderTarget(columns, target, source, before, masterColumns);\n                }\n            }\n            return null;\n        }\n        function columnVisiblePosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                if (!columns[idx].hidden) {\n                    cellCounts[row]++;\n                }\n            }\n            return result;\n        }\n        function flatColumnsInDomOrder(columns) {\n            var result = flatColumns(lockedColumns(columns));\n            return result.concat(flatColumns(nonLockedColumns(columns)));\n        }\n        function targetParentContainerIndex(flatColumns, columns, sourceIndex, targetIndex) {\n            var column = flatColumns[sourceIndex];\n            var target = flatColumns[targetIndex];\n            var parent = columnParent(column, columns);\n            columns = parent ? parent.columns : columns;\n            return inArray(target, columns);\n        }\n        function flatColumns(columns) {\n            var result = [];\n            var children = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                result.push(columns[idx]);\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                result = result.concat(flatColumns(children));\n            }\n            return result;\n        }\n        function hiddenLeafColumnsCount(columns) {\n            var counter = 0;\n            var column;\n            for (var idx = 0; idx < columns.length; idx++) {\n                column = columns[idx];\n                if (column.columns) {\n                    counter += hiddenLeafColumnsCount(column.columns);\n                } else if (column.hidden) {\n                    counter++;\n                }\n            }\n            return counter;\n        }\n        function columnsWidth(cols) {\n            var colWidth, width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                colWidth = cols[idx].style.width;\n                if (colWidth && colWidth.indexOf('%') == -1) {\n                    width += parseInt(colWidth, 10);\n                }\n            }\n            return width;\n        }\n        function removeRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            var rowSpan;\n            for (var idx = 0; idx < cells.length; idx++) {\n                rowSpan = cells[idx].rowSpan;\n                if (rowSpan > 1) {\n                    cells[idx].rowSpan = rowSpan - count || 1;\n                }\n            }\n        }\n        function addRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                cells[idx].rowSpan += count;\n            }\n        }\n        function removeEmptyRows(container) {\n            var rows = container.find('tr:not(.k-filter-row)');\n            var emptyRowsCount = rows.filter(function () {\n                return !$(this).children().length;\n            }).remove().length;\n            var cells = rows.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                if (cells[idx].rowSpan > 1) {\n                    cells[idx].rowSpan -= emptyRowsCount;\n                }\n            }\n            return rows.length - emptyRowsCount;\n        }\n        function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n            var idx, row, length, children = [];\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                row = rows[rowIndex] || [];\n                row.push(cells.eq(offset + idx));\n                rows[rowIndex] = row;\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n            }\n        }\n        function lockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked;\n            });\n        }\n        function nonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked;\n            });\n        }\n        function visibleNonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked && isVisible(column);\n            });\n        }\n        function visibleLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked && isVisible(column);\n            });\n        }\n        function visibleLeafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].hidden) {\n                    continue;\n                }\n                if (columns[idx].columns) {\n                    result = result.concat(visibleLeafColumns(columns[idx].columns));\n                } else {\n                    result.push(columns[idx]);\n                }\n            }\n            return result;\n        }\n        function leafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (!columns[idx].columns) {\n                    result.push(columns[idx]);\n                    continue;\n                }\n                result = result.concat(leafColumns(columns[idx].columns));\n            }\n            return result;\n        }\n        function leafDataCells(container) {\n            var rows = container.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            var cells = $();\n            if (rows.length > 1) {\n                cells = rows.find('th').filter(filter).filter(function () {\n                    return this.rowSpan > 1;\n                });\n            }\n            cells = cells.add(rows.last().find('th').filter(filter));\n            var indexAttr = kendo.attr('index');\n            cells.sort(function (a, b) {\n                a = $(a);\n                b = $(b);\n                var indexA = a.attr(indexAttr);\n                var indexB = b.attr(indexAttr);\n                if (indexA === undefined) {\n                    indexA = $(a).index();\n                }\n                if (indexB === undefined) {\n                    indexB = $(b).index();\n                }\n                indexA = parseInt(indexA, 10);\n                indexB = parseInt(indexB, 10);\n                return indexA > indexB ? 1 : indexA < indexB ? -1 : 0;\n            });\n            return cells;\n        }\n        function parentColumnsCells(cell) {\n            var container = cell.closest('table');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row);\n            if (level > 0) {\n                var parent = headerRows.eq(level - 1);\n                var parentCellsWithChildren = parent.find('th:not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return !$(this).attr('rowspan');\n                });\n                var offset = 0;\n                var index = row.find('th:not(.k-group-cell,.k-hierarchy-cell)').index(cell);\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return this.colSpan > 1;\n                });\n                for (var idx = 0; idx < prevCells.length; idx++) {\n                    offset += prevCells[idx].colSpan || 1;\n                }\n                index += Math.max(offset - 1, 0);\n                offset = 0;\n                for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                    var parentCell = parentCellsWithChildren.eq(idx);\n                    if (parentCell.attr('data-colspan')) {\n                        offset += parentCell[0].getAttribute('data-colspan');\n                    } else {\n                        offset += 1;\n                    }\n                    if (index >= idx && index < offset) {\n                        result = parentColumnsCells(parentCell).add(result);\n                        break;\n                    }\n                }\n            }\n            return result;\n        }\n        function childColumnsCells(cell) {\n            var container = cell.closest('thead');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row) + cell[0].rowSpan;\n            var colSpanAttr = kendo.attr('colspan');\n            if (level <= headerRows.length - 1) {\n                var child = row.next();\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)');\n                var idx;\n                prevCells = prevCells.filter(function () {\n                    return !this.rowSpan || this.rowSpan === 1;\n                });\n                var offset = 0;\n                for (idx = 0; idx < prevCells.length; idx++) {\n                    offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n                }\n                var cells = child.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n                idx = 0;\n                while (idx < colSpan) {\n                    child = cells.eq(idx + offset);\n                    result = result.add(childColumnsCells(child));\n                    var value = parseInt(child.attr(colSpanAttr), 10);\n                    if (value > 1) {\n                        colSpan -= value - 1;\n                    }\n                    idx++;\n                }\n            }\n            return result;\n        }\n        function appendContent(tbody, table, html, empty) {\n            var placeholder, tmp = tbody;\n            if (empty) {\n                tbody.empty();\n            }\n            if (tbodySupportsInnerHtml) {\n                tbody[0].innerHTML = html;\n            } else {\n                placeholder = document.createElement('div');\n                placeholder.innerHTML = '<table><tbody>' + html + '</tbody></table>';\n                tbody = placeholder.firstChild.firstChild;\n                table[0].replaceChild(tbody, tmp[0]);\n                tbody = $(tbody);\n            }\n            return tbody;\n        }\n        function addHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (!style) {\n                style = 'display:none';\n            } else {\n                style = style.replace(/((.*)?display)(.*)?:([^;]*)/i, '$1:none');\n                if (style === attr.style) {\n                    style = style.replace(/(.*)?/i, 'display:none;$1');\n                }\n            }\n            return extend({}, attr, { style: style });\n        }\n        function removeHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (style) {\n                attr.style = style.replace(/(display\\s*:\\s*none\\s*;?)*/gi, '');\n            }\n            return attr;\n        }\n        function normalizeCols(table, visibleColumns, hasDetails, groups) {\n            var colgroup = table.find('>colgroup'), width, cols = map(visibleColumns, function (column) {\n                    width = column.width;\n                    if (width && parseInt(width, 10) !== 0) {\n                        return kendo.format('<col style=\"width:{0}\"/>', typeof width === STRING ? width : width + 'px');\n                    }\n                    return '<col />';\n                });\n            if (hasDetails || colgroup.find('.k-hierarchy-col').length) {\n                cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n            }\n            if (colgroup.length) {\n                colgroup.remove();\n            }\n            colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(''));\n            if (!colgroup.is('colgroup')) {\n                colgroup = $('<colgroup/>').append(colgroup);\n            }\n            table.prepend(colgroup);\n            if (browser.msie && browser.version == 8) {\n                table.css('display', 'inline-table');\n                window.setTimeout(function () {\n                    table.css('display', '');\n                }, 1);\n            }\n        }\n        function normalizeHeaderCells(container, columns) {\n            var lastIndex = 0;\n            var idx, len;\n            var th = container.find('th:not(.k-group-cell)');\n            for (idx = 0, len = columns.length; idx < len; idx++) {\n                if (columns[idx].locked) {\n                    th.eq(idx).insertBefore(th.eq(lastIndex));\n                    th = container.find('th:not(.k-group-cell)');\n                    lastIndex++;\n                }\n            }\n        }\n        function convertToObject(array) {\n            var result = {}, item, idx, length;\n            for (idx = 0, length = array.length; idx < length; idx++) {\n                item = array[idx];\n                result[item.value] = item.text;\n            }\n            return result;\n        }\n        function formatGroupValue(value, format, columnValues, encoded) {\n            var isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0], groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n            groupValue = groupValue != null ? groupValue : '';\n            return format ? kendo.format(format, groupValue) : encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n        }\n        function setCellVisibility(cells, index, visible) {\n            var pad = 0, state, cell = cells[pad];\n            while (cell) {\n                state = visible ? true : cell.style.display !== 'none';\n                if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                    cell.style.display = visible ? '' : 'none';\n                    break;\n                }\n                cell = cells[++pad];\n            }\n        }\n        function hideColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                        cell.find('col').eq(columnIndex).remove();\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, false);\n                }\n            }\n        }\n        function groupRows(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                result.push(item);\n                if (item.hasSubgroups) {\n                    result = result.concat(groupRows(item.items));\n                }\n            }\n            return result;\n        }\n        function groupFooters(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                if (item.hasSubgroups) {\n                    result = result.concat(groupFooters(item.items));\n                }\n                result.push(item.aggregates);\n            }\n            return result;\n        }\n        function showColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row, columns;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                        normalizeCols(cell.find('>form>table'), visibleColumns(columns), false, 0);\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, true);\n                }\n            }\n        }\n        function updateColspan(toAdd, toRemove, num) {\n            num = num || 1;\n            var item, idx, length;\n            for (idx = 0, length = toAdd.length; idx < length; idx++) {\n                item = toAdd.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) + num);\n                item = toRemove.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) - num);\n            }\n        }\n        function tableWidth(table) {\n            var idx, length, width = 0;\n            var cols = table.find('>colgroup>col');\n            for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                width += parseInt(cols[idx].style.width, 10);\n            }\n            return width;\n        }\n        var Grid = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options, events) {\n                var that = this;\n                options = isArray(options) ? { dataSource: options } : options;\n                Widget.fn.init.call(that, element, options);\n                if (events) {\n                    that._events = events;\n                }\n                isRtl = kendo.support.isRtl(element);\n                that._element();\n                that._aria();\n                that._columns($.extend(true, [], that.options.columns));\n                that._dataSource();\n                that._tbody();\n                that._pageable();\n                that._thead();\n                that._groupable();\n                that._toolbar();\n                that._setContentHeight();\n                that._templates();\n                that._navigatable();\n                that._selectable();\n                that._clipboard();\n                that._details();\n                that._editable();\n                that._attachCustomCommandsEvent();\n                that._minScreenSupport();\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                } else {\n                    that._group = that._groups() > 0;\n                    that._footer();\n                }\n                if (that.lockedContent) {\n                    that.wrapper.addClass('k-grid-lockedcolumns');\n                    that._resizeHandler = function () {\n                        that.resize();\n                    };\n                    $(window).on('resize' + NS, that._resizeHandler);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CHANGE,\n                'dataBinding',\n                'cancel',\n                DATABOUND,\n                DETAILEXPAND,\n                DETAILCOLLAPSE,\n                DETAILINIT,\n                FILTERMENUINIT,\n                FILTERMENUOPEN,\n                COLUMNMENUINIT,\n                COLUMNMENUOPEN,\n                EDIT,\n                BEFOREEDIT,\n                SAVE,\n                REMOVE,\n                SAVECHANGES,\n                CELLCLOSE,\n                COLUMNRESIZE,\n                COLUMNREORDER,\n                COLUMNSHOW,\n                COLUMNHIDE,\n                COLUMNLOCK,\n                COLUMNUNLOCK,\n                NAVIGATE,\n                'page',\n                'sort',\n                'filter',\n                'group',\n                'groupExpand',\n                'groupCollapse'\n            ],\n            setDataSource: function (dataSource) {\n                var that = this;\n                var scrollable = that.options.scrollable;\n                var scrollableContent;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                that._pageable();\n                that._thead();\n                if (scrollable) {\n                    if (scrollable.virtual) {\n                        scrollableContent = that.content.find('>.k-virtual-scrollable-wrap');\n                        scrollableContent.scrollLeft(leftMostPosition(scrollableContent, isRtl));\n                    } else {\n                        scrollableContent = that.tbody;\n                        that.content.scrollLeft(leftMostPosition(scrollableContent, isRtl));\n                    }\n                }\n                if (that.options.groupable) {\n                    that._groupable();\n                }\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.setDataSource(that.options.dataSource);\n                }\n                if (that.options.navigatable) {\n                    that._navigatable();\n                }\n                if (that.options.selectable) {\n                    that._selectable();\n                }\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                }\n            },\n            options: {\n                name: 'Grid',\n                columns: [],\n                toolbar: null,\n                autoBind: true,\n                filterable: false,\n                scrollable: true,\n                sortable: false,\n                selectable: false,\n                allowCopy: false,\n                navigatable: false,\n                pageable: false,\n                persistSelection: false,\n                editable: false,\n                groupable: false,\n                rowTemplate: '',\n                altRowTemplate: '',\n                noRecords: false,\n                dataSource: {},\n                height: null,\n                resizable: false,\n                reorderable: false,\n                columnMenu: false,\n                detailTemplate: null,\n                columnResizeHandleWidth: 3,\n                mobile: '',\n                messages: {\n                    editable: {\n                        cancelDelete: CANCELDELETE,\n                        confirmation: DELETECONFIRM,\n                        confirmDelete: CONFIRMDELETE\n                    },\n                    commands: {\n                        create: defaultCommands.create.text,\n                        cancel: defaultCommands.cancel.text,\n                        save: defaultCommands.save.text,\n                        destroy: defaultCommands.destroy.text,\n                        edit: defaultCommands.edit.text,\n                        update: defaultCommands.update.text,\n                        canceledit: defaultCommands.canceledit.text,\n                        excel: defaultCommands.excel.text,\n                        pdf: defaultCommands.pdf.text\n                    },\n                    noRecords: NORECORDS,\n                    expandCollapseColumnHeader: ''\n                }\n            },\n            destroy: function () {\n                var that = this, element;\n                that._angularItems('cleanup');\n                that._destroyColumnAttachments();\n                Widget.fn.destroy.call(that);\n                this._navigatableTables = null;\n                if (that._resizeHandler) {\n                    $(window).off('resize' + NS, that._resizeHandler);\n                }\n                if (that.pager && that.pager.element) {\n                    that.pager.destroy();\n                }\n                that.pager = null;\n                if (that.groupable && that.groupable.element) {\n                    that.groupable.element.kendoGroupable('destroy');\n                }\n                that.groupable = null;\n                if (that.options.reorderable) {\n                    that.wrapper.data('kendoReorderable').destroy();\n                }\n                if (that.selectable && that.selectable.element) {\n                    that.selectable.destroy();\n                    that.clearArea();\n                    that._selectedIds = null;\n                    if (that.copyHandler) {\n                        that.wrapper.off('keydown', that.copyHandler);\n                        that.unbind(that.copyHandler);\n                    }\n                    if (that.updateClipBoardState) {\n                        that.unbind(that.updateClipBoardState);\n                        that.updateClipBoardState = null;\n                    }\n                    if (that.clearAreaHandler) {\n                        that.wrapper.off('keyup', that.clearAreaHandler);\n                    }\n                }\n                that.selectable = null;\n                if (that.resizable) {\n                    that.resizable.destroy();\n                    if (that._resizeUserEvents) {\n                        if (that._resizeHandleDocumentClickHandler) {\n                            $(document).off('click', that._resizeHandleDocumentClickHandler);\n                        }\n                        that._resizeUserEvents.destroy();\n                        that._resizeUserEvents = null;\n                    }\n                    that.resizable = null;\n                }\n                that._destroyVirtualScrollable();\n                that._destroyEditable();\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                    that._refreshHandler = that._progressHandler = that._errorHandler = null;\n                }\n                element = that.element.add(that.wrapper).add(that.table).add(that.thead).add(that.wrapper.find('>.k-grid-toolbar'));\n                if (that.content) {\n                    element = element.add(that.content).add(that.content.find('>.k-virtual-scrollable-wrap'));\n                }\n                if (that.lockedHeader) {\n                    that._removeLockedContainers();\n                }\n                if (that.pane) {\n                    that.pane.destroy();\n                }\n                if (that.minScreenResizeHandler) {\n                    $(window).off('resize', that.minScreenResizeHandler);\n                }\n                if (that._draggableInstance && that._draggableInstance.element) {\n                    that._draggableInstance.destroy();\n                }\n                that._draggableInstance = null;\n                element.off(NS);\n                kendo.destroy(that.wrapper);\n                that.rowTemplate = that.altRowTemplate = that.lockedRowTemplate = that.lockedAltRowTemplate = that.detailTemplate = that.footerTemplate = that.groupFooterTemplate = that.lockedGroupFooterTemplate = that.noRecordsTemplate = null;\n                that.scrollables = that.thead = that.tbody = that.element = that.table = that.content = that.footer = that.wrapper = that.lockedTable = that.lockedContent = that.lockedHeader = that.lockedFooter = that._groupableClickHandler = that._groupRows = that._setContentWidthHandler = null;\n            },\n            getOptions: function () {\n                var options = this.options;\n                options.dataSource = null;\n                var result = extend(true, {}, this.options);\n                result.columns = kendo.deepExtend([], this.columns);\n                var dataSource = this.dataSource;\n                var initialData = dataSource.options.data && dataSource._data;\n                dataSource.options.data = null;\n                result.dataSource = $.extend(true, {}, dataSource.options);\n                dataSource.options.data = initialData;\n                result.dataSource.data = initialData;\n                result.dataSource.page = dataSource.page();\n                result.dataSource.filter = dataSource.filter();\n                result.dataSource.pageSize = dataSource.pageSize();\n                result.dataSource.sort = dataSource.sort();\n                result.dataSource.group = dataSource.group();\n                result.dataSource.aggregate = dataSource.aggregate();\n                if (result.dataSource.transport) {\n                    result.dataSource.transport.dataSource = null;\n                }\n                if (result.pageable && result.pageable.pageSize) {\n                    result.pageable.pageSize = dataSource.pageSize();\n                }\n                result.$angular = undefined;\n                return result;\n            },\n            setOptions: function (options) {\n                var currentOptions = this.getOptions();\n                kendo.deepExtend(currentOptions, options);\n                if (!options.dataSource) {\n                    currentOptions.dataSource = this.dataSource;\n                }\n                var wrapper = this.wrapper;\n                var events = this._events;\n                var element = this.element;\n                this.destroy();\n                this.options = null;\n                if (this._isMobile) {\n                    var mobileWrapper = wrapper.closest(kendo.roleSelector('pane')).parent();\n                    mobileWrapper.after(wrapper);\n                    mobileWrapper.remove();\n                    wrapper.removeClass('k-grid-mobile');\n                }\n                if (wrapper[0] !== element[0]) {\n                    wrapper.before(element);\n                    wrapper.remove();\n                }\n                element.empty();\n                this.init(element, currentOptions, events);\n                this._setEvents(currentOptions);\n            },\n            items: function () {\n                if (this.lockedContent) {\n                    return this._items(this.tbody).add(this._items(this.lockedTable.children('tbody')));\n                } else {\n                    return this._items(this.tbody);\n                }\n            },\n            _items: function (container) {\n                return container.children().filter(function () {\n                    var tr = $(this);\n                    return !tr.hasClass('k-grouping-row') && !tr.hasClass('k-detail-row') && !tr.hasClass('k-group-footer');\n                });\n            },\n            dataItems: function () {\n                var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n                if (this.lockedContent) {\n                    var n = dataItems.length, tmp = new Array(2 * n);\n                    for (var i = n; --i >= 0;) {\n                        tmp[i] = tmp[i + n] = dataItems[i];\n                    }\n                    dataItems = tmp;\n                }\n                return dataItems;\n            },\n            _destroyColumnAttachments: function () {\n                var that = this;\n                that.resizeHandle = null;\n                if (!that.thead) {\n                    return;\n                }\n                this.angular('cleanup', function () {\n                    return { elements: that.thead.get() };\n                });\n                that.thead.add(that.lockedHeader).find('th').each(function () {\n                    var th = $(this), filterMenu = th.data('kendoFilterMenu'), sortable = th.data('kendoColumnSorter'), columnMenu = th.data('kendoColumnMenu');\n                    if (filterMenu) {\n                        filterMenu.destroy();\n                    }\n                    if (sortable) {\n                        sortable.destroy();\n                    }\n                    if (columnMenu) {\n                        columnMenu.destroy();\n                    }\n                });\n            },\n            _attachCustomCommandsEvent: function () {\n                var that = this, columns = leafColumns(that.columns || []), command, idx, length;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    command = columns[idx].command;\n                    if (command) {\n                        attachCustomCommandEvent(that, that.wrapper, command);\n                    }\n                }\n            },\n            _aria: function () {\n                var id = this.element.attr('id') || 'aria';\n                if (id) {\n                    this._cellId = id + '_active_cell';\n                }\n            },\n            _element: function () {\n                var that = this, table = that.element;\n                if (!table.is('table')) {\n                    if (that.options.scrollable) {\n                        table = that.element.find('> .k-grid-content > table');\n                    } else {\n                        table = that.element.children('table');\n                    }\n                    if (!table.length) {\n                        table = $('<table />').appendTo(that.element);\n                    }\n                }\n                if (isIE7) {\n                    table.attr('cellspacing', 0);\n                }\n                that.table = table.attr('role', that._hasDetails() ? 'treegrid' : 'grid');\n                that._wrapper();\n            },\n            _createResizeHandle: function (container, th) {\n                var that = this;\n                var indicatorWidth = that.options.columnResizeHandleWidth;\n                var scrollable = that.options.scrollable;\n                var resizeHandle = that.resizeHandle;\n                var groups = this._groups();\n                var left;\n                if (resizeHandle && that.lockedContent && resizeHandle.data('th')[0] !== th[0]) {\n                    resizeHandle.off(NS).remove();\n                    resizeHandle = null;\n                }\n                if (!resizeHandle) {\n                    resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                    container.append(resizeHandle);\n                }\n                if (!isRtl) {\n                    left = th[0].offsetWidth;\n                    var cells = leafDataCells(th.closest('thead')).filter(':visible');\n                    for (var idx = 0; idx < cells.length; idx++) {\n                        if (cells[idx] == th[0]) {\n                            break;\n                        }\n                        left += cells[idx].offsetWidth;\n                    }\n                    if (groups > 0) {\n                        left += outerWidth(container.find('.k-group-cell:first')) * groups;\n                    }\n                    if (that._hasDetails()) {\n                        left += outerWidth(container.find('.k-hierarchy-cell:first'));\n                    }\n                } else {\n                    left = th.position().left;\n                    if (scrollable) {\n                        var headerWrap = th.closest('.k-grid-header-wrap, .k-grid-header-locked'), ieCorrection = browser.msie ? headerWrap.scrollLeft() : 0, webkitCorrection = browser.webkit ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft() : 0, firefoxCorrection = browser.mozilla ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - (headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft()) : 0;\n                        left -= webkitCorrection - firefoxCorrection + ieCorrection;\n                    }\n                }\n                resizeHandle.css({\n                    top: th.position().top,\n                    left: left - indicatorWidth,\n                    height: outerHeight(th),\n                    width: indicatorWidth * 3\n                }).data('th', th).show();\n                resizeHandle.off('dblclick' + NS).on('dblclick' + NS, function () {\n                    that._autoFitLeafColumn(th.data('index'));\n                });\n            },\n            _positionColumnResizeHandle: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that.thead.add(lockedHead).on('mousemove' + NS, 'th', function (e) {\n                    var button = typeof e.buttons !== 'undefined' ? e.buttons : e.which || e.button;\n                    var th = $(this);\n                    if (th.hasClass('k-group-cell') || th.hasClass('k-hierarchy-cell')) {\n                        return;\n                    }\n                    if (typeof button !== 'undefined' && button !== 0) {\n                        return;\n                    }\n                    that._createResizeHandle(th.closest('div'), th);\n                });\n            },\n            _resizeHandleDocumentClick: function (e) {\n                if ($(e.target).closest('.k-column-active').length) {\n                    return;\n                }\n                $(document).off(e);\n                this._hideResizeHandle();\n            },\n            _hideResizeHandle: function () {\n                if (this.resizeHandle) {\n                    this.resizeHandle.data('th').removeClass('k-column-active');\n                    if (this.lockedContent && !this._isMobile) {\n                        this.resizeHandle.off(NS).remove();\n                        this.resizeHandle = null;\n                    } else {\n                        this.resizeHandle.hide();\n                    }\n                }\n            },\n            _positionColumnResizeHandleTouch: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                    filter: 'th:not(.k-group-cell):not(.k-hierarchy-cell)',\n                    threshold: 10,\n                    hold: function (e) {\n                        var th = $(e.target);\n                        e.preventDefault();\n                        th.addClass('k-column-active');\n                        that._createResizeHandle(th.closest('div'), th);\n                        if (!that._resizeHandleDocumentClickHandler) {\n                            that._resizeHandleDocumentClickHandler = proxy(that._resizeHandleDocumentClick, that);\n                        }\n                        $(document).on('click', that._resizeHandleDocumentClickHandler);\n                    }\n                });\n            },\n            _resizable: function () {\n                var that = this, options = that.options, container, columnStart, columnWidth, columnMinWidth, gridWidth, isMobile = this._isMobile, scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0, isLocked, col, th;\n                if (options.resizable) {\n                    container = options.scrollable ? that.wrapper.find('.k-grid-header-wrap:first') : that.wrapper;\n                    if (isMobile) {\n                        that._positionColumnResizeHandleTouch(container);\n                    } else {\n                        that._positionColumnResizeHandle(container);\n                    }\n                    if (that.resizable) {\n                        that.resizable.destroy();\n                    }\n                    that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                        handle: (!!options.scrollable ? '' : '>') + '.k-resize-handle',\n                        hint: function (handle) {\n                            return $('<div class=\"k-grid-resize-indicator\" />').css({ height: outerHeight(handle.data('th')) + that.tbody.attr('clientHeight') });\n                        },\n                        start: function (e) {\n                            th = $(e.currentTarget).data('th');\n                            if (isMobile) {\n                                that._hideResizeHandle();\n                            }\n                            var header = th.closest('table'), index = $.inArray(th[0], leafDataCells(th.closest('thead')).filter(':visible'));\n                            isLocked = header.parent().hasClass('k-grid-header-locked');\n                            var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                            if (that.footer && that.lockedContent) {\n                                footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                            }\n                            cursor(that.wrapper, 'col-resize');\n                            if (options.scrollable) {\n                                col = header.find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                            } else {\n                                col = contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                            }\n                            var columns = $.map(that.columns, function (a) {\n                                return !a.hidden && (isLocked && a.locked || !isLocked && !a.locked) ? a : null;\n                            });\n                            columnStart = e.x.location;\n                            columnWidth = outerWidth(th);\n                            columnMinWidth = leafColumns(columns)[index].minResizableWidth || 10;\n                            gridWidth = isLocked ? outerWidth(contentTable.children('tbody')) : outerWidth(that.tbody);\n                            if (browser.webkit) {\n                                that.wrapper.addClass('k-grid-column-resizing');\n                            }\n                        },\n                        resize: function (e) {\n                            var rtlMultiplier = isRtl ? -1 : 1, currentWidth = columnWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                            if (options.scrollable) {\n                                var footer;\n                                if (isLocked && that.lockedFooter) {\n                                    footer = that.lockedFooter.children('table');\n                                } else if (that.footer) {\n                                    footer = that.footer.find('>.k-grid-footer-wrap>table');\n                                }\n                                if (!footer || !footer[0]) {\n                                    footer = $();\n                                }\n                                var header = th.closest('table');\n                                var contentTable = isLocked ? that.lockedTable : that.table;\n                                var constrain = false;\n                                var totalWidth = that.wrapper.width() - scrollbar;\n                                var width = currentWidth;\n                                if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                    width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                    if (width < 0) {\n                                        width = currentWidth;\n                                    }\n                                    constrain = true;\n                                }\n                                if (width > 10 && width >= columnMinWidth) {\n                                    col.css('width', width);\n                                    if (gridWidth) {\n                                        if (constrain) {\n                                            width = totalWidth - scrollbar * 2;\n                                        } else {\n                                            width = gridWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                                        }\n                                        contentTable.add(header).add(footer).css('width', width);\n                                        if (!isLocked) {\n                                            that._footerWidth = width;\n                                        }\n                                    }\n                                }\n                                that._scrollVirtualWrapperOnColumnResize();\n                            } else if (currentWidth > 10 && currentWidth >= columnMinWidth) {\n                                col.css('width', currentWidth);\n                            }\n                        },\n                        resizeend: function () {\n                            var newWidth = outerWidth(th), column, header;\n                            cursor(that.wrapper, '');\n                            if (browser.webkit) {\n                                that.wrapper.removeClass('k-grid-column-resizing');\n                            }\n                            if (columnWidth != newWidth) {\n                                header = that.lockedHeader ? that.lockedHeader.find('thead:first tr:first').add(that.thead.find('tr:first')) : th.parent();\n                                var index = th.attr(kendo.attr('index'));\n                                if (!index) {\n                                    index = header.find('th:not(.k-group-cell):not(.k-hierarchy-cell)').index(th);\n                                }\n                                column = leafColumns(that.columns)[index];\n                                column.width = newWidth;\n                                that.trigger(COLUMNRESIZE, {\n                                    column: column,\n                                    oldWidth: columnWidth,\n                                    newWidth: newWidth\n                                });\n                                that._applyLockedContainersWidth();\n                                that._syncLockedContentHeight();\n                                that._syncLockedHeaderHeight();\n                            }\n                            that._hideResizeHandle();\n                            th = null;\n                        }\n                    });\n                }\n            },\n            _draggable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that._draggableInstance) {\n                        that._draggableInstance.destroy();\n                    }\n                    var header = that.wrapper.children('.k-grid-header');\n                    that._draggableInstance = that.wrapper.kendoDraggable({\n                        group: kendo.guid(),\n                        autoScroll: true,\n                        filter: that.content ? '.k-grid-header:first ' + HEADERCELLS : 'table:first>.k-grid-header ' + HEADERCELLS,\n                        dragstart: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling').bind('scroll' + NS + 'scrolling', function (e) {\n                                if (that.virtualScrollable) {\n                                    that.content.find('>.k-virtual-scrollable-wrap').scrollLeft(this.scrollLeft);\n                                } else {\n                                    that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                                }\n                            });\n                        },\n                        dragend: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling');\n                        },\n                        drag: function () {\n                            that._hideResizeHandle();\n                        },\n                        hint: function (target) {\n                            var title = target.attr(kendo.attr('title'));\n                            if (title) {\n                                title = kendo.htmlEncode(title);\n                            }\n                            return $('<div class=\"k-header k-drag-clue\" />').css({\n                                width: target.width(),\n                                paddingLeft: target.css('paddingLeft'),\n                                paddingRight: target.css('paddingRight'),\n                                lineHeight: target.height() + 'px',\n                                paddingTop: target.css('paddingTop'),\n                                paddingBottom: target.css('paddingBottom')\n                            }).html(title || target.attr(kendo.attr('field')) || target.text()).prepend('<span class=\"k-icon k-drag-status k-i-cancel\" />');\n                        }\n                    }).data('kendoDraggable');\n                }\n            },\n            _reorderable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that.wrapper.data('kendoReorderable')) {\n                        that.wrapper.data('kendoReorderable').destroy();\n                    }\n                    that.wrapper.kendoReorderable({\n                        draggable: that._draggableInstance,\n                        dragOverContainers: function (sourceIndex, targetIndex) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, that.columns, sourceIndex, targetIndex) > -1;\n                        },\n                        inSameContainer: function (e) {\n                            return $(e.source).parent()[0] === $(e.target).parent()[0] && targetParentContainerIndex(flatColumnsInDomOrder(that.columns), that.columns, e.sourceIndex, e.targetIndex) > -1;\n                        },\n                        change: function (e) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            var column = columns[e.oldIndex];\n                            var newIndex = targetParentContainerIndex(columns, that.columns, e.oldIndex, e.newIndex);\n                            that.trigger(COLUMNREORDER, {\n                                newIndex: newIndex,\n                                oldIndex: inArray(column, columns),\n                                column: column\n                            });\n                            that.reorderColumn(newIndex, column, e.position === 'before');\n                        }\n                    });\n                }\n            },\n            _reorderHeader: function (sources, target, before) {\n                var that = this;\n                var sourcePosition = columnPosition(sources[0], that.columns);\n                var destPosition = columnPosition(target, that.columns);\n                var leafs = [];\n                for (var idx = 0; idx < sources.length; idx++) {\n                    if (sources[idx].columns) {\n                        leafs = leafs.concat(sources[idx].columns);\n                    }\n                }\n                var ths = elements(that.lockedHeader, that.thead, 'tr:eq(' + sourcePosition.row + ')>th.k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                var sourceLockedColumns = lockedColumns(sources).length;\n                var targetLockedColumns = lockedColumns([target]).length;\n                if (leafs.length) {\n                    if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find('thead'), that.thead, this._groups());\n                    } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.thead, that.lockedHeader.find('thead'), this._groups());\n                    }\n                    if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                        target = findReorderTarget(that.columns, target, sources[0], before, that.columns);\n                        if (target) {\n                            that._reorderHeader(leafs, target, before);\n                        }\n                    }\n                } else if (sourceLockedColumns !== targetLockedColumns) {\n                    updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n                }\n                reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n            },\n            _reorderContent: function (sources, destination, before) {\n                var that = this;\n                var lockedRows = $();\n                var source = sources[0];\n                var visibleSources = visibleColumns(sources);\n                var sourceIndex = inArray(source, leafColumns(that.columns));\n                var destIndex = inArray(destination, leafColumns(that.columns));\n                var colSourceIndex = inArray(visibleSources[0], visibleLeafColumns(that.columns));\n                var colDest = inArray(destination, visibleLeafColumns(that.columns));\n                var lockedCount = lockedColumns(that.columns).length;\n                var isLocked = !!destination.locked;\n                var footer = that.footer || that.wrapper.find('.k-grid-footer');\n                var headerCol, footerCol, beforeVisibleColumn;\n                headerCol = footerCol = colDest;\n                if (destination.hidden) {\n                    var columnsArray = isLocked ? lockedColumns(that.columns) : nonLockedColumns(that.columns);\n                    if (visibleColumns(columnsArray).length > 0) {\n                        headerCol = footerCol = colDest = this._findClosestVisibleColumnIndex(columnsArray, destIndex);\n                        beforeVisibleColumn = visibleColumns(columnsArray.slice(destIndex)).length > 0;\n                    } else {\n                        if (isLocked) {\n                            colDest = that.lockedTable.find('colgroup');\n                            headerCol = that.lockedHeader.find('colgroup');\n                            footerCol = $(that.lockedFooter).find('>table>colgroup');\n                        } else {\n                            colDest = that.tbody.prev();\n                            headerCol = that.thead.prev();\n                            footerCol = footer.find('.k-grid-footer-wrap').find('>table>colgroup');\n                        }\n                    }\n                }\n                if (that._hasFilterRow()) {\n                    reorder(that.wrapper.find('.k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                if (colSourceIndex >= 0) {\n                    reorder(elements(that.lockedHeader, that.thead.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, headerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                }\n                if (that.options.scrollable) {\n                    if (colSourceIndex >= 0) {\n                        reorder(elements(that.lockedTable, that.tbody.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, colDest, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                    }\n                }\n                if (footer && footer.length) {\n                    if (colSourceIndex >= 0) {\n                        reorder(elements(that.lockedFooter, footer.find('.k-grid-footer-wrap'), '>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, footerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                    }\n                    reorder(footer.find('.k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                var rows = that.tbody.children(':not(.k-grouping-row,.k-detail-row)');\n                if (that.lockedTable) {\n                    if (lockedCount > destIndex) {\n                        if (lockedCount <= sourceIndex) {\n                            updateColspan(that.lockedTable.find('>tbody>tr.k-grouping-row'), that.table.find('>tbody>tr.k-grouping-row'), sources.length);\n                        }\n                    } else if (lockedCount > sourceIndex) {\n                        updateColspan(that.table.find('>tbody>tr.k-grouping-row'), that.lockedTable.find('>tbody>tr.k-grouping-row'), sources.length);\n                    }\n                    lockedRows = that.lockedTable.find('>tbody>tr:not(.k-grouping-row,.k-detail-row)');\n                }\n                for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                    reorder(elements(lockedRows[idx], rows[idx], '>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n            },\n            _findClosestVisibleColumnIndex: function (columns, columnIndex) {\n                var columnsArray = visibleColumns(columns.slice(columnIndex)).length > 0 ? columns.slice(columnIndex) : columns.slice(0, columnIndex + 1).reverse(), closestVisibleColumn = visibleColumns(columnsArray)[0];\n                return inArray(closestVisibleColumn, visibleColumns(this.columns));\n            },\n            _autoFitLeafColumn: function (leafIndex) {\n                this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n            },\n            autoFitColumn: function (column) {\n                var that = this, options = that.options, columns = that.columns, index, th, headerTable, isLocked, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, col, minWidth, contentDiv, scrollLeft, notGroupOrHierarchyCol = 'col:not(.k-group-col):not(.k-hierarchy-col)', notGroupOrHierarchyVisibleCell = 'td:visible:not(.k-group-cell):not(.k-hierarchy-cell)';\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                minWidth = column.minResizableWidth;\n                index = inArray(column, leafColumns(columns));\n                isLocked = column.locked;\n                if (isLocked) {\n                    headerTable = that.lockedHeader.children('table');\n                } else {\n                    headerTable = that.thead.parent();\n                }\n                th = headerTable.find('[data-index=\\'' + index + '\\']');\n                var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                var footerTable = footer.find('table').first();\n                if (that.lockedHeader && !isLocked) {\n                    index -= visibleLocked;\n                }\n                for (var j = 0; j < columns.length; j++) {\n                    if (columns[j] === column) {\n                        break;\n                    } else {\n                        if (columns[j].hidden) {\n                            index--;\n                        }\n                    }\n                }\n                if (options.scrollable) {\n                    col = headerTable.find(notGroupOrHierarchyCol).eq(index).add(contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index)).add(footerTable.find('colgroup').find(notGroupOrHierarchyCol).eq(index));\n                    if (!isLocked) {\n                        contentDiv = contentTable.parent();\n                        scrollLeft = contentDiv.scrollLeft();\n                    }\n                } else {\n                    col = contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index);\n                }\n                var tables = headerTable.add(contentTable).add(footerTable);\n                var oldColumnWidth = outerWidth(th);\n                col.width('');\n                tables.css('table-layout', 'fixed');\n                col.width('auto');\n                tables.addClass('k-autofitting');\n                tables.css('table-layout', '');\n                var newColumnWidth = Math.ceil(Math.max(outerWidth(th), outerWidth(contentTable.find('tr:not(.k-grouping-row)').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)), outerWidth(footerTable.find('tr').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)))) + 1;\n                if (minWidth && minWidth > newColumnWidth) {\n                    newColumnWidth = minWidth;\n                }\n                col.width(newColumnWidth);\n                column.width = newColumnWidth;\n                if (options.scrollable) {\n                    var cols = headerTable.find('col'), colWidth, totalWidth = 0;\n                    for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            totalWidth += parseInt(colWidth, 10);\n                        } else if (cols.eq(idx).hasClass('k-group-col')) {\n                            totalWidth += parseInt(cols.eq(idx).width(), 10);\n                        } else {\n                            totalWidth = 0;\n                            break;\n                        }\n                    }\n                    if (totalWidth) {\n                        tables.each(function () {\n                            this.style.width = totalWidth + 'px';\n                        });\n                    }\n                }\n                if (browser.msie && browser.version == 8) {\n                    tables.css('display', 'inline-table');\n                    setTimeout(function () {\n                        tables.css('display', 'table');\n                    }, 1);\n                }\n                tables.removeClass('k-autofitting');\n                if (scrollLeft) {\n                    contentDiv.scrollLeft(scrollLeft);\n                }\n                that.trigger(COLUMNRESIZE, {\n                    column: column,\n                    oldWidth: oldColumnWidth,\n                    newWidth: newColumnWidth\n                });\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n            },\n            reorderColumn: function (destIndex, column, before) {\n                var that = this, parent = columnParent(column, that.columns), columns = parent ? parent.columns : that.columns, sourceIndex = inArray(column, columns), destColumn = columns[destIndex], lockChanged, isLocked = !!destColumn.locked, lockedCount = lockedColumns(that.columns).length;\n                if (sourceIndex === destIndex) {\n                    return;\n                }\n                if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                    return;\n                }\n                if (column.locked && !isLocked && lockedCount == 1) {\n                    return;\n                }\n                that._hideResizeHandle();\n                if (before === undefined) {\n                    before = destIndex < sourceIndex;\n                }\n                var sourceColumns = [column];\n                that._reorderHeader(sourceColumns, destColumn, before);\n                if (that.lockedHeader) {\n                    removeEmptyRows(that.thead);\n                    removeEmptyRows(that.lockedHeader);\n                }\n                if (destColumn.columns) {\n                    destColumn = leafColumns(destColumn.columns);\n                    destColumn = destColumn[before ? 0 : destColumn.length - 1];\n                }\n                if (column.columns) {\n                    sourceColumns = leafColumns(column.columns);\n                }\n                that._reorderContent(sourceColumns, destColumn, before);\n                lockChanged = !!column.locked;\n                lockChanged = lockChanged != isLocked;\n                column.locked = isLocked;\n                columns.splice(before ? destIndex : destIndex + 1, 0, column);\n                columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                that._templates();\n                that._updateColumnCellIndex();\n                that._updateTablesWidth();\n                that._applyLockedContainersWidth();\n                that._syncLockedHeaderHeight();\n                that._syncLockedContentHeight();\n                that._updateFirstColumnClass();\n                if (!lockChanged) {\n                    return;\n                }\n                if (isLocked) {\n                    that.trigger(COLUMNLOCK, { column: column });\n                } else {\n                    that.trigger(COLUMNUNLOCK, { column: column });\n                }\n            },\n            _updateColumnCellIndex: function () {\n                var header;\n                var offset = 0;\n                if (this.lockedHeader) {\n                    header = this.lockedHeader.find('thead');\n                    offset = updateCellIndex(header, lockedColumns(this.columns));\n                }\n                updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n            },\n            lockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length - 1;\n                this.reorderColumn(index, column, false);\n            },\n            unlockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length;\n                this.reorderColumn(index, column, true);\n            },\n            cellIndex: function (td) {\n                var lockedColumnOffset = 0;\n                if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                    lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n                }\n                return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n            },\n            _modelForContainer: function (container) {\n                container = $(container);\n                if (!container.is('tr') && this._editMode() !== 'popup') {\n                    container = container.closest('tr');\n                }\n                var id = container.attr(kendo.attr('uid'));\n                return this.dataSource.getByUid(id);\n            },\n            _editable: function () {\n                var that = this, selectable = that.selectable && that.selectable.options.multiple, editable = that.options.editable, handler = function () {\n                        var target = activeElement(), cell = that._editContainer;\n                        if (cell && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest('.k-animation-container').length) {\n                            if (that.editable.end()) {\n                                that.closeCell();\n                            } else {\n                                that._scrollVirtualWrapper();\n                            }\n                        }\n                    };\n                if (editable) {\n                    this.wrapper.addClass('k-editable');\n                    var mode = that._editMode();\n                    if (mode === 'incell') {\n                        that.table.add(that.lockedTable).on('mousedown' + NS, NAVROW + '>' + NAVCELL, function (e) {\n                            var target = $(e.target);\n                            if (that._editMode() === 'incell' && target.hasClass('k-checkbox-label') && target.prev().attr(kendo.attr('bind'))) {\n                                e.preventDefault();\n                            }\n                        });\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tr:not(.k-grouping-row) > td', function (e) {\n                                var td = $(this), isLockedCell = that.lockedTable && td.closest('table')[0] === that.lockedTable[0];\n                                if (td.hasClass('k-hierarchy-cell') || td.hasClass('k-detail-cell') || td.hasClass('k-group-cell') || td.hasClass('k-edit-cell') || td.has('a.k-grid-delete').length || td.has('button.k-grid-delete').length || td.closest('tbody')[0] !== that.tbody[0] && !isLockedCell || $(e.target).is(':input')) {\n                                    return;\n                                }\n                                if (that.editable) {\n                                    if (that.editable.end()) {\n                                        if (selectable) {\n                                            $(activeElement()).blur();\n                                        }\n                                        that.closeCell();\n                                        that.editCell(td);\n                                    } else {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                } else {\n                                    that.editCell(td);\n                                }\n                            }).on('focusin' + NS, function () {\n                                if (!$.contains(this, activeElement())) {\n                                    clearTimeout(that.timer);\n                                    that.timer = null;\n                                }\n                            }).on('focusout' + NS, function () {\n                                that.timer = setTimeout(handler, 1);\n                            });\n                        }\n                    } else {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit', function (e) {\n                                e.preventDefault();\n                                that.editRow($(this).closest('tr'));\n                            });\n                            if (that._isVirtualInlineEditable()) {\n                                that.wrapper.on('focusout' + NS, 'tr:not(.k-grouping-row) > td', function () {\n                                    if (that.editable && !that.editable.end()) {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                });\n                            }\n                        }\n                    }\n                    if (editable.destroy !== false) {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete', function (e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            that.removeRow($(this).closest('tr'));\n                        });\n                    } else {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete', function (e) {\n                            e.stopPropagation();\n                            if (!that._confirmation()) {\n                                e.preventDefault();\n                            }\n                        });\n                    }\n                }\n            },\n            editCell: function (cell) {\n                cell = $(cell);\n                var that = this, column = leafColumns(that.columns)[that.cellIndex(cell)], model = that._modelForContainer(cell);\n                that.closeCell();\n                if (model && isColumnEditable(column, model) && !column.command) {\n                    if (that.trigger(BEFOREEDIT, { model: model })) {\n                        return;\n                    }\n                    that._attachModelChange(model);\n                    that._editContainer = cell;\n                    if (that._shouldClearEditableState) {\n                        that._clearEditableState();\n                    }\n                    that.editable = cell.addClass('k-edit-cell').kendoEditable({\n                        fields: {\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        },\n                        model: model,\n                        target: that,\n                        change: function (e) {\n                            if (that.trigger(SAVE, {\n                                    values: e.values,\n                                    container: cell,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        },\n                        skipFocus: that._isVirtualIncellEditable() && that._editableState ? true : false\n                    }).data('kendoEditable');\n                    var tr = cell.parent().addClass('k-grid-edit-row');\n                    if (that.lockedContent) {\n                        adjustRowHeight(tr[0], that._relatedRow(tr).addClass('k-grid-edit-row')[0]);\n                    }\n                    that.trigger(EDIT, {\n                        container: cell,\n                        model: model\n                    });\n                }\n            },\n            _adjustLockedHorizontalScrollBar: function () {\n                var table = this.table, content = table.parent();\n                var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n                this.lockedContent.height(content.height() - scrollbar);\n            },\n            _syncLockedContentHeight: function () {\n                if (this.lockedTable) {\n                    if (!this.touchScroller) {\n                        this._adjustLockedHorizontalScrollBar();\n                    }\n                    this._adjustRowsHeight(this.table, this.lockedTable);\n                }\n            },\n            _syncLockedHeaderHeight: function () {\n                if (this.lockedHeader) {\n                    var lockedTable = this.lockedHeader.children('table');\n                    var table = this.thead.parent();\n                    this._adjustRowsHeight(lockedTable, table);\n                    syncTableHeight(lockedTable, table);\n                }\n            },\n            _syncLockedFooterHeight: function () {\n                if (this.lockedFooter && this.footer && this.footer.length) {\n                    this._adjustRowsHeight(this.lockedFooter.children('table'), this.footer.find('.k-grid-footer-wrap > table'));\n                }\n            },\n            _destroyEditable: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        var container = that.editView ? that.editView.element : that._editContainer;\n                        if (container) {\n                            container.off(CLICK + NS, 'a.k-grid-cancel', that._editCancelClickHandler);\n                            container.off(CLICK + NS, 'a.k-grid-update', that._editUpdateClickHandler);\n                        }\n                        that._detachModelChange();\n                        that.editable.destroy();\n                        that.editable = null;\n                        that._editContainer = null;\n                        that._destroyEditView();\n                    }\n                };\n                if (that.editable) {\n                    if (that._editMode() === 'popup' && !that._isMobile) {\n                        that._editContainer.data('kendoWindow').bind('deactivate', destroy).close();\n                    } else {\n                        destroy();\n                    }\n                }\n                if (that._actionSheet) {\n                    that._actionSheet.destroy();\n                    that._actionSheet = null;\n                }\n            },\n            _destroyEditView: function () {\n                if (this.editView) {\n                    this.editView.purge();\n                    this.editView = null;\n                    this.pane.navigate('');\n                }\n            },\n            _attachModelChange: function (model) {\n                var that = this;\n                that._modelChangeHandler = function (e) {\n                    that._modelChange({\n                        field: e.field,\n                        model: this\n                    });\n                };\n                model.bind('change', that._modelChangeHandler);\n            },\n            _detachModelChange: function () {\n                var that = this, container = that._editContainer, model = that._modelForContainer(container);\n                if (model) {\n                    model.unbind(CHANGE, that._modelChangeHandler);\n                }\n            },\n            closeCell: function (isCancel) {\n                var that = this, cell = that._editContainer, column, tr, model;\n                if (!cell) {\n                    return;\n                }\n                model = that._modelForContainer(cell);\n                if (isCancel && that.trigger('cancel', {\n                        container: cell,\n                        model: model\n                    })) {\n                    return;\n                }\n                that.trigger(CELLCLOSE, {\n                    type: isCancel ? 'cancel' : 'save',\n                    model: model,\n                    container: cell\n                });\n                cell.removeClass('k-edit-cell');\n                column = leafColumns(that.columns)[that.cellIndex(cell)];\n                tr = cell.parent().removeClass('k-grid-edit-row');\n                if (that.lockedContent) {\n                    that._relatedRow(tr).removeClass('k-grid-edit-row');\n                }\n                that._destroyEditable();\n                that._displayCell(cell, column, model);\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.trigger('itemChange', {\n                    item: tr,\n                    data: model,\n                    ns: ui\n                });\n                if (that.lockedContent) {\n                    adjustRowHeight(tr.css('height', '')[0], that._relatedRow(tr).css('height', '')[0]);\n                }\n            },\n            _displayCell: function (cell, column, dataItem) {\n                var that = this, state = {\n                        storage: {},\n                        count: 0\n                    }, settings = extend({}, kendo.Template, that.options.templateSettings), tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                if (state.count > 0) {\n                    tmpl = proxy(tmpl, state.storage);\n                }\n                cell.empty().html(tmpl(dataItem));\n                that.angular('compile', function () {\n                    return {\n                        elements: cell,\n                        data: [{ dataItem: dataItem }]\n                    };\n                });\n            },\n            removeRow: function (row) {\n                if (!this._confirmation(row)) {\n                    return;\n                }\n                this._removeRow(row);\n            },\n            _removeRow: function (row) {\n                var that = this, model, modelId, key, schema, mode = that._editMode();\n                if (mode !== 'incell') {\n                    that.cancelRow();\n                }\n                row = $(row);\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row = row.hide();\n                model = that._modelForContainer(row);\n                if (model && !that.trigger(REMOVE, {\n                        row: row,\n                        model: model\n                    })) {\n                    schema = that.dataSource.options.schema;\n                    if (that._selectedIds && schema && schema.model) {\n                        modelId = that.dataSource.options.schema.model.id;\n                        key = model[modelId];\n                        delete that._selectedIds[key];\n                    }\n                    that.dataSource.remove(model);\n                    if (mode === 'inline' || mode === 'popup') {\n                        that.dataSource.sync();\n                    }\n                } else if (mode === 'incell') {\n                    that._destroyEditable();\n                }\n            },\n            _editMode: function () {\n                var mode = 'incell', editable = this.options.editable;\n                if (editable !== true) {\n                    if (typeof editable == 'string') {\n                        mode = editable;\n                    } else {\n                        mode = editable.mode || mode;\n                    }\n                }\n                return mode;\n            },\n            editRow: function (row) {\n                var model;\n                var that = this;\n                if (row instanceof ObservableObject) {\n                    model = row;\n                } else {\n                    row = $(row);\n                    model = that._modelForContainer(row);\n                }\n                var mode = that._editMode();\n                var container;\n                that.cancelRow();\n                if (model) {\n                    row = that.tbody.children('[' + kendo.attr('uid') + '=' + model.uid + ']');\n                    that._attachModelChange(model);\n                    if (mode === 'popup') {\n                        that._createPopupEditor(model);\n                    } else if (mode === 'inline') {\n                        that._createInlineEditor(row, model);\n                    } else if (mode === 'incell') {\n                        $(row).children(DATA_CELL).each(function () {\n                            var cell = $(this);\n                            var column = leafColumns(that.columns)[that.cellIndex(cell)];\n                            model = that._modelForContainer(cell);\n                            if (model && (!model.editable || model.editable(column.field)) && column.field && !column.selectable) {\n                                that.editCell(cell);\n                                return false;\n                            }\n                        });\n                    }\n                    container = that.editView ? that.editView.element : that._editContainer;\n                    if (container) {\n                        if (!this._editCancelClickHandler) {\n                            this._editCancelClickHandler = proxy(this._editCancelClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-cancel', this._editCancelClickHandler);\n                        if (!this._editUpdateClickHandler) {\n                            this._editUpdateClickHandler = proxy(this._editUpdateClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-update', this._editUpdateClickHandler);\n                    }\n                }\n            },\n            _editUpdateClick: function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.saveRow();\n            },\n            _editCancelClick: function (e) {\n                var that = this;\n                var navigatable = that.options.navigatable;\n                var model = that.editable.options.model;\n                var container = that.editView ? that.editView.element : that._editContainer;\n                e.preventDefault();\n                e.stopPropagation();\n                if (that.trigger('cancel', {\n                        container: container,\n                        model: model\n                    })) {\n                    return;\n                }\n                var currentIndex = that.items().index($(that.current()).parent());\n                that.cancelRow();\n                if (navigatable) {\n                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                    focusTable(that.table, true);\n                }\n            },\n            _createPopupEditor: function (model) {\n                var that = this;\n                var html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form' + (that._isMobile ? ' k-mobile-list' : '') + '\"><div class=\"k-edit-form-container\">';\n                var column;\n                var command;\n                var fields = [];\n                var idx;\n                var length;\n                var tmpl;\n                var updateText;\n                var cancelText;\n                var updateIconClass;\n                var cancelIconClass;\n                var tempCommand;\n                var columns = leafColumns(that.columns);\n                var attr;\n                var editable = that.options.editable;\n                var template = editable.template;\n                var options = isPlainObject(editable) ? editable.window : {};\n                var settings = extend({}, kendo.Template, that.options.templateSettings);\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                options = options || {};\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                } else {\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.selectable) {\n                            continue;\n                        }\n                        if (!column.command) {\n                            html += '<div class=\"k-edit-label\"><label for=\"' + column.field + '\">' + (column.title || column.field || '') + '</label></div>';\n                            if (isColumnEditable(column, model)) {\n                                fields.push({\n                                    field: column.field,\n                                    format: column.format,\n                                    editor: column.editor,\n                                    values: column.values\n                                });\n                                html += '<div ' + kendo.attr('container-for') + '=\"' + column.field + '\" class=\"k-edit-field\"></div>';\n                            } else {\n                                var state = {\n                                    storage: {},\n                                    count: 0\n                                };\n                                tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                                if (state.count > 0) {\n                                    tmpl = proxy(tmpl, state.storage);\n                                }\n                                html += '<div class=\"k-edit-field\">' + tmpl(model) + '</div>';\n                            }\n                        } else if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                }\n                if (command) {\n                    if (isPlainObject(command)) {\n                        if (isPlainObject(command.text)) {\n                            updateText = command.text.update;\n                            cancelText = command.text.cancel;\n                        }\n                        if (isPlainObject(command.iconClass)) {\n                            updateIconClass = command.iconClass.update;\n                            cancelIconClass = command.iconClass.cancel;\n                        }\n                        if (command.attr) {\n                            attr = command.attr;\n                        }\n                    }\n                }\n                var container;\n                if (!that._isMobile) {\n                    html += '<div class=\"k-edit-buttons k-state-default\">';\n                    html += that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr,\n                        iconClass: updateIconClass\n                    }) + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr,\n                        iconClass: cancelIconClass\n                    });\n                    html += '</div></div></div>';\n                    container = that._editContainer = $(html).appendTo(that.wrapper).eq(0).kendoWindow(extend({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: 'Edit',\n                        visible: false,\n                        close: function (e) {\n                            if (e.userTriggered) {\n                                e.sender.element.focus();\n                                if (that.trigger('cancel', {\n                                        container: container,\n                                        model: model\n                                    })) {\n                                    e.preventDefault();\n                                    return;\n                                }\n                                var currentIndex = that.items().index($(that.current()).parent());\n                                that.cancelRow();\n                                if (that.options.navigatable) {\n                                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                    focusTable(that.table, true);\n                                }\n                            }\n                        }\n                    }, options));\n                } else {\n                    html += '</div></div>';\n                    that.editView = that.pane.append('<div data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'use-native-scrolling=\"true\" data-' + kendo.ns + 'init-widgets=\"false\" class=\"k-grid-edit-form\">' + '<div data-' + kendo.ns + 'role=\"header\" class=\"k-header\">' + that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr\n                    }) + (options.title || 'Edit') + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr\n                    }) + '</div>' + html + '</div>');\n                    container = that._editContainer = that.editView.element.find('.k-popup-edit-form');\n                }\n                that.editable = that._editContainer.kendoEditable({\n                    fields: fields,\n                    model: model,\n                    clearContainer: false,\n                    target: that\n                }).data('kendoEditable');\n                if (that._isMobile) {\n                    container.find('input[type=checkbox],input[type=radio]').parent('.k-edit-field').addClass('k-check').prev('.k-edit-label').addClass('k-check').click(function () {\n                        $(this).next().children('input').click();\n                    });\n                }\n                that._openPopUpEditor();\n                that.trigger(EDIT, {\n                    container: container,\n                    model: model\n                });\n            },\n            _openPopUpEditor: function () {\n                if (!this._isMobile) {\n                    this._editContainer.data('kendoWindow').center().open();\n                } else {\n                    this.pane.navigate(this.editView, this._editAnimation);\n                }\n            },\n            _createInlineEditor: function (row, model) {\n                var that = this;\n                var column;\n                var cell;\n                var command;\n                var fields = [];\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row.children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                    cell = $(this);\n                    column = leafColumns(that.columns)[that.cellIndex(cell)];\n                    if (!column.command && isColumnEditable(column, model)) {\n                        fields.push({\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        });\n                        cell.attr(kendo.attr('container-for'), column.field);\n                        cell.empty();\n                    } else if (column.command) {\n                        command = getCommand(column.command, 'edit');\n                        if (command) {\n                            cell.empty();\n                            var updateText, cancelText, updateIconClass, cancelIconClass, attr;\n                            if (isPlainObject(command)) {\n                                if (isPlainObject(command.text)) {\n                                    updateText = command.text.update;\n                                    cancelText = command.text.cancel;\n                                }\n                                if (isPlainObject(command.iconClass)) {\n                                    updateIconClass = command.iconClass.update;\n                                    cancelIconClass = command.iconClass.cancel;\n                                }\n                                if (command.attr) {\n                                    attr = command.attr;\n                                }\n                            }\n                            $(that._createButton({\n                                name: 'update',\n                                text: updateText,\n                                attr: attr,\n                                iconClass: updateIconClass\n                            }) + that._createButton({\n                                name: 'canceledit',\n                                text: cancelText,\n                                attr: attr,\n                                iconClass: cancelIconClass\n                            })).appendTo(cell);\n                        }\n                    }\n                });\n                that._editContainer = row;\n                that._editContainer.addClass('k-grid-edit-row');\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.editable = new kendo.ui.Editable(that._editContainer, {\n                    target: that,\n                    fields: fields,\n                    model: model,\n                    skipFocus: that._isVirtualInlineEditable() && that._editableState && that._editableState.field ? true : false,\n                    clearContainer: false\n                });\n                if (row.length > 1) {\n                    adjustRowHeight(row[0], row[1]);\n                    that._applyLockedContainersWidth();\n                }\n                that.trigger(EDIT, {\n                    container: row,\n                    model: model\n                });\n            },\n            cancelRow: function (notify) {\n                var that = this, container = that._editContainer, model;\n                if (container) {\n                    model = that._modelForContainer(container);\n                    if (!model || notify && that.trigger('cancel', {\n                            container: container,\n                            model: model\n                        })) {\n                        return;\n                    }\n                    that._destroyEditable();\n                    that.dataSource.cancelChanges(model);\n                    that._clearEditableState();\n                    if (that._editMode() !== 'popup') {\n                        that._displayRow(container);\n                    } else {\n                        that._displayRow(that.tbody.find('[' + kendo.attr('uid') + '=' + model.uid + ']'));\n                    }\n                }\n            },\n            saveRow: function () {\n                var that = this;\n                var container = this._editContainer;\n                var model = this._modelForContainer(container);\n                var deferred = $.Deferred();\n                var valid;\n                if (!container || !this.editable) {\n                    return deferred.resolve().promise();\n                }\n                valid = that.editable && that.editable.end();\n                if (!valid || this.trigger(SAVE, {\n                        container: container,\n                        model: model\n                    })) {\n                    if (!valid) {\n                        that._scrollVirtualWrapper();\n                    }\n                    return deferred.reject().promise();\n                }\n                that._clearEditableState();\n                return this.dataSource.sync();\n            },\n            _displayRow: function (row) {\n                var that = this, model = that._modelForContainer(row), related, newRow, nextRow, isSelected = row.hasClass('k-state-selected'), isAlt = row.hasClass('k-alt');\n                if (model) {\n                    if (that.lockedContent) {\n                        related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                        that._relatedRow(row.last()).replaceWith(related);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: row.get() };\n                    });\n                    newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                    if (!row.is(':visible')) {\n                        newRow.hide();\n                    }\n                    row.replaceWith(newRow);\n                    that.trigger('itemChange', {\n                        item: newRow,\n                        data: model,\n                        ns: ui\n                    });\n                    if (related && related.length) {\n                        that.trigger('itemChange', {\n                            item: related,\n                            data: model,\n                            ns: ui\n                        });\n                    }\n                    var angularElements = newRow;\n                    var angularData = [{ dataItem: model }];\n                    if (related && related.length) {\n                        angularElements = newRow.add(related);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: angularElements.get(),\n                            data: angularData\n                        };\n                    });\n                    if (isSelected && (that.options.selectable || that._checkBoxSelection)) {\n                        that.select(newRow.add(related));\n                    }\n                    if (related) {\n                        adjustRowHeight(newRow[0], related[0]);\n                    }\n                    nextRow = newRow.next();\n                    if (nextRow.hasClass('k-detail-row') && nextRow.is(':visible')) {\n                        newRow.find('.k-hierarchy-cell .k-icon').removeClass('k-i-expand').addClass('k-i-collapse');\n                    }\n                }\n            },\n            _showMessage: function (messages, row) {\n                var that = this;\n                if (!that._isMobile) {\n                    return window.confirm(messages.title);\n                }\n                var template = kendo.template('<ul>' + '<li class=\"km-actionsheet-title\">#:title#</li>' + '<li><a href=\"\\\\#\" class=\"k-button k-grid-delete\">#:confirmDelete#</a></li>' + '</ul>');\n                var html = $(template(messages)).appendTo(that.view.element);\n                var actionSheet = that._actionSheet = new kendo.mobile.ui.ActionSheet(html, {\n                    cancel: messages.cancelDelete,\n                    cancelTemplate: '<li class=\"km-actionsheet-cancel\"><a class=\"k-button\" href=\"\\\\#\">#:cancel#</a></li>',\n                    close: function () {\n                        this.destroy();\n                    },\n                    command: function (e) {\n                        var item = $(e.currentTarget).parent();\n                        if (!item.hasClass('km-actionsheet-cancel')) {\n                            that._removeRow(row);\n                        }\n                    },\n                    popup: that._actionSheetPopupOptions\n                });\n                actionSheet.open(row);\n                return false;\n            },\n            _confirmation: function (row) {\n                var that = this, editable = that.options.editable, confirmation = editable === true || typeof editable === STRING ? that.options.messages.editable.confirmation : editable.confirmation;\n                if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== FUNCTION && typeof confirmation !== STRING && confirmation !== false) {\n                    confirmation = that.options.messages.editable.confirmation;\n                }\n                if (confirmation !== false && confirmation != null) {\n                    if (typeof confirmation === FUNCTION) {\n                        confirmation = confirmation(that._modelForContainer(row));\n                    }\n                    return that._showMessage({\n                        confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                        cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                        title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                    }, row);\n                }\n                return true;\n            },\n            cancelChanges: function () {\n                var that = this;\n                that.dataSource.cancelChanges();\n                if (that._isVirtualEditable()) {\n                    that._virtualPageToTop(function () {\n                        that.virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            saveChanges: function () {\n                var that = this;\n                var valid = that.editable && that.editable.end();\n                if ((valid || !that.editable) && !that.trigger(SAVECHANGES)) {\n                    that.dataSource.sync();\n                } else if (!valid) {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            addRow: function () {\n                var that = this, index, dataSource = that.dataSource, mode = that._editMode(), createAt = that.options.editable.createAt || '', pageSize = dataSource.pageSize(), view = dataSource.view() || [];\n                var createAtBottom = createAt.toLowerCase() === BOTTOM;\n                var model;\n                var virtualEditable = that._isVirtualEditable();\n                if (that.editable && that.editable.end() || !that.editable) {\n                    if (mode != 'incell') {\n                        that.cancelRow();\n                    }\n                    index = dataSource.indexOf(view[0]);\n                    if (createAtBottom) {\n                        index += view.length;\n                        if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                            index -= 1;\n                        }\n                    }\n                    if (index < 0) {\n                        if (dataSource.page() > dataSource.totalPages()) {\n                            index = (dataSource.page() - 1) * pageSize;\n                        } else {\n                            index = 0;\n                        }\n                    }\n                    if (that.options.navigatable && mode == 'incell') {\n                        that._removeCurrent();\n                    }\n                    if (virtualEditable) {\n                        that._virtualAddRow();\n                    } else {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                    }\n                } else {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            _editModel: function (model) {\n                var that = this;\n                var createAt = that.options.editable.createAt || '';\n                var mode = that._editMode();\n                if (model) {\n                    var id = model.uid, table = that.lockedContent ? that.lockedTable : that.table, row = table.find('tr[' + kendo.attr('uid') + '=' + id + ']'), cell = row.children('td:not(.k-group-cell,.k-hierarchy-cell)').eq(that._firstEditableColumnIndex(row));\n                    if (mode === 'inline' && row.length) {\n                        that.editRow(row);\n                    } else if (mode === 'popup') {\n                        that.editRow(model);\n                    } else if (cell.length) {\n                        that.editCell(cell);\n                    }\n                    if (createAt.toLowerCase() == 'bottom' && that.lockedContent) {\n                        that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                    }\n                }\n            },\n            _virtualAddRow: function () {\n                var that = this;\n                var createAtBottom = (that.options.editable.createAt || '').toLowerCase() === BOTTOM;\n                that._clearEditableState();\n                if (createAtBottom) {\n                    that._virtualAddRowAtBottom();\n                } else {\n                    that._virtualAddRowAtTop();\n                }\n            },\n            _virtualAddRowAtTop: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var model;\n                if (dataSource.page() === 1) {\n                    model = dataSource.insert(0, {});\n                    that._editModel(model);\n                    virtualScrollable.scrollToTop();\n                } else {\n                    that._virtualPageToTop(function () {\n                        model = dataSource.insert(0, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            _virtualAddRowAtBottom: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var index = dataSource.total();\n                var model;\n                if (dataSource.at(index - 1) instanceof ObservableObject) {\n                    model = dataSource.insert(index, {});\n                    that._virtualPageToBottom(function () {\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                } else {\n                    that._virtualPageToBottom(function () {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                }\n            },\n            _virtualPageToTop: function (callback) {\n                var that = this;\n                that._virtualPage(0, that.dataSource.take(), function () {\n                    callback();\n                });\n            },\n            _virtualPageToBottom: function (callback) {\n                var that = this;\n                var dataSource = that.dataSource;\n                var take = dataSource.take();\n                var total = dataSource.total();\n                var skip = total > take ? total - take : 0;\n                that._virtualPage(skip, take, function () {\n                    callback();\n                });\n            },\n            _virtualPage: function (skip, take, callback) {\n                var that = this;\n                if (that._isVirtualEditable()) {\n                    that.virtualScrollable._preventScroll = true;\n                    that.virtualScrollable._page(skip, take, callback);\n                }\n            },\n            _firstEditableColumnIndex: function (container) {\n                var that = this, column, columns = leafColumns(that.columns), idx, length, model = that._modelForContainer(container);\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _toolbar: function () {\n                var that = this, wrapper = that.wrapper, toolbar = that.options.toolbar, editable = that.options.editable, container;\n                if (toolbar) {\n                    container = that.wrapper.find('.k-grid-toolbar');\n                    if (!container.length) {\n                        if (!isFunction(toolbar)) {\n                            toolbar = typeof toolbar === STRING ? toolbar : that._toolbarTmpl(toolbar).replace(templateHashRegExp, '\\\\#');\n                            toolbar = proxy(kendo.template(toolbar), that);\n                        }\n                        container = $('<div class=\"k-header k-grid-toolbar\" />').html(toolbar({})).prependTo(wrapper);\n                        that.angular('compile', function () {\n                            return { elements: container.get() };\n                        });\n                    }\n                    if (editable && editable.create !== false) {\n                        container.on(CLICK + NS, '.k-grid-add', function (e) {\n                            e.preventDefault();\n                            that.addRow();\n                        }).on(CLICK + NS, '.k-grid-cancel-changes', function (e) {\n                            e.preventDefault();\n                            that.cancelChanges();\n                        }).on(CLICK + NS, '.k-grid-save-changes', function (e) {\n                            e.preventDefault();\n                            that.saveChanges();\n                        });\n                    }\n                    container.on(CLICK + NS, '.k-grid-excel', function (e) {\n                        e.preventDefault();\n                        that.saveAsExcel();\n                    });\n                    container.on(CLICK + NS, '.k-grid-pdf', function (e) {\n                        e.preventDefault();\n                        that.saveAsPDF();\n                    });\n                }\n            },\n            _toolbarTmpl: function (commands) {\n                var that = this, idx, length, html = '';\n                if (isArray(commands)) {\n                    for (idx = 0, length = commands.length; idx < length; idx++) {\n                        html += that._createButton(commands[idx]);\n                    }\n                }\n                return html;\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-grid-' + (commandName || '').replace(/\\s/g, ''), options = {\n                        className: className,\n                        text: commandName,\n                        attr: '',\n                        iconClass: ''\n                    }, messages = this.options.messages.commands, attributeClassMatch;\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    command = extend(true, {}, command);\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    } else if (command.className === undefined) {\n                        command.className = options.className;\n                    }\n                    if (commandName === 'edit') {\n                        command = extend(true, {}, command);\n                        command.text = isPlainObject(command.text) ? command.text.edit : command.text;\n                        command.iconClass = isPlainObject(command.iconClass) ? command.iconClass.edit : command.iconClass;\n                    }\n                    if (command.attr) {\n                        if (isPlainObject(command.attr)) {\n                            command.attr = stringifyAttributes(command.attr);\n                        }\n                        if (typeof command.attr === STRING) {\n                            attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n                            if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(' ')) < 0) {\n                                command.className += ' ' + attributeClassMatch[1];\n                            }\n                        }\n                    }\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                }\n                return kendo.template(template)(options);\n            },\n            _hasFooters: function () {\n                return !!this.footerTemplate || !!this.groupFooterTemplate || this.footer && this.footer.length > 0 || this.wrapper.find('.k-grid-footer').length > 0;\n            },\n            _groupable: function () {\n                var that = this;\n                if (that._groupableClickHandler) {\n                    that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n                } else {\n                    that._groupableClickHandler = function (e) {\n                        var element = $(this), groupRow = element.closest('tr');\n                        var group = that._groupRows ? that._groupRows[that.wrapper.find('.k-grouping-row').index(groupRow)] : {};\n                        if (element.hasClass('k-i-collapse')) {\n                            if (!that.trigger('groupCollapse', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.collapseGroup(groupRow);\n                            }\n                        } else {\n                            if (!that.trigger('groupExpand', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.expandGroup(groupRow);\n                            }\n                        }\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                }\n                if (that._isLocked()) {\n                    that.lockedTable.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                } else {\n                    that.table.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                }\n                that._attachGroupable();\n            },\n            _attachGroupable: function () {\n                var that = this, wrapper = that.wrapper, groupable = that.options.groupable, draggables = HEADERCELLS + '[' + kendo.attr('field') + ']', filter = that.content ? '.k-grid-header:first ' + draggables : 'table:first>.k-grid-header ' + draggables;\n                if (groupable && groupable.enabled !== false) {\n                    if (!wrapper.has('div.k-grouping-header')[0]) {\n                        $('<div>&nbsp;</div>').addClass('k-grouping-header').prependTo(wrapper);\n                    }\n                    if (that.groupable) {\n                        that.groupable.destroy();\n                    }\n                    that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                        draggable: that._draggableInstance,\n                        groupContainer: '>div.k-grouping-header',\n                        dataSource: that.dataSource,\n                        draggableElements: filter,\n                        filter: filter,\n                        allowDrag: that.options.reorderable,\n                        change: function (e) {\n                            if (that.trigger('group', { groups: e.groups })) {\n                                e.preventDefault();\n                            } else {\n                                that._clearEditableState();\n                                if (that.dataSource.options.endless) {\n                                    that.dataSource.options.endless = null;\n                                    that._endlessPageSize = that.dataSource.options.pageSize;\n                                    that.dataSource._skip = 0;\n                                    that.dataSource._page = 1;\n                                }\n                            }\n                        }\n                    }));\n                }\n            },\n            _continuousItems: function (filter, cell) {\n                if (!this.lockedContent) {\n                    return;\n                }\n                var that = this;\n                var elements = that.table.add(that.lockedTable);\n                var lockedItems = $(filter, elements[0]);\n                var nonLockedItems = $(filter, elements[1]);\n                var columns = cell ? lockedColumns(that.columns).length : 1;\n                var nonLockedColumns = cell ? that.columns.length - columns : 1;\n                var result = [];\n                for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                    push.apply(result, lockedItems.slice(idx, idx + columns));\n                    push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n                }\n                return result;\n            },\n            _selectable: function () {\n                var that = this, multi, cell, notString = [], isLocked = that._isLocked(), selectable = that.options.selectable;\n                if (selectable) {\n                    if (that.selectable) {\n                        that.selectable.destroy();\n                    }\n                    that._selectedIds = {};\n                    selectable = kendo.ui.Selectable.parseOptions(selectable);\n                    multi = selectable.multiple;\n                    cell = selectable.cell;\n                    if (that._hasDetails()) {\n                        notString[notString.length] = '.k-detail-row';\n                    }\n                    if (that.options.groupable || that._hasFooters() || that._groups()) {\n                        notString[notString.length] = '.k-grouping-row,.k-group-footer';\n                    }\n                    notString = notString.join(',');\n                    if (notString !== '') {\n                        notString = ':not(' + notString + ')';\n                    }\n                    var elements = that.table;\n                    if (isLocked) {\n                        elements = elements.add(that.lockedTable);\n                    }\n                    var filter = '>' + (cell ? SELECTION_CELL_SELECTOR : 'tbody>tr' + notString);\n                    that.selectable = new kendo.ui.Selectable(elements, {\n                        filter: filter,\n                        aria: true,\n                        multiple: multi,\n                        change: function () {\n                            if (!cell) {\n                                that._persistSelectedRows();\n                            }\n                            that.trigger(CHANGE);\n                        },\n                        useAllItems: isLocked && multi && cell,\n                        relatedTarget: function (items) {\n                            if (cell || !isLocked) {\n                                return;\n                            }\n                            var related;\n                            var result = $();\n                            for (var idx = 0, length = items.length; idx < length; idx++) {\n                                related = that._relatedRow(items[idx]);\n                                if (inArray(related[0], items) < 0) {\n                                    result = result.add(related);\n                                }\n                            }\n                            return result;\n                        },\n                        continuousItems: function () {\n                            return that._continuousItems(filter, cell);\n                        }\n                    });\n                    if (that.options.navigatable) {\n                        elements.on('keydown' + NS, function (e) {\n                            var current = that.current();\n                            var target = e.target;\n                            if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, elements) > -1 && !current.is('.k-edit-cell,.k-header') && current.parent().is(':not(.k-grouping-row,.k-detail-row,.k-group-footer)')) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = cell ? current : current.parent();\n                                if (isLocked && !cell) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!e.ctrlKey) {\n                                        that.selectable.clear();\n                                    } else {\n                                        if (current.hasClass(SELECTED)) {\n                                            current.removeClass(SELECTED);\n                                            that.trigger(CHANGE);\n                                            return;\n                                        }\n                                    }\n                                } else {\n                                    that.selectable.clear();\n                                }\n                                if (!cell) {\n                                    that.selectable._lastActive = current;\n                                }\n                                that.selectable.value(current);\n                            } else if (!cell && ($(target).is('td') || $(target).is('table') && inArray(target, this._navigatableTables)) && (e.shiftKey && e.keyCode == keys.LEFT || e.shiftKey && e.keyCode == keys.RIGHT || e.shiftKey && e.keyCode == keys.UP || e.shiftKey && e.keyCode == keys.DOWN || e.keyCode === keys.SPACEBAR && e.shiftKey)) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = current.parent();\n                                if (isLocked) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!that.selectable._lastActive) {\n                                        that.selectable._lastActive = current;\n                                    }\n                                    that.selectable.selectRange(that.selectable._firstSelectee(), current);\n                                } else {\n                                    that.selectable.clear();\n                                    that.selectable.value(current);\n                                }\n                            }\n                        });\n                    }\n                }\n            },\n            _clipboard: function () {\n                var options = this.options;\n                var selectable = options.selectable;\n                if (selectable && options.allowCopy) {\n                    var grid = this;\n                    if (!options.navigatable) {\n                        grid.table.add(grid.lockedTable).attr('tabindex', 0).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                            if (e.target !== e.currentTarget) {\n                                e.stopImmediatePropagation();\n                            }\n                        }).on('mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, grid));\n                    }\n                    grid.copyHandler = proxy(grid.copySelection, grid);\n                    grid.updateClipBoardState = function () {\n                        if (grid.areaClipBoard) {\n                            grid.areaClipBoard.val(grid.getTSV()).focus().select();\n                        }\n                    };\n                    grid.bind('change', grid.updateClipBoardState);\n                    grid.wrapper.on('keydown', grid.copyHandler);\n                    grid.clearAreaHandler = proxy(grid.clearArea, grid);\n                    grid.wrapper.on('keyup', grid.clearAreaHandler);\n                }\n            },\n            copySelection: function (e) {\n                if (e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey) || $(e.target).is('input:visible,textarea:visible') || window.getSelection && window.getSelection().toString() || document.selection && document.selection.createRange().text) {\n                    return;\n                }\n                if (!this.areaClipBoard) {\n                    this.areaClipBoard = $('<textarea />').css({\n                        position: 'fixed',\n                        top: '50%',\n                        left: '50%',\n                        opacity: 0,\n                        width: 0,\n                        height: 0\n                    }).appendTo(this.wrapper);\n                }\n                this.areaClipBoard.val(this.getTSV()).focus().select();\n            },\n            getTSV: function () {\n                var grid = this;\n                var selected = grid.select();\n                var delimeter = '\\t';\n                var allowCopy = grid.options.allowCopy;\n                var onlyVisible = true;\n                if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                    delimeter = allowCopy.delimeter;\n                }\n                var text = '';\n                if (selected.length) {\n                    if (selected.eq(0).is('tr')) {\n                        selected = selected.find('td:not(.k-group-cell)');\n                    }\n                    if (onlyVisible) {\n                        selected.filter(':visible');\n                    }\n                    var result = [];\n                    var cellsOffset = this.columns.length;\n                    var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                    var inLockedArea = true;\n                    $.each(selected, function (idx, cell) {\n                        cell = $(cell);\n                        var tr = cell.closest('tr');\n                        var rowIndex = tr.index();\n                        var cellIndex = cell.index();\n                        if (onlyVisible) {\n                            cellIndex -= cell.prevAll(':hidden').length;\n                        }\n                        if (lockedCols && inLockedArea) {\n                            inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                        }\n                        if (grid._groups() && inLockedArea) {\n                            cellIndex -= grid._groups();\n                        }\n                        cellIndex = inLockedArea ? cellIndex : cellIndex + lockedCols;\n                        if (cellsOffset > cellIndex) {\n                            cellsOffset = cellIndex;\n                        }\n                        var cellText = cell.text();\n                        if (!result[rowIndex]) {\n                            result[rowIndex] = [];\n                        }\n                        result[rowIndex][cellIndex] = cellText;\n                    });\n                    var rowsOffset = result.length;\n                    result = $.each(result, function (idx, val) {\n                        if (val) {\n                            result[idx] = val.slice(cellsOffset);\n                            if (rowsOffset > idx) {\n                                rowsOffset = idx;\n                            }\n                        }\n                    });\n                    $.each(result.slice(rowsOffset), function (idx, val) {\n                        if (val) {\n                            text += val.join(delimeter) + '\\r\\n';\n                        } else {\n                            text += '\\r\\n';\n                        }\n                    });\n                }\n                return text;\n            },\n            clearArea: function (e) {\n                var table;\n                if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                    if (this.options.navigatable) {\n                        table = $(this.current()).closest('table');\n                    } else {\n                        table = this.table;\n                    }\n                    focusTable(table, true);\n                }\n                if (this.areaClipBoard) {\n                    this.areaClipBoard.remove();\n                    this.areaClipBoard = null;\n                }\n            },\n            _minScreenSupport: function () {\n                var any = this.hideMinScreenCols();\n                if (any) {\n                    this.minScreenResizeHandler = proxy(this.hideMinScreenCols, this);\n                    $(window).on('resize', this.minScreenResizeHandler);\n                }\n            },\n            hideMinScreenCols: function () {\n                var cols = this.columns, screenWidth = window.innerWidth > 0 ? window.innerWidth : screen.width;\n                return this._iterateMinScreenCols(cols, screenWidth);\n            },\n            _iterateMinScreenCols: function (cols, screenWidth) {\n                var any = false;\n                for (var i = 0; i < cols.length; i++) {\n                    var col = cols[i];\n                    var minWidth = col.minScreenWidth;\n                    if (minWidth !== undefined && minWidth !== null) {\n                        any = true;\n                        if (minWidth > screenWidth) {\n                            this.hideColumn(col);\n                        } else {\n                            this.showColumn(col);\n                        }\n                    }\n                    if (!col.hidden && col.columns) {\n                        any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                    }\n                }\n                return any;\n            },\n            _relatedRow: function (row) {\n                var lockedTable = this.lockedTable;\n                row = $(row);\n                if (!lockedTable) {\n                    return row;\n                }\n                var table = row.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr').index(row);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr').eq(index);\n            },\n            _relatedCell: function (cell) {\n                var lockedTable = this.lockedTable;\n                cell = $(cell);\n                if (!lockedTable) {\n                    return cell;\n                }\n                var table = cell.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr>td').index(cell);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr>td').index(index);\n            },\n            clearSelection: function () {\n                var that = this;\n                if (that.selectable) {\n                    that.selectable.clear();\n                }\n                if (that._checkBoxSelection) {\n                    that._deselectCheckRows(that.select());\n                    return;\n                }\n                if (that.options.persistSelection) {\n                    that._persistSelectedRows();\n                } else {\n                    that._selectedIds = {};\n                }\n                that.trigger(CHANGE);\n            },\n            select: function (items) {\n                var that = this, selectable = that.selectable, selectableoptions = kendo.ui.Selectable.parseOptions(this.options.selectable), cell = selectableoptions.cell;\n                items = that.table.add(that.lockedTable).find(items);\n                if (items.length) {\n                    if (selectable && !selectable.options.multiple) {\n                        selectable.clear();\n                        items = items.first();\n                    }\n                    if (that._isLocked()) {\n                        items = items.add(items.map(function () {\n                            if (cell) {\n                                return that._relatedCell(this);\n                            } else {\n                                return that._relatedRow(this);\n                            }\n                        }));\n                    }\n                    if (selectable) {\n                        selectable.value(items);\n                    } else {\n                        items.each(function () {\n                            $(this).addClass(SELECTED).find(CHECKBOXINPUT).prop('checked', true).attr('aria-label', 'Deselect row').attr('aria-checked', true);\n                        });\n                        if (that.select().length === that.items().length) {\n                            that._toggleHeaderCheckState(true);\n                        }\n                        if (!cell) {\n                            that._persistSelectedRows();\n                        }\n                        that.trigger(CHANGE);\n                    }\n                    return;\n                }\n                return selectable ? selectable.value() : that.items().filter('.' + SELECTED);\n            },\n            _toggleHeaderCheckState: function (checked) {\n                var that = this;\n                if (checked) {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', true).attr('aria-checked', true).attr('aria-label', 'Deselect all rows');\n                } else {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', false).attr('aria-checked', false).attr('aria-label', 'Select all rows');\n                }\n            },\n            _deselectCheckRows: function (items) {\n                var that = this;\n                items = that.table.add(that.lockedTable).find(items);\n                if (that._isLocked()) {\n                    items = items.add(items.map(function () {\n                        return that._relatedRow(this);\n                    }));\n                }\n                items.each(function () {\n                    $(this).removeClass(SELECTED).find(CHECKBOXINPUT).attr('aria-checked', false).prop('checked', false).attr('aria-label', 'Select row');\n                });\n                that._toggleHeaderCheckState(false);\n                if (that.options.persistSelection) {\n                    that._persistSelectedRows();\n                } else {\n                    that._selectedIds = {};\n                }\n                that.trigger(CHANGE);\n            },\n            _persistSelectedRows: function () {\n                var that = this, key, dataItem, allRows = that.items(), dataSourceOptions = that.dataSource.options, schema = dataSourceOptions.schema, modelId, selectedViewIds = {};\n                if (!schema || !schema.model || !schema.model.id) {\n                    return;\n                }\n                modelId = schema.model.id;\n                that.select().each(function () {\n                    dataItem = that.dataItem(this);\n                    selectedViewIds[dataItem[modelId]] = true;\n                });\n                for (var i = 0; i < allRows.length; i++) {\n                    dataItem = that.dataItem(allRows[i]);\n                    key = dataItem[modelId];\n                    if (selectedViewIds[key]) {\n                        that._selectedIds[key] = true;\n                    } else {\n                        delete that._selectedIds[key];\n                    }\n                }\n            },\n            selectedKeyNames: function () {\n                var that = this, ids = [];\n                for (var property in that._selectedIds) {\n                    ids.push(property);\n                }\n                ids.sort();\n                return ids;\n            },\n            _updateCurrentAttr: function (current, next) {\n                var headerId = $(current).data('headerId');\n                $(current).removeClass(FOCUSED).closest('table').removeAttr('aria-activedescendant');\n                if (headerId) {\n                    headerId = headerId.replace(this._cellId, '');\n                    $(current).attr('id', headerId);\n                } else {\n                    $(current).removeAttr('id');\n                }\n                next.data('headerId', next.attr('id')).attr('id', this._cellId).addClass(FOCUSED).closest('table').attr('aria-activedescendant', this._cellId);\n                this._current = next;\n            },\n            _scrollCurrent: function () {\n                var current = this._current;\n                var scrollable = this.options.scrollable;\n                if (!current || !scrollable) {\n                    return;\n                }\n                var row = current.parent();\n                var tableContainer = row.closest('table').parent();\n                var isInLockedContainer = tableContainer.is('.k-grid-content-locked,.k-grid-header-locked');\n                var isInContent = tableContainer.is('.k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap');\n                var scrollableContainer = $(this.content).find('>.k-virtual-scrollable-wrap').addBack().last()[0];\n                if (isInContent) {\n                    if (scrollable.virtual) {\n                        var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                        this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                        this.virtualScrollable.scrollIntoView(row);\n                    } else {\n                        this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                    }\n                }\n                if (this.lockedContent) {\n                    this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n                }\n                if (!isInLockedContainer) {\n                    this._scrollTo(current[0], scrollableContainer);\n                }\n            },\n            current: function (next) {\n                return this._setCurrent(next, true);\n            },\n            _setCurrent: function (next, preventTrigger) {\n                var current = this._current;\n                next = $(next);\n                if (next.length) {\n                    if (!current || current[0] !== next[0]) {\n                        this._updateCurrentAttr(current, next);\n                        this._scrollCurrent();\n                        if (!preventTrigger) {\n                            this.trigger(NAVIGATE, { element: next });\n                        }\n                    }\n                }\n                if (next && next.length) {\n                    this._lastCellIndex = next.parent().children(DATA_CELL).index(next);\n                }\n                return this._current;\n            },\n            _removeCurrent: function () {\n                if (this._current) {\n                    this._current.removeClass(FOCUSED);\n                    this._current = null;\n                }\n            },\n            _scrollTo: function (element, container) {\n                var elementToLowercase = element.tagName.toLowerCase();\n                var isHorizontal = elementToLowercase === 'td' || elementToLowercase === 'th';\n                var elementOffset = element[isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                var elementOffsetDir = element[isHorizontal ? 'offsetWidth' : 'offsetHeight'];\n                var containerScroll = container[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n                var containerOffsetDir = container[isHorizontal ? 'clientWidth' : 'clientHeight'];\n                var bottomDistance = elementOffset + elementOffsetDir;\n                var result = 0;\n                var ieCorrection = 0;\n                var firefoxCorrection = 0;\n                if (isRtl && isHorizontal) {\n                    var table = $(element).closest('table')[0];\n                    if (browser.msie) {\n                        ieCorrection = table.offsetLeft;\n                    } else if (browser.mozilla) {\n                        firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                    }\n                }\n                containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = bottomDistance - containerOffsetDir;\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                result = Math.abs(result + ieCorrection) + firefoxCorrection;\n                container[isHorizontal ? 'scrollLeft' : 'scrollTop'] = result;\n            },\n            _navigatable: function () {\n                var that = this;\n                if (!that.options.navigatable) {\n                    return;\n                }\n                var dataTables = that.table.add(that.lockedTable);\n                var headerTables = that.thead.parent().add($('>table', that.lockedHeader));\n                var tables = dataTables;\n                if (that.options.scrollable) {\n                    tables = tables.add(headerTables);\n                    headerTables.attr(TABINDEX, -1);\n                }\n                this._navigatableTables = tables;\n                tables.off('mousedown' + NS + ' focus' + NS + ' focusout' + NS + ' keydown' + NS);\n                headerTables.on('keydown' + NS, proxy(that._openHeaderMenu, that)).find('a.k-link').attr('tabIndex', -1);\n                dataTables.attr(TABINDEX, math.max(dataTables.attr(TABINDEX) || 0, 0)).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                    if (e.target !== e.currentTarget) {\n                        e.stopImmediatePropagation();\n                    }\n                });\n                tables.on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, that)).on('focus' + NS, proxy(that._tableFocus, that)).on('focusout' + NS, proxy(that._tableBlur, that)).on('keydown' + NS, proxy(that._tableKeyDown, that));\n            },\n            _openHeaderMenu: function (e) {\n                if (e.altKey && e.keyCode == keys.DOWN) {\n                    this.current().find('.k-grid-filter, .k-header-column-menu').click();\n                    e.stopImmediatePropagation();\n                }\n            },\n            _setTabIndex: function (table) {\n                this._navigatableTables.attr(TABINDEX, -1);\n                table.attr(TABINDEX, 0);\n            },\n            _tableFocus: function (e) {\n                var current = this.current();\n                var table = $(e.currentTarget);\n                if (current && current.is(':visible')) {\n                    current.addClass(FOCUSED);\n                } else {\n                    this._setCurrent(table.find(FIRSTNAVITEM));\n                }\n                this._setTabIndex(table);\n            },\n            _tableBlur: function () {\n                var current = this.current();\n                if (current) {\n                    current.removeClass(FOCUSED);\n                }\n            },\n            _tableKeyDown: function (e) {\n                var current = this.current();\n                var requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching();\n                var target = $(e.target);\n                var canHandle = !e.isDefaultPrevented() && !target.is(':button,a,:input,a>.k-icon');\n                if (requestInProgress) {\n                    e.preventDefault();\n                    return;\n                }\n                current = current ? current : $(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(FIRSTNAVITEM);\n                if (!current.length) {\n                    return;\n                }\n                var handled = false;\n                if (canHandle && e.keyCode == keys.UP) {\n                    handled = this._moveUp(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == keys.DOWN) {\n                    handled = this._moveDown(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                    handled = this._moveRight(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                    handled = this._moveLeft(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                    handled = this._handlePageDown();\n                }\n                if (canHandle && e.keyCode == keys.PAGEUP) {\n                    handled = this._handlePageUp();\n                }\n                if (canHandle && e.keyCode == keys.HOME) {\n                    handled = this._handleHome(current, e.ctrlKey);\n                }\n                if (canHandle && e.keyCode == keys.END) {\n                    handled = this._handleEnd(current, e.ctrlKey);\n                }\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                    handled = this._handleEnterKey(current, e.currentTarget, target);\n                }\n                if (e.keyCode == keys.ESC) {\n                    handled = this._handleEscKey(current, e.currentTarget);\n                }\n                if (e.keyCode == keys.TAB) {\n                    handled = this._handleTabKey(current, e.currentTarget, e.shiftKey);\n                }\n                if (handled) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _moveLeft: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.collapseRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, true);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._prevHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.lockedTable[0], row[0])) {\n                                    next = next.prevAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':last');\n                            } else {\n                                next = this._tabNext(current, currentTable, true);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container);\n                            next = this._prevHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveRight: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.expandRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, false);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._nextHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.table[0], row[0])) {\n                                    next = next.nextAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':first');\n                            } else {\n                                next = this._tabNext(current, currentTable, false);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container, true);\n                            next = this._nextHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveUp: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.prevAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':last');\n                } else {\n                    next = this._prevVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container, true);\n                        next = this._prevVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveDown: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.nextAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':first');\n                } else {\n                    next = this._nextVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container);\n                        next = this._nextVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveColumn: function (current, isLeft) {\n                var elements = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + ':visible');\n                var columns = visibleColumns(flatColumnsInDomOrder(this.columns));\n                var oldIndex = elements.index($(current));\n                var offset = isLeft ? -1 : 1;\n                var column = columns[oldIndex];\n                var newIndex = targetParentContainerIndex(columns, this.columns, oldIndex, oldIndex + offset);\n                if (newIndex >= 0) {\n                    this.reorderColumn(newIndex, column, isLeft);\n                }\n            },\n            _handleHome: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var prev;\n                if (ctrl) {\n                    if (this.lockedTable) {\n                        prev = this.lockedTable.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    } else {\n                        prev = this.table.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    }\n                } else if (isInBody || isInLockedTable) {\n                    if (isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    prev = row.children(DATA_CELL + ':first');\n                }\n                if (prev && prev.length) {\n                    this._setCurrent(prev);\n                    return true;\n                }\n            },\n            _handleEnd: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var next;\n                if (ctrl) {\n                    next = this.table.find(LASTITEMROW + '>' + NAVCELL + ':last');\n                } else if (isInBody || isInLockedTable) {\n                    if (!isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    next = row.children(DATA_CELL + ':last');\n                }\n                if (next && next.length) {\n                    this._setCurrent(next);\n                    return true;\n                }\n            },\n            _handlePageDown: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() + 1);\n                return true;\n            },\n            _handlePageUp: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() - 1);\n                return true;\n            },\n            _handleTabKey: function (current, currentTable, shiftKey) {\n                var isInCell = this.options.editable && this._editMode() == 'incell';\n                var cell;\n                if (!isInCell || current.is('th')) {\n                    return false;\n                }\n                cell = $(activeElement()).closest('.k-edit-cell');\n                if (cell[0] && cell[0] !== current[0]) {\n                    current = cell;\n                }\n                cell = this._tabNext(current, currentTable, shiftKey);\n                if (cell.length) {\n                    this._handleEditing(current, cell, cell.closest('table'));\n                    return true;\n                }\n                return false;\n            },\n            _handleEscKey: function (current, currentTable) {\n                var active = activeElement();\n                var isInCell = this._editMode() == 'incell';\n                if (!isInEdit(current)) {\n                    if (current.has(active).length) {\n                        focusTable(currentTable, true);\n                        return true;\n                    }\n                    return false;\n                }\n                if (isInCell) {\n                    this.closeCell(true);\n                } else {\n                    var currentIndex = $(current).parent().index();\n                    if (active) {\n                        active.blur();\n                    }\n                    this.cancelRow(true);\n                    if (currentIndex >= 0) {\n                        this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                    }\n                }\n                if (browser.msie && browser.version < 9) {\n                    document.body.focus();\n                }\n                focusTable(currentTable, true);\n                return true;\n            },\n            _toggleCurrent: function (current, editable) {\n                var row = current.parent();\n                if (row.is('.k-grouping-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                if (!editable && row.is('.k-master-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                return false;\n            },\n            _handleEnterKey: function (current, currentTable, target) {\n                var editable = this.options.editable && this.options.editable.update !== false;\n                var container = target.closest('[role=gridcell]');\n                var link;\n                if (!target.is('table') && !$.contains(current[0], target[0])) {\n                    current = container;\n                }\n                if (current.is('th')) {\n                    link = current.find('.k-link');\n                    if (link.length) {\n                        link.click();\n                    } else {\n                        current.find(CHECKBOXINPUT).focus();\n                    }\n                    return true;\n                }\n                if (this._toggleCurrent(current, editable)) {\n                    return true;\n                }\n                var focusable = current.find(':kendoFocusable:first');\n                if (focusable[0] && !current.hasClass('k-edit-cell') && current.hasClass('k-state-focused')) {\n                    focusable.focus();\n                    return true;\n                }\n                if (editable && !target.is(':button,.k-button,textarea')) {\n                    if (!container[0]) {\n                        container = current;\n                    }\n                    this._handleEditing(container, false, currentTable);\n                    return true;\n                }\n                return false;\n            },\n            _nextHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.nextAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children(':visible').first()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).first();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).first();\n                    }\n                }\n                return cells.first();\n            },\n            _prevHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.prevAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            var columns = lockedColumns(this.columns);\n                            mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).last();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).last();\n                    }\n                }\n                return cells.first();\n            },\n            _currentDataIndex: function (table, current) {\n                var index = current.attr('data-index');\n                if (!index) {\n                    return undefined;\n                }\n                var lockedColumnsCount = lockedColumns(this.columns).length;\n                if (lockedColumnsCount && !table.closest('div').hasClass('k-grid-content-locked')[0]) {\n                    return index - lockedColumnsCount;\n                }\n                return index;\n            },\n            _prevVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (index || current.hasClass('k-header')) {\n                    cells = parentColumnsCells(current);\n                    return cells.eq(cells.length - 2);\n                }\n                index = Math.max(row.children(DATA_CELL).index(current), this._lastCellIndex || 0);\n                if (row.hasClass('k-filter-row')) {\n                    return leafDataCells(container).filter(isCellVisible).eq(index);\n                }\n                if (rowIndex == -1) {\n                    row = container.find('tr.k-filter-row:visible');\n                    if (!row[0]) {\n                        return leafDataCells(container).filter(isCellVisible).eq(index);\n                    }\n                } else {\n                    row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _nextVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (rowIndex != -1 && index === undefined && current.hasClass('k-header')) {\n                    return childColumnsCells(current).eq(1);\n                }\n                index = index ? parseInt(index, 10) : row.children(DATA_CELL).index(current);\n                index = Math.max(index, this._lastCellIndex || 0);\n                if (rowIndex == -1) {\n                    row = rows.eq(0);\n                } else {\n                    row = rows.eq(rowIndex + current[0].rowSpan);\n                }\n                var tmpIndex = index;\n                if (this._currentDataIndex(container, current) !== undefined) {\n                    var currentRowCells = row.children(':not(.k-group-cell):not(.k-hierarchy-cell)');\n                    var hiddenColumns = currentRowCells.filter(':hidden');\n                    for (var idx = 0, length = hiddenColumns.length; idx < length; idx++) {\n                        if (currentRowCells.index(hiddenColumns[idx]) < index) {\n                            tmpIndex--;\n                        }\n                    }\n                }\n                index = tmpIndex;\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _verticalContainer: function (container, up) {\n                var table = container.parent();\n                var length = this._navigatableTables.length;\n                var step = Math.floor(length / 2);\n                var index = inArray(table[0], this._navigatableTables);\n                if (up) {\n                    step *= -1;\n                }\n                index += step;\n                if (index >= 0 || index < length) {\n                    table = this._navigatableTables.eq(index);\n                }\n                return table.find(up ? 'thead' : 'tbody');\n            },\n            _horizontalContainer: function (container, right) {\n                var length = this._navigatableTables.length;\n                if (length <= 2) {\n                    return container;\n                }\n                var table = container.parent();\n                var index = inArray(table[0], this._navigatableTables);\n                index += right ? 1 : -1;\n                if (right && (index == 2 || index == length)) {\n                    return container;\n                }\n                if (!right && (index == 1 || index < 0)) {\n                    return container;\n                }\n                return this._navigatableTables.eq(index).find('thead, tbody');\n            },\n            _tabNext: function (current, currentTable, back) {\n                var switchRow = true;\n                var next = back ? current.prevAll(DATA_CELL + ':first') : current.nextAll(':visible:first');\n                if (!next.length) {\n                    next = current.parent();\n                    if (this.lockedTable) {\n                        switchRow = back && currentTable == this.lockedTable[0] || !back && currentTable == this.table[0];\n                        next = this._relatedRow(next);\n                    }\n                    if (switchRow) {\n                        next = next[back ? 'prevAll' : 'nextAll']('tr:not(.k-grouping-row):not(.k-detail-row):visible:first');\n                    }\n                    next = next.children(DATA_CELL + (back ? ':last' : ':first'));\n                }\n                return next;\n            },\n            _handleEditing: function (current, next, table) {\n                var that = this, active = $(activeElement()), mode = that._editMode(), isIE = browser.msie, oldIE = isIE && browser.version < 9, editContainer = that._editContainer, focusable, editable = that.options.editable && that.options.editable.update !== false, isEdited;\n                table = $(table);\n                if (mode == 'incell') {\n                    isEdited = current.hasClass('k-edit-cell');\n                } else {\n                    isEdited = current.parent().hasClass('k-grid-edit-row');\n                }\n                if (that.editable) {\n                    if ($.contains(editContainer[0], active[0])) {\n                        if (browser.opera || oldIE) {\n                            active.blur().change().triggerHandler('blur');\n                        } else {\n                            active.blur();\n                            if (isIE) {\n                                active.blur();\n                            }\n                        }\n                    }\n                    if (!that.editable) {\n                        focusTable(table);\n                        return;\n                    }\n                    if (that.editable.end()) {\n                        if (mode == 'incell') {\n                            that.closeCell();\n                        } else {\n                            that.saveRow();\n                            isEdited = true;\n                        }\n                    } else {\n                        if (mode == 'incell') {\n                            that._setCurrent(editContainer);\n                        } else {\n                            that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                        }\n                        focusable = editContainer.find(':kendoFocusable:first')[0];\n                        if (focusable) {\n                            focusable.focus();\n                        }\n                        return;\n                    }\n                }\n                if (next) {\n                    that._setCurrent(next);\n                }\n                if (oldIE) {\n                    document.body.focus();\n                }\n                focusTable(table, true);\n                if (!editable) {\n                    return;\n                }\n                if (!isEdited && !next || next) {\n                    if (mode == 'incell') {\n                        that.editCell(that.current());\n                    } else {\n                        that.editRow(that.current().parent());\n                    }\n                }\n            },\n            _wrapper: function () {\n                var that = this, table = that.table, height = that.options.height, wrapper = that.element;\n                if (!wrapper.is('div')) {\n                    wrapper = wrapper.wrap('<div/>').parent();\n                }\n                that.wrapper = wrapper.addClass('k-grid k-widget k-display-block');\n                if (height) {\n                    that.wrapper.css(HEIGHT, height);\n                    table.css(HEIGHT, 'auto');\n                }\n                that._initMobile();\n            },\n            _initMobile: function () {\n                var options = this.options;\n                var that = this;\n                this._isMobile = options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n                if (this._isMobile) {\n                    var html = this.wrapper.addClass('k-grid-mobile').wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' + 'data-' + kendo.ns + 'init-widgets=\"false\"></div>').parent();\n                    this.pane = kendo.mobile.ui.Pane.wrap(html);\n                    this.view = this.pane.view();\n                    this._actionSheetPopupOptions = $(document.documentElement).hasClass('km-root') ? { modal: false } : {\n                        align: 'bottom center',\n                        position: 'bottom center',\n                        effect: 'slideIn:up'\n                    };\n                    if (options.height) {\n                        this.pane.element.parent().css(HEIGHT, options.height);\n                    }\n                    this._editAnimation = 'slide';\n                    this.view.bind('show', function () {\n                        if (that._isLocked()) {\n                            that._updateTablesWidth();\n                            that._applyLockedContainersWidth();\n                            that._syncLockedContentHeight();\n                            that._syncLockedHeaderHeight();\n                            that._syncLockedFooterHeight();\n                        }\n                    });\n                }\n            },\n            _tbody: function () {\n                var that = this, table = that.table, tbody;\n                tbody = table.find('>tbody');\n                if (!tbody.length) {\n                    tbody = $('<tbody/>').appendTo(table);\n                }\n                that.tbody = tbody.attr('role', 'rowgroup');\n            },\n            _scrollable: function () {\n                var that = this, header, table, options = that.options, scrollable = options.scrollable, hasVirtualScroll = scrollable !== true && scrollable.virtual && !that.virtualScrollable, scrollbar = !kendo.support.kineticScrollNeeded || hasVirtualScroll ? kendo.support.scrollbar() : 0, headerWrap;\n                if (scrollable) {\n                    header = that.wrapper.children('.k-grid-header');\n                    if (!header[0]) {\n                        header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                    }\n                    header.css(isRtl ? 'padding-left' : 'padding-right', scrollable.virtual ? scrollbar + 1 : scrollbar);\n                    table = $('<table role=\"grid\" />');\n                    if (isIE7) {\n                        table.attr('cellspacing', 0);\n                    }\n                    table.width(that.table[0].style.width);\n                    table.append(that.thead);\n                    header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n                    that.content = that.table.parent();\n                    if (that.content.is('.k-virtual-scrollable-wrap, .km-scroll-container')) {\n                        that.content = that.content.parent();\n                    }\n                    if (!that.content.is('.k-grid-content, .k-virtual-scrollable-wrap')) {\n                        that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                    }\n                    if (hasVirtualScroll) {\n                        that._createVirtualScrollable();\n                    }\n                    headerWrap = header.children('.k-grid-header-wrap');\n                    that.scrollables = headerWrap.add(that.content);\n                    var footer = that.wrapper.find('.k-grid-footer');\n                    if (footer.length) {\n                        that.scrollables = that.scrollables.add(footer.children('.k-grid-footer-wrap'));\n                    }\n                    headerWrap.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                        if (that._scrollLeft !== this.scrollLeft) {\n                            that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                        }\n                    });\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').unbind('scroll' + NS).bind('scroll' + NS, function () {\n                            that.scrollables.scrollLeft(this.scrollLeft);\n                            if (that.lockedContent) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                        });\n                    } else {\n                        var endless = scrollable.endless;\n                        var originalPageSize = that.dataSource.options.pageSize;\n                        if (endless) {\n                            that._endlessPageSize = originalPageSize;\n                        }\n                        that.content.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                            that._scrollLeft = this.scrollLeft;\n                            that.scrollables.not(e.currentTarget).scrollLeft(that._scrollLeft);\n                            if (that.lockedContent && e.currentTarget == that.content[0]) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                            if (endless) {\n                                if (this.scrollTop + this.clientHeight - this.scrollHeight >= -10 && !that._endlessFetchInProgress && that._endlessPageSize < that.dataSource.total()) {\n                                    that._skipRerenderItemsCount = that._endlessPageSize;\n                                    that._endlessPageSize = that._endlessPageSize + originalPageSize;\n                                    that.dataSource.options.endless = true;\n                                    that._endlessFetchInProgress = true;\n                                    that.dataSource.pageSize(that._endlessPageSize);\n                                }\n                            }\n                        });\n                        var touchScroller = that.content.data('kendoTouchScroller');\n                        if (touchScroller) {\n                            touchScroller.destroy();\n                        }\n                        touchScroller = kendo.touchScroller(that.content);\n                        if (touchScroller && touchScroller.movable) {\n                            that.touchScroller = touchScroller;\n                            touchScroller.movable.bind('change', function (e) {\n                                that.scrollables.scrollLeft(-e.sender.x);\n                                if (that.lockedContent) {\n                                    that.lockedContent.scrollTop(-e.sender.y);\n                                }\n                            });\n                            that.one(DATABOUND, function (e) {\n                                e.sender.wrapper.addClass('k-grid-backface');\n                            });\n                        }\n                    }\n                }\n            },\n            _createVirtualScrollable: function () {\n                var that = this;\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = new VirtualScrollable(that.content, {\n                    dataSource: that.dataSource,\n                    itemHeight: function () {\n                        return that._averageRowHeight();\n                    },\n                    page: function () {\n                        that._restoreEditableState();\n                    },\n                    scroll: function () {\n                        that._focusEditable();\n                    }\n                });\n                that.virtualScrollable.bind(PAGING, proxy(that._onVirtualPaging, that));\n            },\n            _onVirtualPaging: function () {\n                var that = this;\n                that._cacheEditableState();\n                if (that._isVirtualIncellEditable()) {\n                    that._shouldClearEditableState = false;\n                    that.closeCell();\n                    that._shouldClearEditableState = true;\n                }\n            },\n            _isVirtualEditable: function () {\n                return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable();\n            },\n            _isVirtualInlineEditable: function () {\n                return this.virtualScrollable && this._editMode() === INLINE;\n            },\n            _isVirtualIncellEditable: function () {\n                return this.virtualScrollable && this._editMode() === INCELL;\n            },\n            _isVirtualPopupEditable: function () {\n                return this.virtualScrollable && this._editMode() === 'popup';\n            },\n            _scrollVirtualWrapper: function () {\n                var that = this;\n                var scrollable = that.virtualScrollable;\n                if (that._isVirtualInlineEditable() || that._isVirtualIncellEditable()) {\n                    if (scrollable._isScrolledToBottom()) {\n                        scrollable._scrollWrapperToBottom();\n                    } else if (scrollable._isScrolledToTop()) {\n                        scrollable._scrollWrapperToTop();\n                    }\n                }\n            },\n            _scrollVirtualWrapperOnColumnResize: function () {\n                var virtualScrollable = this.virtualScrollable;\n                if (virtualScrollable) {\n                    virtualScrollable._scrollWrapperOnColumnResize();\n                }\n            },\n            _restoreEditableState: function () {\n                var that = this;\n                var editableState = that._editableState || {};\n                var editedModel = editableState.model;\n                var dataSource = that.dataSource;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var row;\n                var cell;\n                if ((inlineMode || incellMode) && editedModel && dataSource._getByUid(editedModel.uid, dataSource.view())) {\n                    if (inlineMode) {\n                        that._shouldClearEditableState = false;\n                        that.editRow(editedModel);\n                        that._focusEditable();\n                    } else if (incellMode) {\n                        row = that.tbody.children(attrEquals(UNIQUE_ID, editedModel.uid));\n                        cell = $(row).children(attrEquals(FIELD, editableState.field));\n                        if (cell[0]) {\n                            that._shouldClearEditableState = false;\n                            that.editCell(cell);\n                            that._focusEditable();\n                        }\n                    }\n                }\n                that._shouldClearEditableState = true;\n            },\n            _focusEditable: function () {\n                var that = this;\n                var editedField = (that._editableState || {}).field;\n                var editContainer = that._editContainer;\n                if (editContainer && !contains(editContainer[0], activeElement()) && that._canFocusEditable()) {\n                    if (that._isVirtualInlineEditable()) {\n                        editContainer.find(attrEquals(CONTAINER_FOR, editedField)).find(FOCUSABLE).eq(0).focus();\n                    } else if (that._isVirtualIncellEditable()) {\n                        editContainer.find(FOCUSABLE).eq(0).focus();\n                    }\n                }\n            },\n            _canFocusEditable: function () {\n                var that = this;\n                return (that._isVirtualIncellEditable() || that._isVirtualInlineEditable()) && that.virtualScrollable._isElementVisible(that._editContainer);\n            },\n            _cacheEditableState: function () {\n                var that = this;\n                var editContainer = that._editContainer;\n                var editedModel = editContainer ? that._modelForContainer(editContainer) : null;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var active;\n                var widget;\n                if ((inlineMode || incellMode) && editedModel) {\n                    that._clearEditableState();\n                    active = $(activeElement());\n                    if (editContainer && active[0] && contains(editContainer[0], active[0])) {\n                        active.change();\n                        widget = kendo.widgetInstance(active, kendo.ui);\n                        if (widget && isFunction(widget.value) && active.is(INPUT)) {\n                            widget.value(active.val());\n                            widget.trigger(CHANGE);\n                        }\n                    }\n                    if (inlineMode) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: active.closest('[' + kendo.attr(CONTAINER_FOR) + ']').attr(kendo.attr(CONTAINER_FOR))\n                        };\n                    } else if (incellMode) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: editContainer.attr(kendo.attr(FIELD))\n                        };\n                    }\n                }\n            },\n            _clearEditableState: function () {\n                var that = this;\n                if (that.virtualScrollable) {\n                    that._editableState = null;\n                }\n            },\n            _destroyVirtualScrollable: function () {\n                var that = this;\n                that._clearEditableState();\n                if (that.virtualScrollable && that.virtualScrollable.element) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = null;\n            },\n            _renderNoRecordsContent: function () {\n                var that = this;\n                if (that.options.noRecords) {\n                    var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n                    if (noRecordsElement.length) {\n                        that.angular('cleanup', function () {\n                            return { elements: noRecordsElement.get() };\n                        });\n                        noRecordsElement.remove();\n                    }\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        noRecordsElement = $(that.noRecordsTemplate({})).insertAfter(that.table);\n                        that.angular('compile', function () {\n                            return {\n                                elements: noRecordsElement.get(),\n                                data: [{}]\n                            };\n                        });\n                    }\n                }\n            },\n            _setContentWidth: function (scrollLeft) {\n                var that = this, hiddenDivClass = 'k-grid-content-expander', hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>', resizable = that.resizable, expander;\n                if (that.options.scrollable && that.wrapper.is(':visible')) {\n                    expander = that.table.parent().children('.' + hiddenDivClass);\n                    that._setContentWidthHandler = proxy(that._setContentWidth, that);\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        if (!expander[0]) {\n                            expander = $(hiddenDiv).appendTo(that.table.parent());\n                            if (resizable) {\n                                resizable.bind('resize', that._setContentWidthHandler);\n                            }\n                        }\n                        if (that.thead) {\n                            expander.width(that.thead.width());\n                            if (!isNaN(parseFloat(scrollLeft, 10))) {\n                                that.content.scrollLeft(scrollLeft);\n                            }\n                        }\n                    } else if (expander[0]) {\n                        expander.remove();\n                        if (resizable) {\n                            resizable.unbind('resize', that._setContentWidthHandler);\n                        }\n                    }\n                    that._applyLockedContainersWidth();\n                    if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                        that.table[0].style.width = '1px';\n                    }\n                }\n            },\n            _applyLockedContainersWidth: function () {\n                if (this.options.scrollable && this.lockedHeader) {\n                    var headerTable = this.thead.parent(), headerWrap = headerTable.parent(), contentWidth = this.wrapper[0].clientWidth, groups = this._groups(), scrollbar = kendo.support.scrollbar(), cols = this.lockedHeader.find('>table>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), nonLockedCols = headerTable.find('>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), width = columnsWidth(cols), nonLockedColsWidth = columnsWidth(nonLockedCols), footerWrap;\n                    if (groups > 0) {\n                        width += outerWidth(this.lockedHeader.find('.k-group-cell:first')) * groups;\n                    }\n                    if (width >= contentWidth) {\n                        width = contentWidth - 3 * scrollbar;\n                    }\n                    this.lockedHeader.add(this.lockedContent).width(width);\n                    headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + 'px';\n                    headerTable.add(this.table).width(nonLockedColsWidth);\n                    if (this.virtualScrollable && !isIE11) {\n                        contentWidth -= scrollbar;\n                    }\n                    this.content[0].style.width = contentWidth - width - 2 + 'px';\n                    if (this.lockedFooter && this.lockedFooter.length) {\n                        this.lockedFooter.width(width);\n                        footerWrap = this.footer.find('.k-grid-footer-wrap');\n                        footerWrap[0].style.width = headerWrap[0].clientWidth + 'px';\n                        footerWrap.children().first().width(nonLockedColsWidth);\n                    }\n                }\n            },\n            _setContentHeight: function () {\n                var that = this, options = that.options, height = that.wrapper.innerHeight(), header = that.wrapper.children('.k-grid-header'), scrollbar = kendo.support.scrollbar();\n                var scrollableHeight = (options.scrollable || {}).height;\n                if (options.scrollable && that.wrapper.is(':visible')) {\n                    height -= outerHeight(header);\n                    if (that.pager && that.pager.element.is(':visible')) {\n                        height -= outerHeight(that.pager.element);\n                    }\n                    if (options.groupable) {\n                        height -= outerHeight(that.wrapper.children('.k-grouping-header'));\n                    }\n                    if (options.toolbar) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-toolbar'));\n                    }\n                    if (that.footerTemplate) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-footer'));\n                    }\n                    var isGridHeightSet = function (el) {\n                        var initialHeight, newHeight;\n                        if (el[0].style.height) {\n                            return true;\n                        } else {\n                            initialHeight = el.height();\n                        }\n                        el.height('auto');\n                        newHeight = el.height();\n                        if (initialHeight != newHeight) {\n                            el.height('');\n                            return true;\n                        }\n                        el.height('');\n                        return false;\n                    };\n                    if (isGridHeightSet(that.wrapper)) {\n                        if (height > scrollbar * 2) {\n                            if (that.lockedContent) {\n                                scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                                that.lockedContent.height(height - scrollbar);\n                            }\n                            that.content.height(height);\n                        } else {\n                            that.content.height(scrollbar * 2 + 1);\n                        }\n                    } else if (scrollableHeight) {\n                        that.content.css('height', scrollableHeight);\n                    }\n                }\n            },\n            _averageRowHeight: function () {\n                var that = this, itemsCount = that._items(that.tbody).length, rowHeight = that._rowHeight;\n                if (itemsCount === 0) {\n                    return rowHeight;\n                }\n                if (!that._rowHeight) {\n                    that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                    that._sum = rowHeight;\n                    that._measures = 1;\n                }\n                var currentRowHeight = outerHeight(that.table) / itemsCount;\n                if (rowHeight !== currentRowHeight) {\n                    that._measures++;\n                    that._sum += currentRowHeight;\n                    that._rowHeight = that._sum / that._measures;\n                }\n                return rowHeight;\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, pageable, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (isPlainObject(dataSource)) {\n                    extend(dataSource, {\n                        table: that.table,\n                        fields: that.columns\n                    });\n                    pageable = options.pageable;\n                    if (isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                        dataSource.pageSize = pageable.pageSize;\n                    }\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                }\n                that.dataSource = DataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind(PROGRESS, that._progressHandler).bind(ERROR, that._errorHandler);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _modelChange: function (e) {\n                var that = this, tbody = that.tbody, model = e.model, row = that.tbody.find('tr[' + kendo.attr('uid') + '=' + model.uid + ']'), relatedRow, cell, column, isAlt = row.hasClass('k-alt'), tmp, idx = that._items(tbody).index(row), isLocked = that.lockedContent, selectable, selectableRow, childCells, originalCells, length;\n                if (isLocked) {\n                    relatedRow = that._relatedRow(row);\n                }\n                if (row.add(relatedRow).children('.k-edit-cell').length && !that.options.rowTemplate) {\n                    row.add(relatedRow).children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                        cell = $(this);\n                        column = leafColumns(that.columns)[that.cellIndex(cell)];\n                        if (column.field === e.field) {\n                            if (!cell.hasClass('k-edit-cell')) {\n                                that._displayCell(cell, column, model);\n                            } else {\n                                cell.addClass('k-dirty-cell');\n                            }\n                        }\n                    });\n                } else if (!row.hasClass('k-grid-edit-row')) {\n                    selectableRow = $().add(row);\n                    if (isLocked) {\n                        tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n                        selectableRow = selectableRow.add(relatedRow);\n                        relatedRow.replaceWith(tmp);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: selectableRow.get() };\n                    });\n                    tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n                    row.replaceWith(tmp);\n                    tmp = that._items(tbody).eq(idx);\n                    var angularData = [{ dataItem: model }];\n                    if (isLocked) {\n                        row = row.add(relatedRow);\n                        relatedRow = that._relatedRow(tmp)[0];\n                        adjustRowHeight(tmp[0], relatedRow);\n                        tmp = tmp.add(relatedRow);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: tmp.get(),\n                            data: angularData\n                        };\n                    });\n                    selectable = that.options.selectable;\n                    if ((selectable || that._checkBoxSelection) && row.hasClass('k-state-selected')) {\n                        that.select(tmp);\n                    }\n                    originalCells = selectableRow.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    childCells = tmp.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                        column = that.columns[idx];\n                        cell = childCells.eq(idx);\n                        if (selectable && originalCells.eq(idx).hasClass('k-state-selected')) {\n                            cell.addClass('k-state-selected');\n                        }\n                    }\n                    that.trigger('itemChange', {\n                        item: tmp,\n                        data: model,\n                        ns: ui\n                    });\n                }\n            },\n            _pageable: function () {\n                var that = this, wrapper, pageable = that.options.pageable;\n                if (pageable) {\n                    wrapper = that.wrapper.children('div.k-grid-pager');\n                    if (!wrapper.length) {\n                        wrapper = $('<div class=\"k-pager-wrap k-grid-pager\"/>').appendTo(that.wrapper);\n                    }\n                    if (that.pager) {\n                        that.pager.destroy();\n                    }\n                    if (typeof pageable === 'object' && pageable instanceof kendo.ui.Pager) {\n                        that.pager = pageable;\n                    } else {\n                        that.pager = new kendo.ui.Pager(wrapper, extend({}, pageable, { dataSource: that.dataSource }));\n                    }\n                    that.pager.bind('pageChange', function (e) {\n                        if (that.trigger('page', { page: e.index })) {\n                            e.preventDefault();\n                        }\n                    });\n                }\n            },\n            _footer: function () {\n                var that = this, aggregates = that.dataSource.aggregates(), html = '', footerTemplate = that.footerTemplate, options = that.options, footerWrap, footer = that.footer || that.wrapper.find('.k-grid-footer');\n                if (footerTemplate) {\n                    html = $(that._wrapFooter(footerTemplate(aggregates)));\n                    if (footer.length) {\n                        var tmp = html;\n                        that.angular('cleanup', function () {\n                            return { elements: footer.get() };\n                        });\n                        footer.replaceWith(tmp);\n                        footer = that.footer = tmp;\n                    } else {\n                        if (options.scrollable) {\n                            footer = that.footer = options.pageable ? html.insertBefore(that.wrapper.children('div.k-grid-pager')) : html.appendTo(that.wrapper);\n                        } else {\n                            footer = that.footer = html.insertBefore(that.tbody);\n                        }\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: footer.find('td:not(.k-group-cell, .k-hierarchy-cell)').get(),\n                            data: map(that.columns, function (col) {\n                                return {\n                                    column: col,\n                                    aggregate: aggregates[col.field]\n                                };\n                            })\n                        };\n                    });\n                } else if (footer && !that.footer) {\n                    that.footer = footer;\n                }\n                if (footer.length) {\n                    if (options.scrollable) {\n                        footerWrap = footer.attr('tabindex', -1).children('.k-grid-footer-wrap');\n                        that.scrollables = $(that.scrollables.filter(function () {\n                            return !$(this).is('.k-grid-footer-wrap');\n                        }).toArray()).add(footerWrap);\n                    }\n                    if (that._footerWidth) {\n                        footer.find('table').css('width', that._footerWidth);\n                    }\n                    if (footerWrap) {\n                        var offset = that.content.scrollLeft();\n                        if (options.scrollable !== true && options.scrollable.virtual) {\n                            offset = that.wrapper.find('.k-virtual-scrollable-wrap').scrollLeft();\n                        }\n                        footerWrap.scrollLeft(offset);\n                    }\n                }\n                if (that.lockedContent) {\n                    that._appendLockedColumnFooter();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedFooterHeight();\n                }\n            },\n            _wrapFooter: function (footerRow) {\n                var that = this, html = '', scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                if (that.options.scrollable) {\n                    html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><tbody>' + footerRow + '</tbody></table></div></div>');\n                    that._appendCols(html.find('table'));\n                    html.css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                    return html;\n                }\n                return '<tfoot class=\"k-grid-footer\">' + footerRow + '</tfoot>';\n            },\n            _columnMenu: function () {\n                var that = this, menu, columns = leafColumns(that.columns), column, options = that.options, columnMenu = options.columnMenu, menuOptions, sortable, filterable, cells, hasMultiColumnHeaders = grep(that.columns, function (item) {\n                        return item.columns !== undefined;\n                    }).length > 0, isMobile = this._isMobile, initCallback = function (e) {\n                        that.trigger(COLUMNMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, openCallback = function (e) {\n                        that.trigger(COLUMNMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, $angular = options.$angular;\n                if (columnMenu) {\n                    if (typeof columnMenu == 'boolean') {\n                        columnMenu = {};\n                    }\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        var cell = cells.eq(idx);\n                        if (!column.command && (column.field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            menu = cell.data('kendoColumnMenu');\n                            if (menu) {\n                                menu.destroy();\n                            }\n                            sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, { compare: (column.sortable || {}).compare }) : false;\n                            filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend({ pane: that.pane }, options.filterable, column.filterable) : false;\n                            if (column.filterable && column.filterable.dataSource) {\n                                filterable.forceUnique = false;\n                                filterable.checkSource = column.filterable.dataSource;\n                            }\n                            if (filterable) {\n                                filterable.format = column.format;\n                            }\n                            menuOptions = {\n                                dataSource: that.dataSource,\n                                values: column.values,\n                                columns: columnMenu.columns,\n                                sortable: sortable,\n                                filterable: filterable,\n                                messages: columnMenu.messages,\n                                owner: that,\n                                closeCallback: closeCallback,\n                                init: initCallback,\n                                open: openCallback,\n                                pane: that.pane,\n                                sort: sortHandler,\n                                filtering: filterHandler,\n                                filter: isMobile ? ':not(.k-column-active)' : '',\n                                lockedColumns: !hasMultiColumnHeaders && column.lockable !== false && lockedColumns(columns).length > 0\n                            };\n                            if ($angular) {\n                                menuOptions.$angular = $angular;\n                            }\n                            cell.kendoColumnMenu(menuOptions);\n                        }\n                    }\n                }\n            },\n            _headerCells: function () {\n                return this.thead.find('th').filter(function () {\n                    var th = $(this);\n                    return !th.hasClass('k-group-cell') && !th.hasClass('k-hierarchy-cell');\n                });\n            },\n            _filterable: function () {\n                var that = this, columns = leafColumns(that.columns), filterMenu, cells, cell, filterInit = function (e) {\n                        that.trigger(FILTERMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterOpen = function (e) {\n                        that.trigger(FILTERMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, filterable = that.options.filterable;\n                if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('menu') == -1) {\n                    filterable = false;\n                }\n                if (filterable && !that.options.columnMenu) {\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        cell = cells.eq(idx);\n                        if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            filterMenu = cell.data('kendoFilterMenu');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            filterMenu = cell.data('kendoFilterMultiCheck');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            var columnFilterable = columns[idx].filterable;\n                            var options = extend({}, filterable, columnFilterable, {\n                                dataSource: that.dataSource,\n                                values: columns[idx].values,\n                                format: columns[idx].format,\n                                closeCallback: closeCallback,\n                                title: columns[idx].title || columns[idx].field,\n                                init: filterInit,\n                                open: filterOpen,\n                                pane: that.pane,\n                                change: filterHandler\n                            });\n                            if (columnFilterable && columnFilterable.messages) {\n                                options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                            }\n                            if (columnFilterable && columnFilterable.dataSource) {\n                                options.forceUnique = false;\n                                options.checkSource = columnFilterable.dataSource;\n                            }\n                            if (columnFilterable && columnFilterable.multi) {\n                                cell.kendoFilterMultiCheck(options);\n                            } else {\n                                cell.kendoFilterMenu(options);\n                            }\n                        }\n                    }\n                }\n            },\n            _filterRow: function () {\n                var that = this;\n                if (!that._hasFilterRow()) {\n                    return;\n                }\n                var settings;\n                var $angular = that.options.$angular;\n                var columns = leafColumns(that.columns), filterable = that.options.filterable, rowheader = that.thead.find('.k-filter-row'), filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    };\n                this._updateHeader(this.dataSource.group().length);\n                for (var i = 0; i < columns.length; i++) {\n                    var suggestDataSource, col = columns[i], operators = that.options.filterable.operators, customDataSource = false, th = $('<th/>'), field = col.field;\n                    if (col.hidden) {\n                        th.hide();\n                    }\n                    rowheader.append(th);\n                    if (field && col.filterable !== false) {\n                        var cellOptions = col.filterable && col.filterable.cell || {};\n                        suggestDataSource = that.options.dataSource;\n                        if (suggestDataSource instanceof DataSource) {\n                            suggestDataSource = that.options.dataSource.options;\n                        }\n                        var messages = extend(true, {}, filterable.messages);\n                        if (col.filterable) {\n                            extend(true, messages, col.filterable.messages);\n                        }\n                        if (cellOptions.enabled === false) {\n                            th.html('&nbsp;');\n                            continue;\n                        }\n                        if (cellOptions.dataSource) {\n                            suggestDataSource = cellOptions.dataSource;\n                            customDataSource = true;\n                        }\n                        if (col.filterable && col.filterable.operators) {\n                            operators = col.filterable.operators;\n                        }\n                        settings = {\n                            column: col,\n                            dataSource: that.dataSource,\n                            suggestDataSource: suggestDataSource,\n                            customDataSource: customDataSource,\n                            field: field,\n                            messages: messages,\n                            values: col.values,\n                            template: cellOptions.template,\n                            delay: cellOptions.delay,\n                            inputWidth: cellOptions.inputWidth,\n                            suggestionOperator: cellOptions.suggestionOperator,\n                            minLength: cellOptions.minLength,\n                            dataTextField: cellOptions.dataTextField,\n                            operator: cellOptions.operator,\n                            operators: operators,\n                            showOperators: cellOptions.showOperators,\n                            change: filterHandler\n                        };\n                        if ($angular) {\n                            settings.$angular = $angular;\n                        }\n                        $('<span/>').attr(kendo.attr('field'), field).appendTo(th).kendoFilterCell(settings);\n                    } else {\n                        th.html('&nbsp;');\n                    }\n                }\n            },\n            _sortable: function () {\n                var that = this, columns = leafColumns(that.columns), column, sorterInstance, cell, sortable = that.options.sortable, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                        }\n                    };\n                if (sortable) {\n                    var cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.sortable !== false && !column.command && column.field) {\n                            cell = cells.eq(idx);\n                            sorterInstance = cell.data('kendoColumnSorter');\n                            if (sorterInstance) {\n                                sorterInstance.destroy();\n                            }\n                            cell.attr('data-' + kendo.ns + 'field', column.field).kendoColumnSorter(extend({}, sortable, column.sortable, {\n                                dataSource: that.dataSource,\n                                aria: true,\n                                filter: ':not(.k-column-active)',\n                                change: sortHandler\n                            }));\n                        }\n                    }\n                    cells = null;\n                }\n            },\n            _columns: function (columns) {\n                var that = this, table = that.table, encoded, cols = table.find('col'), lockedCols, headers = that.element.find('thead:first th[data-index]'), columnLeafs, dataSource = that.options.dataSource;\n                columns = columns.length ? columns : map(table.find('th'), function (th, idx) {\n                    th = $(th);\n                    var sortable = th.attr(kendo.attr('sortable')), filterable = th.attr(kendo.attr('filterable')), type = th.attr(kendo.attr('type')), groupable = th.attr(kendo.attr('groupable')), field = th.attr(kendo.attr('field')), title = th.attr(kendo.attr('title')), menu = th.attr(kendo.attr('menu'));\n                    if (!field) {\n                        field = th.text().replace(/\\s|[^A-z0-9]/g, '');\n                    }\n                    return {\n                        field: field,\n                        type: type,\n                        title: title,\n                        sortable: sortable !== 'false',\n                        filterable: filterable !== 'false',\n                        groupable: groupable !== 'false',\n                        menu: menu,\n                        template: th.attr(kendo.attr('template')),\n                        width: cols.eq(idx).css('width')\n                    };\n                });\n                encoded = !(that.table.find('tbody tr').length > 0 && (!dataSource || !dataSource.transport));\n                if (that.options.scrollable) {\n                    var initialColumns = columns;\n                    lockedCols = lockedColumns(columns);\n                    columns = nonLockedColumns(columns);\n                    if (lockedCols.length > 0 && columns.length === 0) {\n                        throw new Error('There should be at least one non locked column');\n                    }\n                    normalizeHeaderCells(that.element.find('tr:has(th):first'), initialColumns);\n                    columns = lockedCols.concat(columns);\n                }\n                that.columns = normalizeColumns(columns, encoded);\n                if (headers.length && that.columns.length) {\n                    columnLeafs = leafColumns(that.columns);\n                    map(headers, function (th) {\n                        th = $(th);\n                        var id = th.attr('id');\n                        var idx = kendo.parseInt(th.attr('data-index'));\n                        if (id) {\n                            columnLeafs[idx].headerAttributes = extend(columnLeafs[idx].headerAttributes, { id: id });\n                        }\n                    });\n                }\n                if ($.grep(leafColumns(that.columns), function (col) {\n                        return col.selectable;\n                    }).length) {\n                    that._selectedIds = {};\n                    that._checkBoxSelection = true;\n                    that.wrapper.on(CLICK + NS, 'tbody > tr ' + CHECKBOXINPUT, proxy(that._checkboxClick, that));\n                    that.wrapper.on(CLICK + NS, 'thead > tr ' + CHECKBOXINPUT, proxy(that._headerCheckboxClick, that));\n                }\n            },\n            _headerCheckboxClick: function (e) {\n                var that = this, checkBox = $(e.target), checked = checkBox.prop('checked'), parentGrid = checkBox.closest('.k-grid.k-widget').getKendoGrid();\n                if (that !== parentGrid) {\n                    return;\n                }\n                if (checked) {\n                    that.select(parentGrid.items());\n                } else {\n                    that.clearSelection();\n                }\n            },\n            _checkboxClick: function (e) {\n                var that = this, row = $(e.target).closest('tr'), isSelecting = !row.hasClass(SELECTED);\n                if (that !== row.closest('.k-grid.k-widget').getKendoGrid()) {\n                    return;\n                }\n                if (isSelecting) {\n                    that.select(row);\n                } else {\n                    that._deselectCheckRows(row);\n                }\n            },\n            _groups: function () {\n                var group = this.dataSource.group();\n                return group ? group.length : 0;\n            },\n            _tmpl: function (rowTemplate, columns, alt, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, idx, length = columns.length, template, state = {\n                        storage: {},\n                        count: 0\n                    }, column, type, hasDetails = that._hasDetails(), className = [], groups = that._groups(), navigatable = that.options.navigatable;\n                var fieldAttr = kendo.attr('field');\n                var field;\n                var dirtyCellTemplate = '';\n                if (!rowTemplate) {\n                    rowTemplate = '<tr';\n                    if (alt) {\n                        className.push('k-alt');\n                    }\n                    if (hasDetails) {\n                        className.push('k-master-row');\n                    }\n                    if (className.length) {\n                        rowTemplate += ' class=\"' + className.join(' ') + '\"';\n                    }\n                    if (length) {\n                        rowTemplate += ' ' + kendo.attr('uid') + '=\"#=' + kendo.expr('uid', settings.paramName) + '#\"';\n                    }\n                    rowTemplate += ' role=\\'row\\'>';\n                    if (groups > 0 && !skipGroupCells) {\n                        rowTemplate += groupCells(groups);\n                    }\n                    if (hasDetails) {\n                        rowTemplate += '<td class=\"k-hierarchy-cell\" aria-expanded=\"false\"><a class=\"k-icon k-i-expand\" href=\"\\\\#\" ' + ARIALABEL + '=\"' + EXPAND + '\" tabindex=\"-1\"></a></td>';\n                    }\n                    for (idx = 0; idx < length; idx++) {\n                        column = columns[idx];\n                        template = column.template;\n                        type = typeof template;\n                        field = column.field;\n                        if (that._editMode() === INCELL && field) {\n                            column.attributes = column.attributes || {};\n                            if (that.virtualScrollable) {\n                                column.attributes[fieldAttr] = field;\n                            }\n                            dirtyCellTemplate = that._dirtyCellTemplate(field, paramName);\n                            column.attributes['class'] = column.attributes['class'] || '';\n                            if (column.attributes['class'].indexOf(dirtyCellTemplate) < 0) {\n                                column.attributes['class'] += dirtyCellTemplate;\n                            }\n                        }\n                        if (column.command) {\n                            column.attributes = column.attributes || {};\n                            if (typeof column.attributes['class'] !== 'undefined') {\n                                column.attributes['class'] += ' k-command-cell';\n                            } else {\n                                column.attributes['class'] = 'k-command-cell';\n                            }\n                        }\n                        rowTemplate += '<td' + stringifyAttributes(column.attributes);\n                        if (navigatable) {\n                            rowTemplate += ' aria-describedby=\\'' + column.headerAttributes.id + '\\'';\n                        }\n                        rowTemplate += ' role=\\'gridcell\\'>';\n                        rowTemplate += that._cellTmpl(column, state);\n                        rowTemplate += '</td>';\n                    }\n                    rowTemplate += '</tr>';\n                }\n                rowTemplate = kendo.template(rowTemplate, settings);\n                if (state.count > 0) {\n                    return proxy(rowTemplate, state.storage);\n                }\n                return rowTemplate;\n            },\n            _dirtyCellTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\' k-dirty-cell\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _headerCellText: function (column) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.headerTemplate, type = typeof template, text = column.title || column.field || '';\n                if (type === FUNCTION) {\n                    text = kendo.template(template, settings)({});\n                } else if (type === STRING) {\n                    text = template;\n                }\n                return text;\n            },\n            _cellTmpl: function (column, state) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.template, paramName = settings.paramName, field = column.field, html = '', idx, length, format = column.format, type = typeof template, columnValues = column.values;\n                if (column.command) {\n                    if (isArray(column.command)) {\n                        for (idx = 0, length = column.command.length; idx < length; idx++) {\n                            if (column.command[idx].visible) {\n                                html += kendo.format('#= {0}(data)? \\'{1}\\':\\'\\' #', column.command[idx].visible, that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#'));\n                            } else {\n                                html += that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#');\n                            }\n                        }\n                        return html;\n                    }\n                    return that._createButton(column.command).replace(templateHashRegExp, '\\\\#');\n                }\n                if (column.selectable) {\n                    return SELECTCOLUMNTMPL;\n                }\n                html += that._dirtyIndicatorTemplate(field, paramName);\n                if (type === FUNCTION) {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === STRING) {\n                    html += template;\n                } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0] && field) {\n                    html += '#var v =' + kendo.stringify(convertToObject(columnValues)).replace(templateHashRegExp, '\\\\#') + '#';\n                    html += '#var f = v[';\n                    if (!settings.useWithBlock) {\n                        html += paramName + '.';\n                    }\n                    html += field + ']#';\n                    html += '${f != null ? f : \\'\\'}';\n                } else {\n                    html += column.encoded ? '#:' : '#=';\n                    if (format) {\n                        html += 'kendo.format(\"' + format.replace(formatRegExp, '\\\\$1') + '\",';\n                    }\n                    if (field) {\n                        field = kendo.expr(field, paramName);\n                        html += field + '==null?\\'\\':' + field;\n                    } else {\n                        html += '\\'\\'';\n                    }\n                    if (format) {\n                        html += ')';\n                    }\n                    html += '#';\n                }\n                return html;\n            },\n            _dirtyIndicatorTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\'<span class=\"k-dirty\"></span>\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _templates: function () {\n                var that = this, options = that.options, dataSource = that.dataSource, groups = dataSource.group(), footer = that.footer || that.wrapper.find('.k-grid-footer'), aggregates = dataSource.aggregate(), columnLeafs = leafColumns(that.columns), columnsLocked = leafColumns(lockedColumns(that.columns)), columns = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs;\n                if (options.scrollable && columnsLocked.length) {\n                    if (options.rowTemplate || options.altRowTemplate) {\n                        throw new Error('Having both row template and locked columns is not supported');\n                    }\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n                    that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                    that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n                } else {\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n                }\n                if (that._hasDetails()) {\n                    that.detailTemplate = that._detailTmpl(options.detailTemplate || '');\n                }\n                if (that._group && !isEmptyObject(aggregates) || !isEmptyObject(aggregates) && !footer.length || grep(columnLeafs, function (column) {\n                        return column.footerTemplate;\n                    }).length) {\n                    that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, 'footerTemplate', 'k-footer-template');\n                }\n                if (groups && grep(columnLeafs, function (column) {\n                        return column.groupFooterTemplate;\n                    }).length) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupFooterTemplate = that._footerTmpl(columns, aggregates, 'groupFooterTemplate', 'k-group-footer', columnsLocked.length);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, 'groupFooterTemplate', 'k-group-footer');\n                    }\n                }\n                if (that.options.noRecords) {\n                    that.noRecordsTemplate = that._noRecordsTmpl();\n                }\n            },\n            _noRecordsTmpl: function () {\n                var wrapper = '<div class=\"{0}\">{1}</div>';\n                var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n                var scrollableNoGridHeightStyles = this.options.scrollable && !this.wrapper[0].style.height ? ' style=\"margin:0 auto;position:static;\"' : '';\n                var state = {\n                    storage: {},\n                    count: 0\n                };\n                var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template;\n                var html = '';\n                var type;\n                var tmpl;\n                if (this.options.noRecords.template) {\n                    template = this.options.noRecords.template;\n                } else {\n                    template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n                }\n                type = typeof template;\n                if (type === 'function') {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === 'string') {\n                    html += template;\n                }\n                tmpl = kendo.template(kendo.format(wrapper, NORECORDSCLASS, html), settings);\n                if (state.count > 0) {\n                    tmpl = $.proxy(tmpl, state.storage);\n                }\n                return tmpl;\n            },\n            _footerTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, groups = that._groups(), fieldsMap = that.dataSource._emptyAggregates(aggregates), column;\n                html += '<tr class=\"' + rowClass + '\">';\n                if (groups > 0 && !skipGroupCells) {\n                    html += groupCells(groups);\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    html += '<td' + stringifyAttributes(column.footerAttributes) + '>';\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _detailTmpl: function (template) {\n                var that = this, html = '', settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, templateFunctionStorage = {}, templateFunctionCount = 0, groups = that._groups(), colspan = visibleColumns(leafColumns(that.columns)).length, type = typeof template;\n                html += '<tr class=\"k-detail-row\">';\n                if (groups > 0) {\n                    html += groupCells(groups);\n                }\n                html += '<td class=\"k-hierarchy-cell\"></td><td class=\"k-detail-cell\"' + (colspan ? ' colspan=\"' + colspan + '\"' : '') + '>';\n                if (type === FUNCTION) {\n                    templateFunctionStorage['tmpl' + templateFunctionCount] = template;\n                    html += '#=this.tmpl' + templateFunctionCount + '(' + paramName + ')#';\n                    templateFunctionCount++;\n                } else {\n                    html += template;\n                }\n                html += '</td></tr>';\n                html = kendo.template(html, settings);\n                if (templateFunctionCount > 0) {\n                    return proxy(html, templateFunctionStorage);\n                }\n                return html;\n            },\n            _hasDetails: function () {\n                var that = this;\n                return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n            },\n            _hasFilterRow: function () {\n                var filterable = this.options.filterable;\n                var hasFiltering = filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('row') != -1;\n                var columns = this.columns;\n                var columnsWithoutFiltering = $.grep(columns, function (col) {\n                    return col.filterable === false;\n                });\n                if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                    hasFiltering = false;\n                }\n                return hasFiltering;\n            },\n            _details: function () {\n                var that = this;\n                if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                    throw new Error('Having both detail template and locked columns is not supported');\n                }\n                that.table.on(CLICK + NS, '.k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse', function (e) {\n                    var button = $(this), cell = button.closest('td.k-hierarchy-cell'), expanding = button.hasClass('k-i-expand'), masterRow = button.closest('tr.k-master-row'), detailRow, detailTemplate = that.detailTemplate, data, hasDetails = that._hasDetails(), ariaLabelText = expanding ? COLLAPSE : EXPAND, ariaExpandText = expanding ? true : false;\n                    button.toggleClass('k-i-expand', !expanding).toggleClass('k-i-collapse', expanding).attr(ARIALABEL, ariaLabelText);\n                    cell.attr('aria-expanded', ariaExpandText);\n                    detailRow = masterRow.next();\n                    if (hasDetails && !detailRow.hasClass('k-detail-row')) {\n                        data = that.dataItem(masterRow);\n                        detailRow = $(detailTemplate(data)).addClass(masterRow.hasClass('k-alt') ? 'k-alt' : '').insertAfter(masterRow);\n                        that.angular('compile', function () {\n                            return {\n                                elements: detailRow.get(),\n                                data: [{ dataItem: data }]\n                            };\n                        });\n                        that.trigger(DETAILINIT, {\n                            masterRow: masterRow,\n                            detailRow: detailRow,\n                            data: data,\n                            detailCell: detailRow.find('.k-detail-cell')\n                        });\n                    }\n                    that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, {\n                        masterRow: masterRow,\n                        detailRow: detailRow\n                    });\n                    detailRow.toggle(expanding);\n                    e.preventDefault();\n                    return false;\n                });\n            },\n            dataItem: function (tr) {\n                tr = $(tr)[0];\n                if (!tr) {\n                    return null;\n                }\n                var rows = this.tbody.children(), classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/, idx = tr.sectionRowIndex, j, correctIdx;\n                correctIdx = idx;\n                for (j = 0; j < idx; j++) {\n                    if (classesRegEx.test(rows[j].className)) {\n                        correctIdx--;\n                    }\n                }\n                return this._data[correctIdx];\n            },\n            expandRow: function (tr) {\n                $(tr).find('> td .k-i-expand').click();\n            },\n            collapseRow: function (tr) {\n                $(tr).find('> td .k-i-collapse').click();\n            },\n            _createHeaderCells: function (columns, rowSpan) {\n                var that = this, idx, th, text, html = '', length, leafs = leafColumns(that.columns), field;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    th = columns[idx].column || columns[idx];\n                    text = that._headerCellText(th);\n                    field = '';\n                    var index = inArray(th, leafs);\n                    if (th.selectable) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        text = th.headerTemplate ? text : kendo.template(SELECTCOLUMNHEADERTMPL)({});\n                        html += '>' + text + '</th>';\n                    } else if (th.command) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += '>' + text + '</th>';\n                    } else {\n                        if (th.field) {\n                            field = kendo.attr('field') + '=\\'' + th.field + '\\' ';\n                        }\n                        html += '<th scope=\\'col\\' role=\\'columnheader\\' ' + field;\n                        html += ' aria-haspopup=\\'true\\'';\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (columns[idx].colSpan > 1) {\n                            html += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                            html += kendo.attr('colspan') + '=\\'' + columns[idx].colSpan + '\\'';\n                        }\n                        if (th.title) {\n                            html += kendo.attr('title') + '=\"' + th.title.replace('\"', '&quot;').replace(/'/g, '\\'') + '\" ';\n                        }\n                        if (th.groupable !== undefined) {\n                            html += kendo.attr('groupable') + '=\\'' + th.groupable + '\\' ';\n                        }\n                        if (th.aggregates && th.aggregates.length) {\n                            html += kendo.attr('aggregates') + '=\\'' + th.aggregates + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += stringifyAttributes(th.headerAttributes);\n                        html += '>' + text + '</th>';\n                    }\n                }\n                return html;\n            },\n            _appendLockedColumnContent: function () {\n                var columns = this.columns, idx, colgroup = this.table.find('colgroup'), cols = colgroup.find('col:not(.k-group-col,.k-hierarchy-col)'), length, lockedCols = $(), skipHiddenCount = 0, container, colSpan, spanIdx, colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        if (isVisible(columns[idx])) {\n                            colSpan = 1;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        } else {\n                            skipHiddenCount++;\n                        }\n                    }\n                }\n                container = $('<div class=\"k-grid-content-locked\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><tbody></tbody></table></div>');\n                colgroup.detach();\n                container.find('colgroup').append(lockedCols);\n                colgroup.insertBefore(this.table.find('tbody'));\n                this.lockedContent = container.insertBefore(this.content);\n                this.lockedTable = container.children('table');\n            },\n            _appendLockedColumnFooter: function () {\n                var that = this;\n                var footer = that.footer;\n                var cells = footer.find('.k-footer-template>td');\n                var cols = footer.find('.k-grid-footer-wrap>table>colgroup>col');\n                var html = $('<div class=\"k-grid-footer-locked\"><table><colgroup /><tbody><tr class=\"k-footer-template\"></tr></tbody></table></div>');\n                var idx, length;\n                var groups = that._groups();\n                var lockedCells = $(), lockedCols = $();\n                lockedCells = lockedCells.add(cells.filter('.k-group-cell'));\n                for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                    lockedCells = lockedCells.add(cells.eq(idx + groups));\n                }\n                lockedCols = lockedCols.add(cols.filter('.k-group-col'));\n                for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                    lockedCols = lockedCols.add(cols.eq(idx + groups));\n                }\n                lockedCells.appendTo(html.find('tr'));\n                lockedCols.appendTo(html.find('colgroup'));\n                that.lockedFooter = html.prependTo(footer);\n            },\n            _appendLockedColumnHeader: function (container) {\n                var that = this, columns = this.columns, idx, html, length, colgroup, tr, trFilter, table, header, filtercellCells, rows = [], skipHiddenCount = 0, cols = $(), hasFilterRow = that._hasFilterRow(), filterCellOffset = 0, filterCells = $(), cell, leafColumnsCount = 0, cells = $();\n                colgroup = that.thead.prev().find('col:not(.k-group-col,.k-hierarchy-col)');\n                header = that.thead.find('tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                filtercellCells = that.thead.find('.k-filter-row').find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        cell = header.eq(idx);\n                        leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n                        if (isVisible(columns[idx])) {\n                            var colSpan = null;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        }\n                        mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n                        leafColumnsCount = leafColumnsCount || 1;\n                        for (var j = 0; j < leafColumnsCount; j++) {\n                            filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                        }\n                        filterCellOffset += leafColumnsCount;\n                    }\n                    if (columns[idx].columns) {\n                        skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                    }\n                    if (!isVisible(columns[idx])) {\n                        skipHiddenCount++;\n                    }\n                }\n                if (rows.length) {\n                    html = '<div class=\"k-grid-header-locked\" style=\"width:1px\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><thead>';\n                    html += new Array(rows.length + 1).join('<tr></tr>');\n                    html += (hasFilterRow ? '<tr class=\"k-filter-row\" />' : '') + '</thead></table></div>';\n                    table = $(html);\n                    colgroup = table.find('colgroup');\n                    colgroup.append(that.thead.prev().find('col.k-group-col').add(cols));\n                    tr = table.find('thead tr:not(.k-filter-row)');\n                    for (idx = 0, length = rows.length; idx < length; idx++) {\n                        cells = toJQuery(rows[idx]);\n                        tr.eq(idx).append(that.thead.find('tr:eq(' + idx + ') .k-group-cell').add(cells));\n                    }\n                    var count = removeEmptyRows(this.thead);\n                    if (rows.length < count) {\n                        removeRowSpanValue(table, count - rows.length);\n                    }\n                    trFilter = table.find('.k-filter-row');\n                    trFilter.append(that.thead.find('.k-filter-row .k-group-cell').add(filterCells));\n                    this.lockedHeader = table.prependTo(container);\n                    this.thead.find('.k-group-cell').remove();\n                    return true;\n                }\n                return false;\n            },\n            _removeLockedContainers: function () {\n                var elements = this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);\n                kendo.destroy(elements);\n                elements.off(NS).remove();\n                this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n                this.selectable = null;\n            },\n            _thead: function () {\n                var that = this, columns = that.columns, hasDetails = that._hasDetails() && columns.length, hasFilterRow = that._hasFilterRow(), idx, html = '', thead = that.table.find('>thead'), hasTHead = that.element.find('thead:first').length > 0, tr;\n                if (!thead.length) {\n                    thead = $('<thead/>').insertBefore(that.tbody);\n                }\n                if (that.lockedHeader && that.thead) {\n                    tr = that.thead.find('tr:has(th):not(.k-filter-row)').html('');\n                    tr.remove();\n                    tr = $();\n                    that._removeLockedContainers();\n                } else if (hasTHead) {\n                    tr = that.element.find('thead:first tr:has(th):not(.k-filter-row)');\n                } else {\n                    tr = that.element.find('tr:has(th):first');\n                }\n                if (!tr.length) {\n                    tr = thead.children().first();\n                    if (!tr.length) {\n                        var rows = [{\n                                rowSpan: 1,\n                                cells: [],\n                                index: 0\n                            }];\n                        that._prepareColumns(rows, columns);\n                        for (idx = 0; idx < rows.length; idx++) {\n                            html += '<tr>';\n                            if (hasDetails) {\n                                html += '<th class=\"k-hierarchy-cell\" scope=\"col\">' + that.options.messages.expandCollapseColumnHeader + '</th>';\n                            }\n                            html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                            html += '</tr>';\n                        }\n                        tr = $(html);\n                    }\n                }\n                if (hasFilterRow) {\n                    var filterRow = $('<tr/>');\n                    filterRow.addClass('k-filter-row');\n                    if (hasDetails || tr.find('.k-hierarchy-cell').length) {\n                        filterRow.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                    }\n                    var existingFilterRow = (that.thead || thead).find('.k-filter-row');\n                    if (existingFilterRow.length) {\n                        kendo.destroy(existingFilterRow);\n                        existingFilterRow.remove();\n                    }\n                    thead.append(filterRow);\n                }\n                if (!tr.children().length) {\n                    html = '';\n                    if (hasDetails) {\n                        html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                    }\n                    html += that._createHeaderCells(columns);\n                    tr.html(html);\n                } else if (hasDetails && !tr.find('.k-hierarchy-cell')[0]) {\n                    tr.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                }\n                tr.attr('role', 'row').find('th').addClass('k-header');\n                if (!that.options.scrollable) {\n                    thead.addClass('k-grid-header');\n                }\n                tr.find('script').remove().end().prependTo(thead);\n                if (that.thead) {\n                    that._destroyColumnAttachments();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: thead.find('th').get() };\n                });\n                this.angular('compile', function () {\n                    return {\n                        elements: thead.find('th').get(),\n                        data: map(columns, function (col) {\n                            return { column: col };\n                        })\n                    };\n                });\n                that.thead = thead.attr('role', 'rowgroup');\n                that._sortable();\n                that._filterable();\n                that._filterRow();\n                that._scrollable();\n                that._updateCols();\n                that._columnMenu();\n                var syncHeight;\n                var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n                if (hasLockedColumns) {\n                    syncHeight = that._appendLockedColumnHeader(that.thead.closest('.k-grid-header'));\n                    that._appendLockedColumnContent();\n                    that.lockedContent.bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                }\n                that._updateColumnCellIndex();\n                that._updateFirstColumnClass();\n                that._resizable();\n                that._draggable();\n                that._reorderable();\n                that._updateHeader(that._groups());\n                if (hasLockedColumns) {\n                    if (syncHeight) {\n                        that._syncLockedHeaderHeight();\n                    }\n                    that._applyLockedContainersWidth();\n                }\n                if (that.groupable) {\n                    that._attachGroupable();\n                }\n            },\n            _retrieveFirstColumn: function (columns, rows) {\n                var result = $();\n                if (rows.length && columns[0]) {\n                    var column = columns[0];\n                    while (column.columns && column.columns.length) {\n                        column = column.columns[0];\n                        rows = rows.filter(':not(:first())');\n                    }\n                    result = result.add(rows);\n                }\n                return result;\n            },\n            _updateFirstColumnClass: function () {\n                var that = this, columns = that.columns || [], hasDetails = that._hasDetails() && columns.length;\n                if (!hasDetails && !that._groups()) {\n                    var tr = that.thead.find('>tr:not(.k-filter-row):not(:first)');\n                    columns = nonLockedColumns(columns);\n                    var rows = that._retrieveFirstColumn(columns, tr);\n                    if (that._isLocked()) {\n                        tr = that.lockedHeader.find('thead>tr:not(.k-filter-row):not(:first)');\n                        columns = lockedColumns(that.columns);\n                        rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                    }\n                    rows.each(function () {\n                        var ths = $(this).find('th');\n                        ths.removeClass('k-first');\n                        ths.eq(0).addClass('k-first');\n                    });\n                }\n            },\n            _prepareColumns: function (rows, columns, parentCell, parentRow) {\n                var row = parentRow || rows[rows.length - 1];\n                var childRow = rows[row.index + 1];\n                var totalColSpan = 0;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    var cell = {\n                        column: columns[idx],\n                        colSpan: 0\n                    };\n                    row.cells.push(cell);\n                    if (columns[idx].columns && columns[idx].columns.length) {\n                        if (!childRow) {\n                            childRow = {\n                                rowSpan: 0,\n                                cells: [],\n                                index: rows.length\n                            };\n                            rows.push(childRow);\n                        }\n                        cell.colSpan = columns[idx].columns.length;\n                        this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                        totalColSpan += cell.colSpan - 1;\n                        row.rowSpan = rows.length - row.index;\n                    }\n                }\n                if (parentCell) {\n                    parentCell.colSpan += totalColSpan;\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var content = this.content;\n                if (this.options.scrollable.virtual) {\n                    content = this.virtualScrollable.verticalScrollbar;\n                }\n                var scrollTop = content.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta) {\n                    if (content[0].scrollHeight > content[0].clientHeight && (content[0].scrollTop < content[0].scrollHeight - content[0].clientHeight && delta < 0 || content[0].scrollTop > 0 && delta > 0)) {\n                        e.preventDefault();\n                    }\n                    content.scrollTop(scrollTop + -delta);\n                }\n            },\n            _isLocked: function () {\n                return this.lockedHeader != null;\n            },\n            _updateHeaderCols: function () {\n                var table = this.thead.parent().add(this.table);\n                if (this._isLocked()) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n                }\n            },\n            _updateCols: function (table) {\n                table = table || this.thead.parent().add(this.table);\n                this._appendCols(table, this._isLocked());\n            },\n            _updateLockedCols: function (table) {\n                if (this._isLocked()) {\n                    table = table || this.lockedHeader.find('table').add(this.lockedTable);\n                    normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _appendCols: function (table, locked) {\n                if (locked) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _autoColumns: function (schema) {\n                if (schema && schema.toJSON) {\n                    var that = this, field, encoded;\n                    schema = schema.toJSON();\n                    encoded = !(that.table.find('tbody tr').length > 0 && (!that.dataSource || !that.dataSource.transport));\n                    for (field in schema) {\n                        that.columns.push({\n                            field: field,\n                            encoded: encoded,\n                            headerAttributes: { id: kendo.guid() }\n                        });\n                    }\n                    that._thead();\n                    that._templates();\n                }\n            },\n            _rowsHtml: function (data, templates) {\n                var that = this, html = '', idx, rowTemplate = templates.rowTemplate, altRowTemplate = templates.altRowTemplate, length;\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    if (that._skipRerenderItemsCount > 0) {\n                        that._skipRerenderItemsCount--;\n                    } else {\n                        if (idx % 2) {\n                            html += altRowTemplate(data[idx]);\n                        } else {\n                            html += rowTemplate(data[idx]);\n                        }\n                    }\n                    that._data.push(data[idx]);\n                }\n                return html;\n            },\n            _groupRowHtml: function (group, colspan, level, groupHeaderBuilder, templates, skipColspan, skipLastGroup) {\n                var that = this, html = '', idx, length, field = group.field, column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {}, template = column.groupHeaderTemplate, text = (column.title || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded), footerDefaults = that._groupAggregatesDefaultObject || {}, groupItems = group.items, aggregates = extend({}, footerDefaults, group.aggregates), headerData = extend({}, {\n                        field: group.field,\n                        value: group.value,\n                        items: groupItems,\n                        aggregates: aggregates\n                    }, group.aggregates[group.field]), groupFooterTemplate = templates.groupFooterTemplate;\n                if (template) {\n                    text = typeof template === FUNCTION ? template(headerData) : kendo.template(template)(headerData);\n                }\n                if (!that._skipRerenderItemsCount) {\n                    html += groupHeaderBuilder(colspan, level, text);\n                } else {\n                    groupHeaderBuilder(colspan, level, text);\n                }\n                if (group.hasSubgroups) {\n                    for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                        html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan, skipLastGroup && idx === groupItems.length - 1);\n                    }\n                } else {\n                    html += that._rowsHtml(groupItems, templates);\n                }\n                if (groupFooterTemplate) {\n                    var footerData = {};\n                    for (var aggregate in aggregates) {\n                        footerData[aggregate] = extend({}, aggregates[aggregate], {\n                            group: {\n                                field: group.field,\n                                value: group.value,\n                                items: groupItems\n                            }\n                        });\n                    }\n                    if (skipLastGroup) {\n                        if (!inArray(group.value, that._skippedGroups)) {\n                            that._skippedGroups.push(group.value);\n                        }\n                    } else {\n                        if (that._skippedGroups.length && that._skippedGroups[0] === group.value) {\n                            that._skippedGroups.shift();\n                        }\n                        if (!that._skipRerenderItemsCount) {\n                            html += groupFooterTemplate(footerData);\n                        }\n                    }\n                }\n                return html;\n            },\n            collapseGroup: function (group) {\n                var level, that = this, groupToCollapse = group, groupable = this.options.groupable, showFooter = groupable.showFooter, footerCount = showFooter ? 0 : 1, offset, relatedGroup = $(), idx, length, tr;\n                group = $(group);\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-collapse').addClass('k-i-expand').removeClass('k-i-collapse');\n                group.find('td[aria-expanded=\\'true\\']:first').attr('aria-expanded', false).find('a').attr(ARIALABEL, EXPAND);\n                group = group.nextAll('tr');\n                var toHide = [];\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (tr.hasClass('k-grouping-row')) {\n                        footerCount++;\n                    } else if (tr.hasClass('k-group-footer')) {\n                        footerCount--;\n                    }\n                    if (offset <= level || tr.hasClass('k-group-footer') && footerCount < 0) {\n                        break;\n                    }\n                    if (relatedGroup.length) {\n                        toHide.push(relatedGroup[idx]);\n                    }\n                    toHide.push(tr[0]);\n                }\n                $(toHide).hide();\n                if (this.options.scrollable.endless && this.content) {\n                    setTimeout(function () {\n                        that.content.scroll();\n                        that._groupToCollapse = groupToCollapse;\n                    });\n                }\n            },\n            expandGroup: function (group) {\n                group = $(group);\n                var that = this, showFooter = that.options.groupable.showFooter, level, tr, offset, relatedGroup = $(), idx, length, footersVisibility = [], groupsCount = 1;\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-expand').addClass('k-i-collapse').removeClass('k-i-expand');\n                group.find('td[aria-expanded=\\'false\\']:first').attr('aria-expanded', true).find('a').attr(ARIALABEL, COLLAPSE);\n                group = group.nextAll('tr');\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (offset <= level) {\n                        break;\n                    }\n                    if (offset == level + 1 && !tr.hasClass('k-detail-row')) {\n                        tr.show();\n                        relatedGroup.eq(idx).show();\n                        if (tr.hasClass('k-grouping-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            that.expandGroup(tr);\n                        }\n                        if (tr.hasClass('k-master-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            tr.next().show();\n                            relatedGroup.eq(idx + 1).show();\n                        }\n                    }\n                    if (tr.hasClass('k-grouping-row')) {\n                        if (showFooter) {\n                            footersVisibility.push(tr.is(':visible'));\n                        }\n                        groupsCount++;\n                    }\n                    if (tr.hasClass('k-group-footer')) {\n                        if (showFooter) {\n                            tr.toggle(footersVisibility.pop());\n                        }\n                        if (groupsCount == 1) {\n                            tr.show();\n                            relatedGroup.eq(idx).show();\n                        } else {\n                            groupsCount--;\n                        }\n                    }\n                }\n                if (level === 0 && that.options.scrollable.endless && this._isLocked()) {\n                    that._syncLockedContentHeight();\n                }\n            },\n            _updateHeader: function (groups) {\n                var that = this, container = that._isLocked() ? that.lockedHeader.find('thead') : that.thead, filterCells = container.find('tr.k-filter-row').find('th.k-group-cell').length, length = container.find('tr:first').find('th.k-group-cell').length, rows = container.children('tr:not(:first)').filter(function () {\n                        return !$(this).children(':visible').length;\n                    });\n                if (groups > length) {\n                    $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">' + that.options.messages.expandCollapseColumnHeader + '</th>')).prependTo(container.children('tr:not(.k-filter-row)'));\n                    if (that.element.is(':visible')) {\n                        rows.find('th.k-group-cell').hide();\n                    }\n                } else if (groups < length) {\n                    container.find('tr').each(function () {\n                        $(this).find('th.k-group-cell').filter(':eq(' + groups + '),' + ':gt(' + groups + ')').remove();\n                    });\n                }\n                if (groups > filterCells) {\n                    $(new Array(groups - filterCells + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.find('.k-filter-row'));\n                }\n            },\n            _firstDataItem: function (data, grouped) {\n                if (data && grouped) {\n                    if (data.hasSubgroups) {\n                        data = this._firstDataItem(data.items[0], grouped);\n                    } else {\n                        data = data.items[0];\n                    }\n                }\n                return data;\n            },\n            _updateTablesWidth: function () {\n                var that = this, tables;\n                if (!that._isLocked()) {\n                    return;\n                }\n                tables = $('>.k-grid-footer>.k-grid-footer-wrap>table', that.wrapper).add(that.thead.parent()).add(that.table);\n                that._footerWidth = tableWidth(tables.eq(0));\n                tables.width(that._footerWidth);\n                tables = $('>.k-grid-footer>.k-grid-footer-locked>table', that.wrapper).add(that.lockedHeader.find('>table')).add(that.lockedTable);\n                tables.width(tableWidth(tables.eq(0)));\n            },\n            hideColumn: function (column) {\n                var that = this, cell, tables, idx, cols, colWidth, position, width = 0, headerCellIndex, length, footer = that.footer || that.wrapper.find('.k-grid-footer'), columns = that.columns, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, columnIndex;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnVisiblePosition(column, columns);\n                    setColumnVisibility(column, false);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, false);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.hideColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n                setColumnVisibility(column, false);\n                that._setParentsVisibility(column, false);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && visibleLocked > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= visibleLocked;\n                }\n                cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                cell[0].style.display = 'none';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, false);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, false);\n                }\n                if (that.lockedTable && visibleLocked > columnIndex) {\n                    hideColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                    that._syncLockedFooterHeight();\n                } else {\n                    cols = that.thead.prev().find('col');\n                    for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            width += parseInt(colWidth, 10);\n                        } else {\n                            width = 0;\n                            break;\n                        }\n                    }\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    that._footerWidth = null;\n                    if (width) {\n                        tables.each(function () {\n                            this.style.width = width + 'px';\n                        });\n                        that._footerWidth = width;\n                    }\n                    if (browser.msie && browser.version == 8) {\n                        tables.css('display', 'inline-table');\n                        setTimeout(function () {\n                            tables.css('display', 'table');\n                        }, 1);\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNHIDE, { column: column });\n            },\n            _setParentsVisibility: function (column, visible) {\n                var columns = this.columns;\n                var idx;\n                var parents = [];\n                var parent;\n                var position;\n                var cell;\n                var colSpan;\n                var predicate = visible ? function (p) {\n                    return visibleColumns(p.columns).length && p.hidden;\n                } : function (p) {\n                    return !visibleColumns(p.columns).length && !p.hidden;\n                };\n                if (columnParents(column, columns, parents) && parents.length) {\n                    for (idx = parents.length - 1; idx >= 0; idx--) {\n                        parent = parents[idx];\n                        position = columnPosition(parent, columns);\n                        cell = elements($('>table>thead', this.lockedHeader), this.thead, '>tr:eq(' + position.row + ')>th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(position.cell);\n                        if (predicate(parent)) {\n                            setColumnVisibility(parent, visible);\n                            cell[0].style.display = visible ? '' : 'none';\n                        }\n                        if (cell.filter('[' + kendo.attr('colspan') + ']').length) {\n                            colSpan = parseInt(cell.attr(kendo.attr('colspan')), 10);\n                            cell[0].colSpan = colSpan - hiddenLeafColumnsCount(parent.columns) || 1;\n                        }\n                    }\n                }\n            },\n            showColumn: function (column) {\n                var that = this, idx, length, cell, tables, width, headerCellIndex, position, colWidth, cols, columns = that.columns, footer = that.footer || that.wrapper.find('.k-grid-footer'), lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).length : 0, columnIndex, originalColumn, columnLeafIndex;\n                if (typeof column == 'number') {\n                    columnIndex = column;\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                } else {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item.field === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                }\n                if (!column || isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnPosition(column, columns);\n                    originalColumn = flatColumns(that.options.columns)[columnIndex];\n                    setColumnVisibility(column, true);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, true);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        if (!originalColumn.columns[idx].hidden) {\n                            this.showColumn(column.columns[idx]);\n                        }\n                    }\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n                columnLeafIndex = inArray(column, leafColumns(columns));\n                setColumnVisibility(column, true);\n                that._setParentsVisibility(column, true);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnLeafIndex;\n                if (that.lockedHeader && lockedColumnsCount > columnLeafIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= lockedColumnsCount;\n                }\n                cell = leafDataCells(container).eq(headerCellIndex);\n                cell[0].style.display = '';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnLeafIndex, true);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnLeafIndex, true);\n                }\n                if (that.lockedTable && lockedColumnsCount > columnLeafIndex) {\n                    showColumnCells(that.lockedTable.find('>tbody>tr'), columnLeafIndex);\n                } else {\n                    showColumnCells(that.tbody.children(), columnLeafIndex - lockedColumnsCount);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                } else {\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    if (!column.width) {\n                        tables.width('');\n                    } else {\n                        width = 0;\n                        cols = that.thead.prev().find('col');\n                        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                            colWidth = cols[idx].style.width;\n                            if (colWidth.indexOf('%') > -1) {\n                                width = 0;\n                                break;\n                            }\n                            width += parseInt(colWidth, 10);\n                        }\n                        that._footerWidth = null;\n                        if (width) {\n                            tables.each(function () {\n                                this.style.width = width + 'px';\n                            });\n                            that._footerWidth = width;\n                        }\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNSHOW, { column: column });\n            },\n            _progress: function (toggle) {\n                var element = this.element;\n                var endless = this.options.scrollable && this.options.scrollable.endless;\n                if (this._editContainer && this._editMode() === 'popup') {\n                    element = this._editContainer;\n                } else if (this.lockedContent || endless) {\n                    element = this.wrapper;\n                } else if (this.element.is('table')) {\n                    element = this.element.parent();\n                } else if (this.content && this.content.length) {\n                    element = this.content;\n                }\n                if (endless && toggle) {\n                    kendo.ui.progress(element, toggle, {\n                        height: this.content.height(),\n                        top: this.content[0].offsetTop,\n                        opacity: true\n                    });\n                } else {\n                    kendo.ui.progress(element, toggle);\n                }\n            },\n            _resize: function (size, force) {\n                this._syncLockedContentHeight();\n                this._syncLockedHeaderHeight();\n                if (this.content) {\n                    this._setContentWidth();\n                    this._setContentHeight();\n                }\n                if (this.virtualScrollable && (force || this._rowHeight)) {\n                    if (force) {\n                        this._rowHeight = null;\n                    }\n                    this.virtualScrollable.repaintScrollbar();\n                }\n            },\n            _isActiveInTable: function () {\n                var active = activeElement();\n                if (!active) {\n                    return false;\n                }\n                return this.table[0] === active || $.contains(this.table[0], active) || this._isLocked() && (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active));\n            },\n            refresh: function (e) {\n                var that = this, data = that.dataSource.view(), navigatable = that.options.navigatable, currentIndex, current = $(that.current()), isCurrentInHeader = false, groups = (that.dataSource.group() || []).length, colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length, contentScrollLeft, cachedItemsToSkip;\n                if (e && e.action === 'itemchange' && (that.editable || that.options.scrollable.endless)) {\n                    return;\n                }\n                if (e && e.action === 'remove' && that.editable && that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                    that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n                }\n                e = e || {};\n                if (that.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                if (e.action === SYNC && that._isVirtualEditable()) {\n                    that._destroyEditable();\n                    that._clearEditableState();\n                }\n                that._angularItems('cleanup');\n                if (!that._endlessFetchInProgress) {\n                    if (navigatable && (that._isActiveInTable() || that._editContainer && that._editContainer.data('kendoWindow'))) {\n                        isCurrentInHeader = current.is('th');\n                        currentIndex = isCurrentInHeader ? current.index() : Math.max(that.cellIndex(current), 0);\n                    }\n                    that._destroyEditable();\n                }\n                if (that.options.scrollable && that.options.scrollable.endless) {\n                    clearTimeout(that._progressTimeOut);\n                    that._progressTimeOut = setTimeout(function () {\n                        if (!that._endlessFetchInProgress) {\n                            that._progress(false);\n                        }\n                    }, 100);\n                } else {\n                    that._progress(false);\n                }\n                that._hideResizeHandle();\n                that._data = [];\n                if (!that.columns.length) {\n                    that._autoColumns(that._firstDataItem(data[0], groups));\n                    colspan = groups + that.columns.length;\n                }\n                that._group = groups > 0 || that._group;\n                if (that._group) {\n                    that._templates();\n                    that._updateCols();\n                    that._updateLockedCols();\n                    that._updateHeader(groups);\n                    that._group = groups > 0;\n                    that._groupRows = groupRows(data);\n                }\n                if (that.content) {\n                    contentScrollLeft = that.content.scrollLeft();\n                }\n                cachedItemsToSkip = that._skipRerenderItemsCount;\n                that._renderContent(data, colspan, groups);\n                if (that.options.scrollable && that.options.scrollable.endless && this.lockedContent) {\n                    that._skipRerenderItemsCount = cachedItemsToSkip;\n                }\n                that._renderLockedContent(data, colspan, groups);\n                that._footer();\n                that._renderNoRecordsContent();\n                that._togglePagerVisibility();\n                that._setContentHeight();\n                that._setContentWidth(that.content && contentScrollLeft);\n                if (that.lockedTable) {\n                    if (that.options.scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').trigger('scroll');\n                    } else if (that.touchScroller) {\n                        that.touchScroller.movable.trigger('change');\n                    } else {\n                        that.wrapper.one('scroll', function (e) {\n                            e.stopPropagation();\n                        });\n                        that.content.trigger('scroll');\n                    }\n                }\n                if (!that._endlessFetchInProgress) {\n                    that._restoreCurrent(currentIndex, isCurrentInHeader);\n                }\n                if (that.touchScroller) {\n                    that.touchScroller.contentResized();\n                }\n                if (that.selectable) {\n                    that.selectable.resetTouchEvents();\n                }\n                that._muteAngularRebind(function () {\n                    that._angularItems('compile');\n                });\n                if (that._checkBoxSelection) {\n                    that._toggleHeaderCheckState(false);\n                }\n                if (that.options.persistSelection && (that.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell || that._checkBoxSelection)) {\n                    that._restoreSelection();\n                } else {\n                    that._selectedIds = {};\n                }\n                that.trigger(DATABOUND);\n            },\n            _restoreCurrent: function (currentIndex, isCurrentInHeader) {\n                if (currentIndex === undefined || currentIndex < 0) {\n                    return;\n                }\n                this._removeCurrent();\n                if (isCurrentInHeader) {\n                    this._setCurrent(this.thead.find('th:not(.k-group-cell)').eq(currentIndex));\n                } else {\n                    var rowIndex = 0;\n                    if (this._rowVirtualIndex) {\n                        rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                    } else {\n                        currentIndex = 0;\n                    }\n                    var row = $();\n                    if (this.lockedTable) {\n                        row = this.lockedTable.find('>tbody>tr').eq(rowIndex);\n                    }\n                    row = row.add(this.tbody.children().eq(rowIndex));\n                    var td = row.find('>td:not(.k-group-cell):not(.k-hierarchy-cell)').eq(currentIndex);\n                    this._setCurrent(td);\n                }\n                if (this._current) {\n                    focusTable(this._current.closest('table')[0], true);\n                }\n            },\n            _restoreSelection: function () {\n                var that = this, allRows = that.items(), selectedRows;\n                selectedRows = grep(allRows, function (row) {\n                    var dataItemKey = that.dataItem(row)[that.dataSource.options.schema.model.id];\n                    if (that._selectedIds[dataItemKey]) {\n                        return row;\n                    }\n                });\n                that.select(selectedRows);\n            },\n            _angularItems: function (cmd) {\n                kendo.ui.DataBoundWidget.fn._angularItems.call(this, cmd);\n                if (cmd === 'cleanup') {\n                    this._cleanupDetailItems();\n                }\n                this._angularGroupItems(cmd);\n                this._angularGroupFooterItems(cmd);\n            },\n            _cleanupDetailItems: function () {\n                var that = this;\n                if (that._hasDetails()) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.tbody.children('.k-detail-row') };\n                    });\n                    that.tbody.find('.k-detail-cell').empty();\n                }\n            },\n            _angularGroupItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.lockedTable.find('tbody');\n                }\n                if (that._group) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.children('.k-grouping-row'),\n                            data: $.map(groupRows(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _angularGroupFooterItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.element;\n                }\n                if (that._group && that.groupFooterTemplate) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.find('.k-group-footer'),\n                            data: $.map(groupFooters(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _renderContent: function (data, colspan, groups) {\n                var that = this, idx, length, html = '', isLocked = that.lockedContent != null, endlessAppend = null, skipLastGroup, flatViewLength, scrollable = that.options.scrollable, templates = {\n                        rowTemplate: that.rowTemplate,\n                        altRowTemplate: that.altRowTemplate,\n                        groupFooterTemplate: that.groupFooterTemplate\n                    };\n                if (scrollable && scrollable.endless && !that.dataSource.options.endless) {\n                    that._skipRerenderItemsCount = 0;\n                    if (that.content) {\n                        that.content[0].scrollTop = 0;\n                    }\n                }\n                endlessAppend = that._skipRerenderItemsCount > 0;\n                colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n                if (groups > 0) {\n                    colspan = isLocked ? colspan - groups : colspan;\n                    if (that.detailTemplate) {\n                        colspan++;\n                    }\n                    if (that.groupFooterTemplate) {\n                        that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                    }\n                    if (that.options.scrollable.endless) {\n                        flatViewLength = that.dataSource.flatView().length;\n                    }\n                    for (idx = 0, length = data.length; idx < length; idx++) {\n                        if (!that._skippedGroups) {\n                            that._skippedGroups = [];\n                        }\n                        skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== that.dataSource.total();\n                        html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked, skipLastGroup);\n                    }\n                } else {\n                    html += that._rowsHtml(data, templates);\n                }\n                if (endlessAppend) {\n                    that.tbody.append(html);\n                    setTimeout(function () {\n                        if (that._groupToCollapse) {\n                            that.collapseGroup(that._groupToCollapse);\n                            that._groupToCollapse = null;\n                        }\n                    });\n                    that._endlessFetchInProgress = null;\n                } else {\n                    that.tbody = appendContent(that.tbody, that.table, html, this.options.$angular);\n                }\n            },\n            _renderLockedContent: function (data, colspan, groups) {\n                var html = '', idx, length, endlessAppend = null, templates = {\n                        rowTemplate: this.lockedRowTemplate,\n                        altRowTemplate: this.lockedAltRowTemplate,\n                        groupFooterTemplate: this.lockedGroupFooterTemplate\n                    };\n                if (this.lockedContent) {\n                    var table = this.lockedTable;\n                    endlessAppend = this._skipRerenderItemsCount > 0;\n                    if (groups > 0) {\n                        colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates, false, this.options.scrollable.endless && idx === data.length - 1);\n                        }\n                    } else {\n                        html = this._rowsHtml(data, templates);\n                    }\n                    if (endlessAppend) {\n                        table.children('tbody').append(html);\n                    } else {\n                        appendContent(table.children('tbody'), table, html, this.options.$angular);\n                    }\n                    this._syncLockedContentHeight();\n                }\n            },\n            _togglePagerVisibility: function () {\n                if (this.options.pageable.alwaysVisible === false) {\n                    this.wrapper.find('.k-grid-pager').toggle(this.dataSource.total() >= this.dataSource.pageSize());\n                }\n            },\n            _adjustRowsHeight: function (table1, table2) {\n                var rows = table1[0].rows, length = rows.length, idx, rows2 = table2[0].rows, containers = table1.add(table2), containersLength = containers.length, heights = [];\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    if (rows[idx].style.height) {\n                        rows[idx].style.height = rows2[idx].style.height = '';\n                    }\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    var offsetHeight1 = rows[idx].offsetHeight;\n                    var offsetHeight2 = rows2[idx].offsetHeight;\n                    var height = 0;\n                    if (offsetHeight1 > offsetHeight2) {\n                        height = offsetHeight1;\n                    } else if (offsetHeight1 < offsetHeight2) {\n                        height = offsetHeight2;\n                    }\n                    heights.push(height);\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = 'none';\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (heights[idx]) {\n                        rows[idx].style.height = rows2[idx].style.height = heights[idx] + 1 + 'px';\n                    }\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = '';\n                }\n            }\n        });\n        if (kendo.ExcelMixin) {\n            kendo.ExcelMixin.extend(Grid.prototype);\n        }\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Grid.prototype);\n            Grid.prototype._drawPDF_autoPageBreak = function (progress) {\n                var grid = this;\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                var origBody = grid.wrapper.find('table[role=\"grid\"] > tbody');\n                var cont = $('<div>').css({\n                    position: 'absolute',\n                    left: -10000,\n                    top: -10000\n                });\n                var clone = grid.wrapper.clone().css({\n                    height: 'auto',\n                    width: 'auto'\n                }).appendTo(cont);\n                clone.find('.k-grid-content').css({\n                    height: 'auto',\n                    width: 'auto',\n                    overflow: 'visible'\n                });\n                clone.find('table[role=\"grid\"], .k-grid-footer table').css({\n                    height: 'auto',\n                    width: '100%',\n                    overflow: 'visible'\n                });\n                clone.find('.k-grid-pager, .k-grid-toolbar, .k-grouping-header').remove();\n                clone.find('.k-grid-header, .k-grid-footer').css({ paddingRight: 0 });\n                this._initPDFProgress(progress);\n                var body = clone.find('table[role=\"grid\"] > tbody').empty();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.one('change', draw);\n                        dataSource.page(startingPage);\n                    } else {\n                        grid.refresh();\n                        draw();\n                    }\n                }\n                function draw() {\n                    cont.appendTo(document.body);\n                    var options = $.extend({}, grid.options.pdf, {\n                        _destructive: true,\n                        progress: function (p) {\n                            progress.notify({\n                                page: p.page,\n                                pageNumber: p.pageNum,\n                                progress: 0.5 + p.pageNum / p.totalPages / 2,\n                                totalPages: p.totalPages\n                            });\n                        }\n                    });\n                    kendo.drawing.drawDOM(clone, options).always(function () {\n                        cont.remove();\n                    }).then(function (group) {\n                        result.resolve(group);\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                function renderPage() {\n                    var pageNum = dataSource.page();\n                    var totalPages = allPages ? dataSource.totalPages() : 1;\n                    body.append(origBody.find('tr'));\n                    if (pageNum < totalPages) {\n                        dataSource.page(pageNum + 1);\n                    } else {\n                        dataSource.unbind('change', renderPage);\n                        resolve();\n                    }\n                }\n                if (allPages) {\n                    dataSource.bind('change', renderPage);\n                    dataSource.page(1);\n                } else {\n                    renderPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._drawPDF = function (progress) {\n                var grid = this;\n                if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != 'auto') {\n                    return grid._drawPDF_autoPageBreak(progress);\n                }\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                this._initPDFProgress(progress);\n                var doc = new kendo.drawing.Group();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.unbind('change', exportPage);\n                        dataSource.one('change', function () {\n                            result.resolve(doc);\n                        });\n                        dataSource.page(startingPage);\n                    } else {\n                        result.resolve(doc);\n                    }\n                }\n                function exportPage() {\n                    grid._drawPDFShadow({ width: grid.wrapper.width() }, { avoidLinks: grid.options.pdf.avoidLinks }).done(function (group) {\n                        var pageNum = dataSource.page();\n                        var totalPages = allPages ? dataSource.totalPages() : 1;\n                        var args = {\n                            page: group,\n                            pageNumber: pageNum,\n                            progress: pageNum / totalPages,\n                            totalPages: totalPages\n                        };\n                        progress.notify(args);\n                        doc.append(args.page);\n                        if (pageNum < totalPages) {\n                            dataSource.page(pageNum + 1);\n                        } else {\n                            resolve();\n                        }\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                if (allPages) {\n                    dataSource.bind('change', exportPage);\n                    dataSource.page(1);\n                } else {\n                    exportPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._initPDFProgress = function (deferred) {\n                var loading = $('<div class=\\'k-loading-pdf-mask\\'><div class=\\'k-loading-color\\'/></div>');\n                loading.prepend(this.wrapper.clone().css({\n                    position: 'absolute',\n                    top: 0,\n                    left: 0\n                }));\n                this.wrapper.append(loading);\n                var pb = $('<div class=\\'k-loading-pdf-progress\\'>').appendTo(loading).kendoProgressBar({\n                    type: 'chunk',\n                    chunkCount: 10,\n                    min: 0,\n                    max: 1,\n                    value: 0\n                }).data('kendoProgressBar');\n                deferred.progress(function (e) {\n                    pb.value(e.progress);\n                }).always(function () {\n                    kendo.destroy(loading);\n                    loading.remove();\n                });\n            };\n        }\n        function syncTableHeight(table1, table2) {\n            table1 = table1[0];\n            table2 = table2[0];\n            if (table1.rows.length !== table2.rows.length) {\n                var lockedHeigth = table1.offsetHeight;\n                var tableHeigth = table2.offsetHeight;\n                var row;\n                var diff;\n                if (lockedHeigth > tableHeigth) {\n                    row = table2.rows[table2.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table2.rows[table2.rows.length - 2];\n                    }\n                    diff = lockedHeigth - tableHeigth;\n                } else {\n                    row = table1.rows[table1.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table1.rows[table1.rows.length - 2];\n                    }\n                    diff = tableHeigth - lockedHeigth;\n                }\n                row.style.height = row.offsetHeight + diff + 'px';\n            }\n        }\n        function adjustRowHeight(row1, row2) {\n            var height;\n            var offsetHeight1 = row1.offsetHeight;\n            var offsetHeight2 = row2.offsetHeight;\n            if (offsetHeight1 > offsetHeight2) {\n                height = offsetHeight1 + 'px';\n            } else if (offsetHeight1 < offsetHeight2) {\n                height = offsetHeight2 + 'px';\n            }\n            if (height) {\n                row1.style.height = row2.style.height = height;\n            }\n        }\n        function getCommand(commands, name) {\n            var idx, length, command;\n            if (typeof commands === STRING && commands === name) {\n                return commands;\n            }\n            if (isPlainObject(commands) && commands.name === name) {\n                return commands;\n            }\n            if (isArray(commands)) {\n                for (idx = 0, length = commands.length; idx < length; idx++) {\n                    command = commands[idx];\n                    if (typeof command === STRING && command === name || command.name === name) {\n                        return command;\n                    }\n                }\n            }\n            return null;\n        }\n        function focusTable(table, direct) {\n            if (direct === true) {\n                table = $(table);\n                var scrollLeft = table.parent().scrollLeft();\n                kendo.focusElement(table);\n                table.parent().scrollLeft(scrollLeft);\n            } else {\n                $(table).one('focusin', function (e) {\n                    e.preventDefault();\n                }).focus();\n            }\n        }\n        function isColumnEditable(column, model) {\n            if (!column.field || column.selectable) {\n                return false;\n            }\n            if (model.editable && !model.editable(column.field)) {\n                return false;\n            }\n            if (column.editable && !column.editable(model)) {\n                return false;\n            }\n            return true;\n        }\n        function isInputElement(element) {\n            return $(element).is(':button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown');\n        }\n        function tableClick(e) {\n            var currentTarget = $(e.currentTarget), isHeader = currentTarget.is('th'), table = this.table.add(this.lockedTable), headerTable = this.thead.parent().add($('>table', this.lockedHeader)), isInput = isInputElement(e.target), target = $(e.target), currentTable = currentTarget.closest('table')[0];\n            if (isInput && currentTarget.find(kendo.roleSelector('filtercell')).length) {\n                this._setCurrent(currentTarget);\n                return;\n            }\n            if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n                return;\n            }\n            if (target.is('a.k-i-expand, a.k-i-collapse')) {\n                return;\n            }\n            if (this.options.navigatable) {\n                this._setCurrent(currentTarget);\n            }\n            if (isHeader || !isInput) {\n                setTimeout(function () {\n                    if (!(isIE8 && $(kendo._activeElement()).hasClass('k-widget'))) {\n                        if (!isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement())) {\n                            focusTable(currentTable, true);\n                        }\n                    }\n                });\n            }\n            if (isHeader) {\n                e.preventDefault();\n            }\n        }\n        function leftMostPosition(element, rtl) {\n            if (!rtl) {\n                return 0;\n            }\n            var result = 0;\n            if (kendo.support.browser.webkit) {\n                result = element.width();\n            }\n            return result;\n        }\n        function isInEdit(cell) {\n            return cell && (cell.hasClass('k-edit-cell') || cell.parent().hasClass('k-grid-edit-row'));\n        }\n        function groupRowBuilder(colspan, level, text) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + groupCells(level) + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon k-i-collapse\" href=\"#\" tabindex=\"-1\" ' + ARIALABEL + '=\"' + COLLAPSE + '\"></a>' + text + '</p></td></tr>';\n        }\n        function groupRowLockedContentBuilder(colspan) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">&nbsp;</p></td></tr>';\n        }\n        ui.plugin(Grid);\n        ui.plugin(VirtualScrollable);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}