{"version":3,"sources":["kendo.treelist.js"],"names":["f","define","$","undefined","is","field","object","not","func","isCellVisible","this","style","display","leafDataCells","container","indexAttr","rows","find","filter","el","hasClass","cells","length","rowSpan","add","last","kendo","attr","sort","a","b","indexA","indexB","index","parseInt","createPlaceholders","options","i","level","spans","className","push","kendoDomElement","columnsWidth","cols","colWidth","idx","width","indexOf","syncTableHeight","table1","table2","lockedHeigth","tableHeigth","row","diff","offsetHeight","height","isInputElement","element","focusTable","table","direct","scrollTop","scrollLeft","msie","browser","edge","parent","setActive","e","focus","one","preventDefault","TreeListDataSource","Editor","PopupEditor","TreeList","data","extend","kendoDom","dom","kendoTextElement","text","kendoHtmlElement","html","outerWidth","_outerWidth","keys","outerHeight","_outerHeight","ui","DataBoundWidget","DataSource","ObservableArray","Query","Model","support","proxy","map","grep","inArray","isPlainObject","Array","prototype","STRING","CHANGE","ERROR","PROGRESS","DOT","NS","CLICK","MOUSEDOWN","EDIT","SAVE","EXPAND","COLLAPSE","REMOVE","DATABINDING","DATABOUND","CANCEL","TABINDEX","FILTERMENUINIT","COLUMNHIDE","COLUMNSHOW","HEADERCELLS","COLUMNREORDER","COLUMNRESIZE","COLUMNMENUINIT","COLUMNLOCK","COLUMNUNLOCK","PARENTIDFIELD","DRAGSTART","DRAG","DROP","DRAGEND","NAVROW","NAVCELL","NAVHEADER","FIRSTNAVITEM","LASTITEMROW","HEADERCELL","isRtl","HEIGHT","classNames","wrapper","header","button","alt","editCell","group","gridToolbar","gridHeader","gridHeaderWrap","gridContent","gridContentWrap","gridFilter","footerTemplate","focused","loading","refresh","retry","selected","status","link","withIcon","filterable","icon","iconFilter","iconCollapse","iconExpand","iconHidden","iconPlaceHolder","input","dropPositions","dropTop","dropBottom","dropAdd","dropMiddle","dropDenied","dragStatus","dragClue","dragClueText","defaultCommands","create","imageClass","methodName","createchild","destroy","edit","update","canceledit","excel","pdf","TreeListModel","id","parentId","fields","type","nullable","init","value","fn","call","_loaded","parentIdField","get","accept","set","initiator","loaded","shouldSerialize","base","model","schema","modelBase","_createNewModel","fromModel","_shouldWrap","_push","result","operation","_readData","newData","_replaceData","toJSON","concat","source","target","sourceLength","_readAggregates","_aggregateResult","reader","aggregates","_defaultParentId","remove","root","_removeChildData","items","_subtree","_childrenMap","_removeItems","_filterCallback","query","item","toArray","parentNode","len","defaultParentId","_observeView","_calculateAggregates","subtree","process","filterCallback","aggregate","_queryProcess","hasLoadedChildren","children","hasChildren","slice","_queueRequest","callback","_modelLoaded","childNodes","_modelError","_error","success","requestParams","_data","_observe","load","method","remote","serverSorting","serverPaging","serverFiltering","serverGrouping","serverAggregates","defaultPromise","Deferred","resolve","promise","done","fail","contains","child","rootId","_byParentId","defaultId","current","view","at","defaults","rootNodes","baseFilter","isArray","Observable","bind","events","_fields","columns","_initContainer","createEditable","editable","Editable","clearContainer","_isEditable","column","format","editor","end","close","empty","removeAttr","_attachHandlers","cycleForm","open","window","modal","resizable","draggable","title","visible","formContent","uid","append","template","_appendTemplate","_appendFields","_appendButtons","Tree","render","appendTo","Window","form","unescape","command","class","fieldRenderer","commandRenderer","closeHandler","_cancelProxy","_cancel","on","_saveProxy","_save","userTriggered","_dettachHandlers","off","trigger","center","_dataSource","dataSource","_aria","_columns","_layout","_navigatable","_selectable","_sortable","_resizable","_filterable","_attachEvents","_toolbar","_scrollable","_reorderable","_columnMenu","_minScreenSupport","_draggable","autoBind","fetch","_hasLockedColumns","widget","addClass","_resizeHandler","resize","notify","move","_dragging","HierarchicalDragAndDrop","$angular","autoScroll","itemSelector","allowedContainers","hintText","separator","join","destination","dest","dataItem","src","itemFromTarget","tr","closest","content","dragstart","drag","drop","removeClass","dragend","reorderable","dropHintContainer","dropPositionFrom","dropHint","prevAll","itemFor","tbody","scrollables","lockedContent","touchScroller","scrollable","thead","_wheelScroll","movable","_touchScroller","sender","x","y","delta","lockedDiv","ctrlKey","wheelDeltaY","currentTarget","scrollHeight","clientHeight","_progress","messages","_showStatus","_render","error","isCurrentInHeader","currentIndex","action","_cancelEditor","_adjustHeight","navigatable","_isActiveInTable","Math","max","cellIndex","_restoreCurrent","_angularFooters","footer","allAggregates","footerRows","_footerItems","eq","_angularFooter","angular","elements","col","_items","lockedTable","dataItems","n","tmp","message","_contentTree","_lockedContentTree","hide","_hideStatus","show","isHeightSet","contentWrap","toolbar","scrollbar","css","initialHeight","newHeight","offsetWidth","clientWidth","_resize","_applyLockedContainersWidth","any","hideMinScreenCols","minScreenResizeHandler","minWidth","screenWidth","innerWidth","screen","minScreenWidth","hideColumn","showColumn","unbind","_refreshHandler","_errorHandler","_progressHandler","_navigatableTables","_current","_draggableInstance","_destroyEditor","_autoExpandable","_dataSourceFetchProxy","lockedHeader","_statusTree","_headerTree","_lockedHeaderColsTree","_lockedContentColsTree","_lockedHeaderTree","name","selectable","sortable","columnMenu","noRows","requestFailed","commands","hierarchy","_toggle","expand","expanded","always","_syncLockedContentHeight","collapse","_toggleChildren","event","tables","headerTables","that","touch","_tableClick","_tableFocus","_tableBlur","_tableKeyDown","td","lockedColumnOffset","lockedColumns","active","_activeElement","rowIndex","newCurrent","_updateCurrentAttr","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","_scrollTo","_relatedRow","elementToLowercase","tagName","toLowerCase","isHorizontal","elementOffset","elementOffsetDir","containerScroll","containerOffsetDir","bottomDistance","ieCorrection","firefoxCorrection","offsetLeft","mozilla","abs","_elementId","_verticalContainer","up","step","floor","next","headerId","replace","handled","canHandle","isDefaultPrevented","keyCode","UP","_moveUp","DOWN","_moveDown","LEFT","RIGHT","altKey","_handleExpand","_moveRight","_handleCollapse","_moveLeft","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","HOME","_handleHome","END","_handleEnd","stopPropagation","ctrl","prev","rowContainer","isInLockedTable","isInBody","currentTable","blur","cancelRow","first","version","document","body","has","focusable","click","_handleEditing","editContainer","isEdited","isIE","opera","change","triggerHandler","saveRow","editRow","nextAll","verticalContainer","prevRow","siblings","addBack","nextRow","isHeader","headerTable","isInput","setTimeout","_setTabIndex","icons","retryButton","_commandClick","_commandByName","j","currentName","commandName","parentsUntil","_ensureExpandableColumn","visibleColumns","expandableColumns","expandable","encoded","_lockedColumns","_nonLockedColumns","_columnTemplates","_columnAttributes","headerTemplate","convertStyle","properties","declaration","split","trim","camelCase","attributes","headerAttributes","rtl","layout","_initVirtualTrees","_renderCols","_renderHeader","_headerColsTree","_contentColsTree","buttons","_buildCommands","_templateColumns","_flushCache","uidAttr","select","_","_absoluteIndex","_angularItems","buttonClass","_trs","htmlEncode","contentResized","_muteAngularRebind","_adjustRowsHeight","lockedRows","containers","containersLength","heights","lockedHeaderRows","headerRows","offsetHeight1","offsetHeight2","_ths","cellClasses","headerContent","ths","href","data-field","data-title","hidden","role","_cols","lockedWidth","nonLockedWidth","wrapperWidth","_edit","_tds","_td","_hasFooterTemplate","data-parentId","_footerTd","noop","c","renderer","l","iconClass","_cellContent","_button","data-command","_positionResizeHandle","cellOffset","th","resizeHandle","position","left","cellWidth","clientX","indicatorWidth","columnResizeHandleWidth","offset","top","val","locked","autoFitColumn","isLocked","contentTable","footerTable","oldColumnWidth","newColumnWidth","totalWidth","visibleLocked","ceil","each","oldWidth","newWidth","_syncLockedHeaderHeight","_adjustLockedHorizontalScrollBar","treelist","Resizable","handle","start","colSelector","startLocation","location","columnWidth","minColumnWidth","resizeend","sortableInstance","cell","fieldAttr","kendoColumnSorter","filterMenuInstance","filterInit","kendoFilterMenu","_change","_isLocked","useAllItems","multi","Selectable","parseOptions","multiple","aria","continuousItems","_continuousItems","relatedTarget","_selectableTarget","SPACEBAR","shiftKey","clear","_lastActive","selectRange","_firstSelectee","lockedItems","nonLockedItems","nonLockedColumns","apply","splice","related","clearSelection","ds","setDataSource","getByUid","_editMode","_createEditor","_cancelEdit","args","sync","addRow","then","_insertAt","insert","removeRow","cancelChanges","mode","save","cancel","_toggleColumnVisibility","_findColumn","_adjustTablesWidth","selector","Draggable","guid","hint","paddingLeft","paddingRight","lineHeight","paddingTop","paddingBottom","prepend","Reorderable","dragOverContainers","_allowDragOverContainers","inSameContainer","newIndex","oldIndex","before","reorderColumn","lockable","destIndex","lockChanged","sourceIndex","destColumn","nonLockedColumnsLength","lockColumn","unlockColumn","menu","menuOptions","initHandler","_columnMenuInit","lockedColumnsLength","compare","pane","values","owner","closeCallback","kendoColumnMenu","ExcelMixin","PDFMixin","_drawPDF","progress","_drawPDFShadow","avoidLinks","page","pageNumber","totalPages","err","reject","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.treelist.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.treelist', [\n        'kendo.dom',\n        'kendo.data',\n        'kendo.columnsorter',\n        'kendo.editable',\n        'kendo.window',\n        'kendo.filtermenu',\n        'kendo.selectable',\n        'kendo.resizable',\n        'kendo.treeview.draganddrop'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'treelist',\n        name: 'TreeList',\n        category: 'web',\n        description: 'The TreeList widget displays self-referencing data and offers rich support for interacting with data, sorting, filtering, and selection.',\n        depends: [\n            'dom',\n            'data'\n        ],\n        features: [\n            {\n                id: 'treelist-sorting',\n                name: 'Sorting',\n                description: 'Support for column sorting',\n                depends: ['columnsorter']\n            },\n            {\n                id: 'treelist-filtering',\n                name: 'Filtering',\n                description: 'Support for record filtering',\n                depends: ['filtermenu']\n            },\n            {\n                id: 'treelist-editing',\n                name: 'Editing',\n                description: 'Support for record editing',\n                depends: [\n                    'editable',\n                    'window'\n                ]\n            },\n            {\n                id: 'treelist-selection',\n                name: 'Selection',\n                description: 'Support for row selection',\n                depends: ['selectable']\n            },\n            {\n                id: 'treelist-column-resize',\n                name: 'Column resizing',\n                description: 'Support for column resizing',\n                depends: ['resizable']\n            },\n            {\n                id: 'treelist-dragging',\n                name: 'Drag & Drop',\n                description: 'Support for drag & drop of rows',\n                depends: ['treeview.draganddrop']\n            },\n            {\n                id: 'treelist-excel-export',\n                name: 'Excel export',\n                description: 'Export data as Excel spreadsheet',\n                depends: ['excel']\n            },\n            {\n                id: 'treelist-pdf-export',\n                name: 'PDF export',\n                description: 'Export data as PDF',\n                depends: [\n                    'pdf',\n                    'drawing'\n                ]\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var data = kendo.data;\n        var extend = $.extend;\n        var kendoDom = kendo.dom;\n        var kendoDomElement = kendoDom.element;\n        var kendoTextElement = kendoDom.text;\n        var kendoHtmlElement = kendoDom.html;\n        var outerWidth = kendo._outerWidth;\n        var keys = kendo.keys;\n        var outerHeight = kendo._outerHeight;\n        var ui = kendo.ui;\n        var DataBoundWidget = ui.DataBoundWidget;\n        var DataSource = data.DataSource;\n        var ObservableArray = data.ObservableArray;\n        var Query = data.Query;\n        var Model = data.Model;\n        var browser = kendo.support.browser;\n        var proxy = $.proxy;\n        var map = $.map;\n        var grep = $.grep;\n        var inArray = $.inArray;\n        var isPlainObject = $.isPlainObject;\n        var push = Array.prototype.push;\n        var STRING = 'string';\n        var CHANGE = 'change';\n        var ERROR = 'error';\n        var PROGRESS = 'progress';\n        var DOT = '.';\n        var NS = '.kendoTreeList';\n        var CLICK = 'click';\n        var MOUSEDOWN = 'mousedown';\n        var EDIT = 'edit';\n        var SAVE = 'save';\n        var EXPAND = 'expand';\n        var COLLAPSE = 'collapse';\n        var REMOVE = 'remove';\n        var DATABINDING = 'dataBinding';\n        var DATABOUND = 'dataBound';\n        var CANCEL = 'cancel';\n        var TABINDEX = 'tabIndex';\n        var FILTERMENUINIT = 'filterMenuInit';\n        var COLUMNHIDE = 'columnHide';\n        var COLUMNSHOW = 'columnShow';\n        var HEADERCELLS = 'th.k-header';\n        var COLUMNREORDER = 'columnReorder';\n        var COLUMNRESIZE = 'columnResize';\n        var COLUMNMENUINIT = 'columnMenuInit';\n        var COLUMNLOCK = 'columnLock';\n        var COLUMNUNLOCK = 'columnUnlock';\n        var PARENTIDFIELD = 'parentId';\n        var DRAGSTART = 'dragstart';\n        var DRAG = 'drag';\n        var DROP = 'drop';\n        var DRAGEND = 'dragend';\n        var NAVROW = 'tr:visible';\n        var NAVCELL = 'td:visible';\n        var NAVHEADER = 'th:visible';\n        var FIRSTNAVITEM = NAVROW + ' > td:first:visible';\n        var LASTITEMROW = 'tr:not(.k-footer-template):visible:last';\n        var HEADERCELL = 'th:visible';\n        var isRtl = false;\n        var HEIGHT = 'height';\n        var classNames = {\n            wrapper: 'k-treelist k-grid k-widget k-display-block',\n            header: 'k-header',\n            button: 'k-button',\n            alt: 'k-alt',\n            editCell: 'k-edit-cell',\n            group: 'k-treelist-group',\n            gridToolbar: 'k-grid-toolbar',\n            gridHeader: 'k-grid-header',\n            gridHeaderWrap: 'k-grid-header-wrap',\n            gridContent: 'k-grid-content',\n            gridContentWrap: 'k-grid-content',\n            gridFilter: 'k-grid-filter',\n            footerTemplate: 'k-footer-template',\n            focused: 'k-state-focused',\n            loading: 'k-i-loading',\n            refresh: 'k-i-reload',\n            retry: 'k-request-retry',\n            selected: 'k-state-selected',\n            status: 'k-status',\n            link: 'k-link',\n            withIcon: 'k-with-icon',\n            filterable: 'k-filterable',\n            icon: 'k-icon',\n            iconFilter: 'k-i-filter',\n            iconCollapse: 'k-i-collapse',\n            iconExpand: 'k-i-expand',\n            iconHidden: 'k-i-none',\n            iconPlaceHolder: 'k-icon k-i-none',\n            input: 'k-input',\n            dropPositions: 'k-i-insert-up k-i-insert-down k-i-plus k-i-insert-middle',\n            dropTop: 'k-i-insert-up',\n            dropBottom: 'k-i-insert-down',\n            dropAdd: 'k-i-plus',\n            dropMiddle: 'k-i-insert-middle',\n            dropDenied: 'k-i-cancel',\n            dragStatus: 'k-drag-status',\n            dragClue: 'k-drag-clue',\n            dragClueText: 'k-clue-text'\n        };\n        var defaultCommands = {\n            create: {\n                imageClass: 'k-i-plus',\n                className: 'k-grid-add',\n                methodName: 'addRow'\n            },\n            createchild: {\n                imageClass: 'k-i-plus',\n                className: 'k-grid-add',\n                methodName: 'addRow'\n            },\n            destroy: {\n                imageClass: 'k-i-close',\n                className: 'k-grid-delete',\n                methodName: 'removeRow'\n            },\n            edit: {\n                imageClass: 'k-i-edit',\n                className: 'k-grid-edit',\n                methodName: 'editRow'\n            },\n            update: {\n                imageClass: 'k-i-check',\n                className: 'k-primary k-grid-update',\n                methodName: 'saveRow'\n            },\n            canceledit: {\n                imageClass: 'k-i-cancel',\n                className: 'k-grid-cancel',\n                methodName: '_cancelEdit'\n            },\n            excel: {\n                imageClass: 'k-i-file-excel',\n                className: 'k-grid-excel',\n                methodName: 'saveAsExcel'\n            },\n            pdf: {\n                imageClass: 'k-i-file-pdf',\n                className: 'k-grid-pdf',\n                methodName: 'saveAsPDF'\n            }\n        };\n        var TreeListModel = Model.define({\n            id: 'id',\n            parentId: PARENTIDFIELD,\n            fields: {\n                id: { type: 'number' },\n                parentId: {\n                    type: 'number',\n                    nullable: true\n                }\n            },\n            init: function (value) {\n                Model.fn.init.call(this, value);\n                this._loaded = false;\n                if (!this.parentIdField) {\n                    this.parentIdField = PARENTIDFIELD;\n                }\n                this.parentId = this.get(this.parentIdField);\n            },\n            accept: function (data) {\n                Model.fn.accept.call(this, data);\n                this.parentId = this.get(this.parentIdField);\n            },\n            set: function (field, value, initiator) {\n                if (field == PARENTIDFIELD && this.parentIdField != PARENTIDFIELD) {\n                    this[this.parentIdField] = value;\n                }\n                Model.fn.set.call(this, field, value, initiator);\n                if (field == this.parentIdField) {\n                    this.parentId = this.get(this.parentIdField);\n                }\n            },\n            loaded: function (value) {\n                if (value !== undefined) {\n                    this._loaded = value;\n                } else {\n                    return this._loaded;\n                }\n            },\n            shouldSerialize: function (field) {\n                return Model.fn.shouldSerialize.call(this, field) && field !== '_loaded' && field != '_error' && field != '_edit' && !(this.parentIdField !== 'parentId' && field === 'parentId');\n            }\n        });\n        TreeListModel.parentIdField = PARENTIDFIELD;\n        TreeListModel.define = function (base, options) {\n            if (options === undefined) {\n                options = base;\n                base = TreeListModel;\n            }\n            var parentId = options.parentId || PARENTIDFIELD;\n            options.parentIdField = parentId;\n            var model = Model.define(base, options);\n            if (parentId) {\n                model.parentIdField = parentId;\n            }\n            return model;\n        };\n        function is(field) {\n            return function (object) {\n                return object[field];\n            };\n        }\n        function not(func) {\n            return function (object) {\n                return !func(object);\n            };\n        }\n        var TreeListDataSource = DataSource.extend({\n            init: function (options) {\n                DataSource.fn.init.call(this, extend(true, {}, {\n                    schema: {\n                        modelBase: TreeListModel,\n                        model: TreeListModel\n                    }\n                }, options));\n            },\n            _createNewModel: function (data) {\n                var model = {};\n                var fromModel = data instanceof Model;\n                if (fromModel) {\n                    model = data;\n                }\n                model = DataSource.fn._createNewModel.call(this, model);\n                if (!fromModel) {\n                    if (data.parentId) {\n                        data[model.parentIdField] = data.parentId;\n                    }\n                    model.accept(data);\n                }\n                return model;\n            },\n            _shouldWrap: function () {\n                return true;\n            },\n            _push: function (result, operation) {\n                var data = DataSource.fn._readData.call(this, result);\n                if (!data) {\n                    data = result;\n                }\n                this[operation](data);\n            },\n            _readData: function (newData) {\n                var data = this.data();\n                newData = DataSource.fn._readData.call(this, newData);\n                this._replaceData(data.toJSON().concat(newData), data);\n                if (newData instanceof ObservableArray) {\n                    return newData;\n                }\n                return data;\n            },\n            _replaceData: function (source, target) {\n                var sourceLength = source.length;\n                for (var i = 0; i < sourceLength; i++) {\n                    target[i] = source[i];\n                }\n                target.length = sourceLength;\n            },\n            _readAggregates: function (data) {\n                var result = extend(this._aggregateResult, this.reader.aggregates(data));\n                if ('' in result) {\n                    result[this._defaultParentId()] = result[''];\n                    delete result[''];\n                }\n                return result;\n            },\n            remove: function (root) {\n                this._removeChildData(root);\n                DataSource.fn.remove.call(this, root);\n            },\n            _removeChildData: function (model) {\n                var items = this._subtree(this._childrenMap(this.data()), model.id);\n                this._removeItems(items);\n            },\n            _filterCallback: function (query) {\n                var i, item;\n                var map = {};\n                var result = [];\n                var data = query.toArray();\n                for (i = 0; i < data.length; i++) {\n                    item = data[i];\n                    while (item) {\n                        if (!map[item.id]) {\n                            map[item.id] = true;\n                            result.push(item);\n                        }\n                        if (!map[item.parentId]) {\n                            map[item.parentId] = true;\n                            item = this.parentNode(item);\n                            if (item) {\n                                result.push(item);\n                            }\n                        } else {\n                            break;\n                        }\n                    }\n                }\n                return new Query(result);\n            },\n            _subtree: function (map, id) {\n                var result = map[id] || [];\n                var defaultParentId = this._defaultParentId();\n                for (var i = 0, len = result.length; i < len; i++) {\n                    if (result[i].id !== defaultParentId) {\n                        result = result.concat(this._subtree(map, result[i].id));\n                    }\n                }\n                return result;\n            },\n            _childrenMap: function (data) {\n                var map = {};\n                var i, item, id, parentId;\n                data = this._observeView(data);\n                for (i = 0; i < data.length; i++) {\n                    item = data[i];\n                    id = item.id;\n                    parentId = item.parentId;\n                    map[id] = map[id] || [];\n                    map[parentId] = map[parentId] || [];\n                    map[parentId].push(item);\n                }\n                return map;\n            },\n            _calculateAggregates: function (data, options) {\n                options = options || {};\n                var result = {};\n                var item, subtree, i;\n                var filter = options.filter;\n                if (filter) {\n                    data = Query.process(data, {\n                        filter: filter,\n                        filterCallback: proxy(this._filterCallback, this)\n                    }).data;\n                }\n                var map = this._childrenMap(data);\n                result[this._defaultParentId()] = new Query(this._subtree(map, this._defaultParentId())).aggregate(options.aggregate);\n                for (i = 0; i < data.length; i++) {\n                    item = data[i];\n                    subtree = this._subtree(map, item.id);\n                    result[item.id] = new Query(subtree).aggregate(options.aggregate);\n                }\n                return result;\n            },\n            _queryProcess: function (data, options) {\n                options = options || {};\n                options.filterCallback = proxy(this._filterCallback, this);\n                var defaultParentId = this._defaultParentId();\n                var result = Query.process(data, options);\n                var map = this._childrenMap(result.data);\n                var hasLoadedChildren, i, item, children;\n                data = map[defaultParentId] || [];\n                for (i = 0; i < data.length; i++) {\n                    item = data[i];\n                    if (item.id === defaultParentId) {\n                        continue;\n                    }\n                    children = map[item.id];\n                    hasLoadedChildren = !!(children && children.length);\n                    if (!item.loaded()) {\n                        item.loaded(hasLoadedChildren || !item.hasChildren);\n                    }\n                    if (item.loaded() || item.hasChildren !== true) {\n                        item.hasChildren = hasLoadedChildren;\n                    }\n                    if (hasLoadedChildren) {\n                        data = data.slice(0, i + 1).concat(children, data.slice(i + 1));\n                    }\n                }\n                result.data = data;\n                return result;\n            },\n            _queueRequest: function (options, callback) {\n                callback.call(this);\n            },\n            _modelLoaded: function (id) {\n                var model = this.get(id);\n                model.loaded(true);\n                model.hasChildren = this.childNodes(model).length > 0;\n            },\n            _modelError: function (id, e) {\n                this.get(id)._error = e;\n            },\n            success: function (data, requestParams) {\n                if (!requestParams || typeof requestParams.id == 'undefined') {\n                    this._data = this._observe([]);\n                }\n                return DataSource.fn.success.call(this, data, requestParams);\n            },\n            load: function (model) {\n                var method = '_query';\n                var remote = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates;\n                var defaultPromise = $.Deferred().resolve().promise();\n                if (model.loaded()) {\n                    if (remote) {\n                        return defaultPromise;\n                    }\n                } else if (model.hasChildren) {\n                    method = 'read';\n                    this._removeChildData(model);\n                }\n                return this[method]({ id: model.id }).done(proxy(this._modelLoaded, this, model.id)).fail(proxy(this._modelError, this, model.id));\n            },\n            contains: function (root, child) {\n                var rootId = root.id;\n                while (child) {\n                    if (child.parentId === rootId) {\n                        return true;\n                    }\n                    child = this.parentNode(child);\n                }\n                return false;\n            },\n            _byParentId: function (id, defaultId) {\n                var result = [];\n                var view = this.view();\n                var current;\n                if (id === defaultId) {\n                    return [];\n                }\n                for (var i = 0; i < view.length; i++) {\n                    current = view.at(i);\n                    if (current.parentId == id) {\n                        result.push(current);\n                    }\n                }\n                return result;\n            },\n            _defaultParentId: function () {\n                return this.reader.model.fn.defaults[this.reader.model.parentIdField];\n            },\n            childNodes: function (model) {\n                return this._byParentId(model.id, this._defaultParentId());\n            },\n            rootNodes: function () {\n                return this._byParentId(this._defaultParentId());\n            },\n            parentNode: function (model) {\n                return this.get(model.parentId);\n            },\n            level: function (model) {\n                var result = -1;\n                if (!(model instanceof TreeListModel)) {\n                    model = this.get(model);\n                }\n                do {\n                    model = this.parentNode(model);\n                    result++;\n                } while (model);\n                return result;\n            },\n            filter: function (value) {\n                var baseFilter = DataSource.fn.filter;\n                if (value === undefined) {\n                    return baseFilter.call(this, value);\n                }\n                baseFilter.call(this, value);\n            }\n        });\n        TreeListDataSource.create = function (options) {\n            if ($.isArray(options)) {\n                options = { data: options };\n            } else if (options instanceof ObservableArray) {\n                options = { data: options.toJSON() };\n            }\n            return options instanceof TreeListDataSource ? options : new TreeListDataSource(options);\n        };\n        function isCellVisible() {\n            return this.style.display !== 'none';\n        }\n        function leafDataCells(container) {\n            var rows = container.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            var cells = $();\n            if (rows.length > 1) {\n                cells = rows.find('th').filter(filter).filter(function () {\n                    return this.rowSpan > 1;\n                });\n            }\n            cells = cells.add(rows.last().find('th').filter(filter));\n            var indexAttr = kendo.attr('index');\n            cells.sort(function (a, b) {\n                a = $(a);\n                b = $(b);\n                var indexA = a.attr(indexAttr);\n                var indexB = b.attr(indexAttr);\n                if (indexA === undefined) {\n                    indexA = $(a).index();\n                }\n                if (indexB === undefined) {\n                    indexB = $(b).index();\n                }\n                indexA = parseInt(indexA, 10);\n                indexB = parseInt(indexB, 10);\n                return indexA > indexB ? 1 : indexA < indexB ? -1 : 0;\n            });\n            return cells;\n        }\n        function createPlaceholders(options) {\n            var spans = [];\n            var className = options.className;\n            for (var i = 0, level = options.level; i < level; i++) {\n                spans.push(kendoDomElement('span', { className: className }));\n            }\n            return spans;\n        }\n        function columnsWidth(cols) {\n            var colWidth, width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                colWidth = cols[idx].style.width;\n                if (colWidth && colWidth.indexOf('%') == -1) {\n                    width += parseInt(colWidth, 10);\n                }\n            }\n            return width;\n        }\n        function syncTableHeight(table1, table2) {\n            table1 = table1[0];\n            table2 = table2[0];\n            if (table1.rows.length !== table2.rows.length) {\n                var lockedHeigth = table1.offsetHeight;\n                var tableHeigth = table2.offsetHeight;\n                var row;\n                var diff;\n                if (lockedHeigth > tableHeigth) {\n                    row = table2.rows[table2.rows.length - 1];\n                    diff = lockedHeigth - tableHeigth;\n                } else {\n                    row = table1.rows[table1.rows.length - 1];\n                    diff = tableHeigth - lockedHeigth;\n                }\n                row.style.height = row.offsetHeight + diff + 'px';\n            }\n        }\n        var Editor = kendo.Observable.extend({\n            init: function (element, options) {\n                kendo.Observable.fn.init.call(this);\n                options = this.options = extend(true, {}, this.options, options);\n                this.element = element;\n                this.bind(this.events, options);\n                this.model = this.options.model;\n                this.fields = this._fields(this.options.columns);\n                this._initContainer();\n                this.createEditable();\n            },\n            events: [],\n            _initContainer: function () {\n                this.wrapper = this.element;\n            },\n            createEditable: function () {\n                var options = this.options;\n                this.editable = new ui.Editable(this.wrapper, {\n                    fields: this.fields,\n                    target: options.target,\n                    clearContainer: options.clearContainer,\n                    model: this.model\n                });\n            },\n            _isEditable: function (column) {\n                return column.field && this.model.editable(column.field);\n            },\n            _fields: function (columns) {\n                var fields = [];\n                var idx, length, column;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (this._isEditable(column)) {\n                        fields.push({\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor\n                        });\n                    }\n                }\n                return fields;\n            },\n            end: function () {\n                return this.editable.end();\n            },\n            close: function () {\n                this.destroy();\n            },\n            destroy: function () {\n                this.editable.destroy();\n                this.editable.element.find('[' + kendo.attr('container-for') + ']').empty().end().removeAttr(kendo.attr('role'));\n                this.model = this.wrapper = this.element = this.columns = this.editable = null;\n            }\n        });\n        var PopupEditor = Editor.extend({\n            init: function (element, options) {\n                Editor.fn.init.call(this, element, options);\n                this._attachHandlers();\n                kendo.cycleForm(this.wrapper);\n                this.open();\n            },\n            events: [\n                CANCEL,\n                SAVE\n            ],\n            options: {\n                window: {\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    title: 'Edit',\n                    visible: false\n                }\n            },\n            _initContainer: function () {\n                var options = this.options;\n                var formContent = [];\n                this.wrapper = $('<div class=\"k-popup-edit-form\"/>').attr(kendo.attr('uid'), this.model.uid).append('<div class=\"k-edit-form-container\"/>');\n                if (options.template) {\n                    this._appendTemplate(formContent);\n                    this.fields = [];\n                } else {\n                    this._appendFields(formContent);\n                }\n                this._appendButtons(formContent);\n                new kendoDom.Tree(this.wrapper.children()[0]).render(formContent);\n                this.wrapper.appendTo(options.appendTo);\n                this.window = new ui.Window(this.wrapper, options.window);\n            },\n            _appendTemplate: function (form) {\n                var template = this.options.template;\n                if (typeof template === STRING) {\n                    template = window.unescape(template);\n                }\n                template = kendo.template(template)(this.model);\n                form.push(kendoHtmlElement(template));\n            },\n            _appendFields: function (form) {\n                var idx, length, column;\n                var columns = this.options.columns;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (column.command) {\n                        continue;\n                    }\n                    form.push(kendoHtmlElement('<div class=\"k-edit-label\"><label for=\"' + column.field + '\">' + (column.title || column.field || '') + '</label></div>'));\n                    if (this._isEditable(column)) {\n                        form.push(kendoHtmlElement('<div ' + kendo.attr('container-for') + '=\"' + column.field + '\" class=\"k-edit-field\"></div>'));\n                    } else {\n                        form.push(kendoDomElement('div', { 'class': 'k-edit-field' }, [this.options.fieldRenderer(column, this.model)]));\n                    }\n                }\n            },\n            _appendButtons: function (form) {\n                form.push(kendoDomElement('div', { 'class': 'k-edit-buttons k-state-default' }, this.options.commandRenderer()));\n            },\n            _attachHandlers: function () {\n                var closeHandler = this._cancelProxy = proxy(this._cancel, this);\n                this.wrapper.on(CLICK + NS, '.k-grid-cancel', this._cancelProxy);\n                this._saveProxy = proxy(this._save, this);\n                this.wrapper.on(CLICK + NS, '.k-grid-update', this._saveProxy);\n                this.window.bind('close', function (e) {\n                    if (e.userTriggered) {\n                        closeHandler(e);\n                    }\n                });\n            },\n            _dettachHandlers: function () {\n                this._cancelProxy = null;\n                this._saveProxy = null;\n                this.wrapper.off(NS);\n            },\n            _cancel: function (e) {\n                this.trigger(CANCEL, e);\n            },\n            _save: function () {\n                this.trigger(SAVE);\n            },\n            open: function () {\n                this.window.center().open();\n            },\n            close: function () {\n                this.window.bind('deactivate', proxy(this.destroy, this)).close();\n            },\n            destroy: function () {\n                this.window.destroy();\n                this.window = null;\n                this._dettachHandlers();\n                Editor.fn.destroy.call(this);\n            }\n        });\n        var TreeList = DataBoundWidget.extend({\n            init: function (element, options) {\n                DataBoundWidget.fn.init.call(this, element, options);\n                isRtl = kendo.support.isRtl(element);\n                this._dataSource(this.options.dataSource);\n                this._aria();\n                this._columns();\n                this._layout();\n                this._navigatable();\n                this._selectable();\n                this._sortable();\n                this._resizable();\n                this._filterable();\n                this._attachEvents();\n                this._toolbar();\n                this._scrollable();\n                this._reorderable();\n                this._columnMenu();\n                this._minScreenSupport();\n                this._draggable();\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n                if (this._hasLockedColumns) {\n                    var widget = this;\n                    this.wrapper.addClass('k-grid-lockedcolumns');\n                    this._resizeHandler = function () {\n                        widget.resize();\n                    };\n                    $(window).on('resize' + NS, this._resizeHandler);\n                }\n                kendo.notify(this);\n            },\n            _draggable: function () {\n                var editable = this.options.editable;\n                if (!editable || !editable.move) {\n                    return;\n                }\n                this._dragging = new kendo.ui.HierarchicalDragAndDrop(this.wrapper, {\n                    $angular: this.$angular,\n                    autoScroll: true,\n                    filter: 'tbody>tr',\n                    itemSelector: 'tr',\n                    allowedContainers: this.wrapper,\n                    hintText: function (row) {\n                        var text = function () {\n                            return $(this).text();\n                        };\n                        var separator = '<span class=\\'k-header k-drag-separator\\' />';\n                        return row.children('td').map(text).toArray().join(separator);\n                    },\n                    contains: proxy(function (source, destination) {\n                        var dest = this.dataItem(destination);\n                        var src = this.dataItem(source);\n                        return src == dest || this.dataSource.contains(src, dest);\n                    }, this),\n                    itemFromTarget: function (target) {\n                        var tr = target.closest('tr');\n                        return {\n                            item: tr,\n                            content: tr\n                        };\n                    },\n                    dragstart: proxy(function (source) {\n                        this.wrapper.addClass('k-treelist-dragging');\n                        var model = this.dataItem(source);\n                        return this.trigger(DRAGSTART, { source: model });\n                    }, this),\n                    drag: proxy(function (e) {\n                        e.source = this.dataItem(e.source);\n                        this.trigger(DRAG, e);\n                    }, this),\n                    drop: proxy(function (e) {\n                        e.source = this.dataItem(e.source);\n                        e.destination = this.dataItem(e.destination);\n                        this.wrapper.removeClass('k-treelist-dragging');\n                        return this.trigger(DROP, e);\n                    }, this),\n                    dragend: proxy(function (e) {\n                        var dest = this.dataItem(e.destination);\n                        var src = this.dataItem(e.source);\n                        src.set('parentId', dest ? dest.id : null);\n                        e.source = src;\n                        e.destination = dest;\n                        this.trigger(DRAGEND, e);\n                    }, this),\n                    reorderable: false,\n                    dropHintContainer: function (item) {\n                        return item.children('td:eq(1)');\n                    },\n                    dropPositionFrom: function (dropHint) {\n                        return dropHint.prevAll('.k-i-none').length > 0 ? 'after' : 'before';\n                    }\n                });\n            },\n            itemFor: function (model) {\n                if (typeof model == 'number') {\n                    model = this.dataSource.get(model);\n                }\n                return this.tbody.find('[' + kendo.attr('uid') + '=' + model.uid + ']');\n            },\n            _scrollable: function () {\n                if (this.options.scrollable) {\n                    var scrollables = this.thead.closest('.k-grid-header-wrap');\n                    var lockedContent = $(this.lockedContent).bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(this._wheelScroll, this));\n                    this.content.bind('scroll' + NS, function () {\n                        scrollables.scrollLeft(this.scrollLeft);\n                        lockedContent.scrollTop(this.scrollTop);\n                    });\n                    var touchScroller = kendo.touchScroller(this.content);\n                    if (touchScroller && touchScroller.movable) {\n                        this._touchScroller = touchScroller;\n                        touchScroller.movable.bind('change', function (e) {\n                            scrollables.scrollLeft(-e.sender.x);\n                            if (lockedContent) {\n                                lockedContent.scrollTop(-e.sender.y);\n                            }\n                        });\n                    }\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var delta = kendo.wheelDeltaY(e);\n                var lockedDiv = $(e.currentTarget);\n                if (delta) {\n                    if (lockedDiv[0].scrollHeight > lockedDiv[0].clientHeight && (lockedDiv[0].scrollTop < lockedDiv[0].scrollHeight - lockedDiv[0].clientHeight && delta < 0 || lockedDiv[0].scrollTop > 0 && delta > 0)) {\n                        e.preventDefault();\n                    }\n                    lockedDiv.one('wheel' + NS, false);\n                    this.content.scrollTop(this.content.scrollTop() + -delta);\n                }\n            },\n            _progress: function () {\n                var messages = this.options.messages;\n                if (!this.tbody.find('tr').length) {\n                    this._showStatus(kendo.template('<span class=\\'#= className #\\' /> #: messages.loading #')({\n                        className: classNames.icon + ' ' + classNames.loading,\n                        messages: messages\n                    }));\n                }\n            },\n            _error: function (e) {\n                if (!this.dataSource.rootNodes().length) {\n                    this._render({ error: e });\n                }\n            },\n            refresh: function (e) {\n                e = e || {};\n                if (e.action == 'itemchange' && this.editor) {\n                    return;\n                }\n                if (this.trigger(DATABINDING)) {\n                    return;\n                }\n                var current = $(this.current());\n                var isCurrentInHeader = false;\n                var currentIndex;\n                this._cancelEditor();\n                this._render();\n                this._adjustHeight();\n                if (this.options.navigatable) {\n                    if (this._isActiveInTable() || this.editor) {\n                        isCurrentInHeader = current.is('th');\n                        currentIndex = Math.max(this.cellIndex(current), 0);\n                    }\n                    this._restoreCurrent(currentIndex, isCurrentInHeader);\n                }\n                this.trigger(DATABOUND);\n            },\n            _angularFooters: function (command) {\n                var i, footer, aggregates;\n                var allAggregates = this.dataSource.aggregates();\n                var footerRows = this._footerItems();\n                for (i = 0; i < footerRows.length; i++) {\n                    footer = footerRows.eq(i);\n                    aggregates = allAggregates[footer.attr('data-parentId')];\n                    this._angularFooter(command, footer.find('td').get(), aggregates);\n                }\n            },\n            _angularFooter: function (command, cells, aggregates) {\n                var columns = this.columns;\n                this.angular(command, function () {\n                    return {\n                        elements: cells,\n                        data: map(columns, function (col) {\n                            return {\n                                column: col,\n                                aggregate: aggregates && aggregates[col.field]\n                            };\n                        })\n                    };\n                });\n            },\n            items: function () {\n                if (this._hasLockedColumns) {\n                    return this._items(this.tbody).add(this._items(this.lockedTable));\n                } else {\n                    return this._items(this.tbody);\n                }\n            },\n            _items: function (container) {\n                return container.find('tr').filter(function () {\n                    return !$(this).hasClass(classNames.footerTemplate);\n                });\n            },\n            _footerItems: function () {\n                var container = this.tbody;\n                if (this._hasLockedColumns) {\n                    container = container.add(this.lockedTable);\n                }\n                return container.find('tr').filter(function () {\n                    return $(this).hasClass(classNames.footerTemplate);\n                });\n            },\n            dataItems: function () {\n                var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n                if (this._hasLockedColumns) {\n                    var n = dataItems.length, tmp = new Array(2 * n);\n                    for (var i = n; --i >= 0;) {\n                        tmp[i] = tmp[i + n] = dataItems[i];\n                    }\n                    dataItems = tmp;\n                }\n                return dataItems;\n            },\n            _showStatus: function (message) {\n                var status = this.element.find('.k-status');\n                var content = $(this.content).add(this.lockedContent);\n                if (!status.length) {\n                    status = $('<div class=\\'k-status\\' />').appendTo(this.element);\n                }\n                this._contentTree.render([]);\n                if (this._hasLockedColumns) {\n                    this._lockedContentTree.render([]);\n                }\n                content.hide();\n                status.html(message);\n            },\n            _hideStatus: function () {\n                this.element.find('.k-status').remove();\n                $(this.content).add(this.lockedContent).show();\n            },\n            _adjustHeight: function () {\n                var element = this.element;\n                var contentWrap = element.find(DOT + classNames.gridContentWrap);\n                var header = element.find(DOT + classNames.gridHeader);\n                var toolbar = element.find(DOT + classNames.gridToolbar);\n                var height;\n                var scrollbar = kendo.support.scrollbar();\n                element.css(HEIGHT, this.options.height);\n                var isHeightSet = function (el) {\n                    var initialHeight, newHeight;\n                    if (el[0].style.height) {\n                        return true;\n                    } else {\n                        initialHeight = el.height();\n                    }\n                    el.height('auto');\n                    newHeight = el.height();\n                    el.height('');\n                    return initialHeight != newHeight;\n                };\n                if (isHeightSet(element)) {\n                    height = element.height() - outerHeight(header) - outerHeight(toolbar);\n                    contentWrap.height(height);\n                    if (this._hasLockedColumns) {\n                        scrollbar = this.table[0].offsetWidth > this.table.parent()[0].clientWidth ? scrollbar : 0;\n                        this.lockedContent.height(height - scrollbar);\n                    }\n                }\n            },\n            _resize: function () {\n                this._applyLockedContainersWidth();\n                this._adjustHeight();\n            },\n            _minScreenSupport: function () {\n                var any = this.hideMinScreenCols();\n                if (any) {\n                    this.minScreenResizeHandler = proxy(this.hideMinScreenCols, this);\n                    $(window).on('resize', this.minScreenResizeHandler);\n                }\n            },\n            hideMinScreenCols: function () {\n                var cols = this.columns, any = false, screenWidth = window.innerWidth > 0 ? window.innerWidth : screen.width;\n                for (var i = 0; i < cols.length; i++) {\n                    var col = cols[i];\n                    var minWidth = col.minScreenWidth;\n                    if (minWidth !== undefined && minWidth !== null) {\n                        any = true;\n                        if (minWidth > screenWidth) {\n                            this.hideColumn(col);\n                        } else {\n                            this.showColumn(col);\n                        }\n                    }\n                }\n                return any;\n            },\n            destroy: function () {\n                DataBoundWidget.fn.destroy.call(this);\n                var dataSource = this.dataSource;\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n                dataSource.unbind(PROGRESS, this._progressHandler);\n                this._navigatableTables = null;\n                this._current = null;\n                if (this._resizeHandler) {\n                    $(window).off('resize' + NS, this._resizeHandler);\n                }\n                if (this._dragging) {\n                    this._dragging.destroy();\n                    this._dragging = null;\n                }\n                if (this.resizable) {\n                    this.resizable.destroy();\n                    this.resizable = null;\n                }\n                if (this.reorderable) {\n                    this.reorderable.destroy();\n                    this.reorderable = null;\n                }\n                if (this._draggableInstance && this._draggableInstance.element) {\n                    this._draggableInstance.destroy();\n                    this._draggableInstance = null;\n                }\n                if (this.minScreenResizeHandler) {\n                    $(window).off('resize', this.minScreenResizeHandler);\n                }\n                this._destroyEditor();\n                this.element.off(NS);\n                if (this._touchScroller) {\n                    this._touchScroller.destroy();\n                }\n                this._autoExpandable = null;\n                this._refreshHandler = this._errorHandler = this._progressHandler = this._dataSourceFetchProxy = null;\n                this.thead = this.content = this.tbody = this.table = this.element = this.lockedHeader = this.lockedContent = null;\n                this._statusTree = this._headerTree = this._contentTree = this._lockedHeaderColsTree = this._lockedContentColsTree = this._lockedHeaderTree = this._lockedContentTree = null;\n            },\n            options: {\n                name: 'TreeList',\n                columns: [],\n                autoBind: true,\n                scrollable: true,\n                selectable: false,\n                sortable: false,\n                toolbar: null,\n                height: null,\n                columnMenu: false,\n                messages: {\n                    noRows: 'No records to display',\n                    loading: 'Loading...',\n                    requestFailed: 'Request failed.',\n                    retry: 'Retry',\n                    commands: {\n                        edit: 'Edit',\n                        update: 'Update',\n                        canceledit: 'Cancel',\n                        create: 'Add new record',\n                        createchild: 'Add child record',\n                        destroy: 'Delete',\n                        excel: 'Export to Excel',\n                        pdf: 'Export to PDF'\n                    }\n                },\n                excel: { hierarchy: true },\n                resizable: false,\n                filterable: false,\n                editable: false,\n                reorderable: false\n            },\n            events: [\n                CHANGE,\n                EDIT,\n                SAVE,\n                REMOVE,\n                EXPAND,\n                COLLAPSE,\n                DATABINDING,\n                DATABOUND,\n                CANCEL,\n                DRAGSTART,\n                DRAG,\n                DROP,\n                DRAGEND,\n                FILTERMENUINIT,\n                COLUMNHIDE,\n                COLUMNSHOW,\n                COLUMNREORDER,\n                COLUMNRESIZE,\n                COLUMNMENUINIT,\n                COLUMNLOCK,\n                COLUMNUNLOCK\n            ],\n            _toggle: function (model, expand) {\n                var defaultPromise = $.Deferred().resolve().promise();\n                var loaded = model.loaded();\n                if (model._error) {\n                    model.expanded = false;\n                    model._error = undefined;\n                }\n                if (!loaded && model.expanded) {\n                    return defaultPromise;\n                }\n                if (typeof expand == 'undefined') {\n                    expand = !model.expanded;\n                }\n                model.expanded = expand;\n                if (!loaded) {\n                    defaultPromise = this.dataSource.load(model).always(proxy(function () {\n                        this._render();\n                        this._syncLockedContentHeight();\n                    }, this));\n                }\n                this._render();\n                this._syncLockedContentHeight();\n                return defaultPromise;\n            },\n            expand: function (row) {\n                return this._toggle(this.dataItem(row), true);\n            },\n            collapse: function (row) {\n                return this._toggle(this.dataItem(row), false);\n            },\n            _toggleChildren: function (e) {\n                var icon = $(e.currentTarget);\n                var model = this.dataItem(icon);\n                var event = !model.expanded ? EXPAND : COLLAPSE;\n                if (!this.trigger(event, { model: model })) {\n                    this._toggle(model);\n                }\n                e.preventDefault();\n            },\n            _navigatable: function () {\n                var that = this;\n                if (!that.options.navigatable) {\n                    return;\n                }\n                var tables = that.table.add(that.lockedTable);\n                var headerTables = that.thead.parent().add($('>table', that.lockedHeader));\n                if (that.options.scrollable) {\n                    tables = tables.add(headerTables);\n                    headerTables.attr(TABINDEX, -1);\n                }\n                this._navigatableTables = tables;\n                tables.on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>:visible', proxy(that._tableClick, that)).on('focus' + NS, proxy(that._tableFocus, that)).on('focusout' + NS, proxy(that._tableBlur, that)).on('keydown' + NS, proxy(that._tableKeyDown, that));\n            },\n            cellIndex: function (td) {\n                var lockedColumnOffset = 0;\n                if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                    lockedColumnOffset = this.lockedColumns(this.columns).length;\n                }\n                return $(td).parent().children('td:visible').index(td) + lockedColumnOffset;\n            },\n            _isActiveInTable: function () {\n                var active = kendo._activeElement();\n                if (!active) {\n                    return false;\n                }\n                return this.table[0] === active || $.contains(this.table[0], active) || this.lockedTable && (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active));\n            },\n            _restoreCurrent: function (currentIndex, isCurrentInHeader) {\n                var rowIndex;\n                var row;\n                var td;\n                if (currentIndex === undefined || currentIndex < 0) {\n                    return;\n                }\n                if (this._current) {\n                    this._current.removeClass('k-state-focused');\n                }\n                if (isCurrentInHeader) {\n                    this.current(this.thead.find('th').eq(currentIndex));\n                } else {\n                    rowIndex = 0;\n                    currentIndex = 0;\n                    row = $();\n                    if (this.lockedTable) {\n                        row = this.lockedTable.find('>tbody>tr:visible').eq(rowIndex);\n                    }\n                    row = row.add(this.tbody.children().eq(rowIndex));\n                    td = row.find('>td:visible').eq(currentIndex);\n                    this.current(td);\n                }\n                if (this._current) {\n                    focusTable(this._current.closest('table')[0], true);\n                }\n            },\n            current: function (newCurrent) {\n                var current = this._current;\n                newCurrent = $(newCurrent);\n                if (newCurrent.length && (!current || current[0] !== newCurrent[0])) {\n                    this._updateCurrentAttr(current, newCurrent);\n                    this._scrollCurrent();\n                }\n                return this._current;\n            },\n            _scrollCurrent: function () {\n                var current = this._current;\n                var scrollable = this.options.scrollable;\n                if (!current || !scrollable) {\n                    return;\n                }\n                var row = current.parent();\n                var tableContainer = row.closest('table').parent();\n                var isInLockedContainer = tableContainer.is('.k-grid-content-locked,.k-grid-header-locked');\n                var isInContent = tableContainer.is('.k-grid-content-locked,.k-grid-content');\n                var scrollableContainer = $(this.content)[0];\n                if (isInContent) {\n                    this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                }\n                if (this.lockedContent) {\n                    this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n                }\n                if (!isInLockedContainer) {\n                    this._scrollTo(current[0], scrollableContainer);\n                }\n            },\n            _scrollTo: function (element, container) {\n                var elementToLowercase = element.tagName.toLowerCase();\n                var isHorizontal = elementToLowercase === 'td' || elementToLowercase === 'th';\n                var elementOffset = element[isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                var elementOffsetDir = element[isHorizontal ? 'offsetWidth' : 'offsetHeight'];\n                var containerScroll = container[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n                var containerOffsetDir = container[isHorizontal ? 'clientWidth' : 'clientHeight'];\n                var bottomDistance = elementOffset + elementOffsetDir;\n                var result = 0;\n                var ieCorrection = 0;\n                var firefoxCorrection = 0;\n                if (isRtl && isHorizontal) {\n                    var table = $(element).closest('table')[0];\n                    if (browser.msie) {\n                        ieCorrection = table.offsetLeft;\n                    } else if (browser.mozilla) {\n                        firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                    }\n                }\n                containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = bottomDistance - containerOffsetDir;\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                result = Math.abs(result + ieCorrection) + firefoxCorrection;\n                container[isHorizontal ? 'scrollLeft' : 'scrollTop'] = result;\n            },\n            _aria: function () {\n                var id = this.element.attr('id') || 'aria';\n                if (id) {\n                    this._elementId = id + '_active_element';\n                }\n            },\n            _verticalContainer: function (table, up) {\n                var length = this._navigatableTables.length;\n                var step = Math.floor(length / 2);\n                var index = inArray(table[0], this._navigatableTables);\n                if (up) {\n                    step *= -1;\n                }\n                index += step;\n                if (index >= 0 || index < length) {\n                    table = this._navigatableTables.eq(index);\n                }\n                return table.find(up ? 'thead' : 'tbody');\n            },\n            _updateCurrentAttr: function (current, next) {\n                var headerId = $(current).data('headerId');\n                $(current).removeClass(classNames.focused).closest('table').removeAttr('aria-activedescendant');\n                if (headerId) {\n                    headerId = headerId.replace(this._elementId, '');\n                    $(current).attr('id', headerId);\n                } else {\n                    $(current).removeAttr('id');\n                }\n                next.data('headerId', next.attr('id')).attr('id', this._elementId).addClass(classNames.focused).closest('table').attr('aria-activedescendant', this._elementId);\n                this._current = next;\n            },\n            _tableKeyDown: function (e) {\n                var handled = false;\n                var current = this.current();\n                var target = $(e.target);\n                var canHandle = !e.isDefaultPrevented() && !target.is(':button,a,:input,a>.k-icon');\n                current = current ? current : $(this.lockedTable).add(this.table).find(FIRSTNAVITEM);\n                if (canHandle && e.keyCode == keys.UP) {\n                    handled = this._moveUp(current);\n                }\n                if (canHandle && e.keyCode == keys.DOWN) {\n                    handled = this._moveDown(current);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                    if (e.altKey) {\n                        handled = this._handleExpand(current);\n                    } else {\n                        handled = this._moveRight(current);\n                    }\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                    if (e.altKey) {\n                        handled = this._handleCollapse(current);\n                    } else {\n                        handled = this._moveLeft(current);\n                    }\n                }\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                    handled = this._handleEnterKey(current, e.currentTarget, target);\n                }\n                if (e.keyCode == keys.ESC) {\n                    handled = this._handleEscKey(current, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == keys.HOME) {\n                    handled = this._handleHome(current, e.ctrlKey);\n                }\n                if (canHandle && e.keyCode == keys.END) {\n                    handled = this._handleEnd(current, e.ctrlKey);\n                }\n                if (handled) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _handleExpand: function (current) {\n                var that = this;\n                var row = current.parent();\n                var model = that.dataItem(row);\n                if (current.hasClass('k-header')) {\n                    return false;\n                }\n                if (model && model.hasChildren && !model.expanded && !that.trigger(EXPAND, { model: model })) {\n                    this.expand(row);\n                    return true;\n                }\n                return false;\n            },\n            _handleCollapse: function (current) {\n                var that = this;\n                var row = current.parent();\n                var model = that.dataItem(row);\n                if (current.hasClass('k-header')) {\n                    return false;\n                }\n                if (model && model.hasChildren && model.expanded && !that.trigger(COLLAPSE, { model: model })) {\n                    that.collapse(row);\n                    return true;\n                }\n                return false;\n            },\n            _handleHome: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var prev;\n                if (ctrl) {\n                    if (this.lockedTable) {\n                        prev = this.lockedTable.find(FIRSTNAVITEM);\n                    } else {\n                        prev = this.table.find(FIRSTNAVITEM);\n                    }\n                } else if (isInBody || isInLockedTable) {\n                    if (isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    prev = row.children(NAVCELL + ':first');\n                }\n                if (prev && prev.length) {\n                    this.current(prev);\n                    return true;\n                }\n            },\n            _handleEnd: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var next;\n                if (ctrl) {\n                    next = this.table.find(LASTITEMROW + '>' + NAVCELL + ':last');\n                } else if (isInBody || isInLockedTable) {\n                    if (!isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    next = row.children(NAVCELL + ':last');\n                }\n                if (next && next.length) {\n                    this.current(next);\n                    return true;\n                }\n            },\n            _handleEscKey: function (current, currentTable) {\n                var active = kendo._activeElement();\n                var currentIndex;\n                if (!current || !current.parent().hasClass('k-grid-edit-row')) {\n                    if (current.has(active).length) {\n                        focusTable(currentTable, true);\n                        return true;\n                    }\n                    return false;\n                }\n                currentIndex = $(current).parent().index();\n                if (active) {\n                    active.blur();\n                }\n                this.cancelRow();\n                if (currentIndex >= 0) {\n                    this.current(this.items().eq(currentIndex).children(NAVCELL).first());\n                }\n                if (browser.msie && browser.version < 9) {\n                    document.body.focus();\n                }\n                focusTable(currentTable, true);\n                return true;\n            },\n            _handleEnterKey: function (current, currentTable, target) {\n                var editable = this.options.editable;\n                var container = target.closest('[role=gridcell]');\n                var focusable;\n                if (!target.is('table') && !$.contains(current[0], target[0])) {\n                    current = container;\n                }\n                if (current.is('th')) {\n                    current.find('.k-link').click();\n                    return true;\n                }\n                focusable = current.find(':kendoFocusable:first');\n                if (focusable[0] && current.hasClass('k-state-focused')) {\n                    focusable.focus();\n                    return true;\n                }\n                if (editable && !target.is(':button,.k-button,textarea')) {\n                    if (!container[0]) {\n                        container = current;\n                    }\n                    this._handleEditing(container, false, currentTable);\n                    return true;\n                }\n                return false;\n            },\n            _handleEditing: function (current, next, table) {\n                var that = this, active = $(kendo._activeElement()), isIE = browser.msie, editContainer, focusable, isEdited;\n                table = $(table);\n                isEdited = current.parent().hasClass('k-grid-edit-row');\n                if (that.editor) {\n                    editContainer = that.editor.wrapper;\n                    if (editContainer && $.contains(editContainer[0], active[0])) {\n                        if (browser.opera) {\n                            active.blur().change().triggerHandler('blur');\n                        } else {\n                            active.blur();\n                            if (isIE) {\n                                active.blur();\n                            }\n                        }\n                    }\n                    if (!that.editor) {\n                        focusTable(table);\n                        return;\n                    }\n                    if (that.editor.end()) {\n                        that.saveRow();\n                        isEdited = true;\n                    } else {\n                        that.current(editContainer.children().filter(NAVCELL).first());\n                        focusable = editContainer.find(':kendoFocusable:first')[0];\n                        if (focusable) {\n                            focusable.focus();\n                        }\n                        return;\n                    }\n                }\n                if (next) {\n                    that.current(next);\n                }\n                focusTable(table, true);\n                if (!that.options.editable) {\n                    return;\n                }\n                if (!isEdited && !next || next) {\n                    var currentIndex = that.current().index();\n                    that.editRow(that.current().parent());\n                    that.current(that.editor.wrapper.children().eq(currentIndex));\n                    that.current().removeClass('k-state-focused');\n                }\n            },\n            _moveRight: function (current) {\n                var next = current.nextAll(NAVCELL).first();\n                var row = current.parent();\n                if (current.hasClass('k-header')) {\n                    next = current.next(NAVHEADER);\n                    if (!next[0] && this.lockedTable && current.closest('table')[0] === this.lockedHeader.find('table')[0]) {\n                        next = this.thead.find(NAVHEADER + ':first');\n                    }\n                }\n                if (!next[0] && this.lockedTable && current.closest('table')[0] === this.lockedTable[0]) {\n                    next = this._relatedRow(row).children(NAVCELL).first();\n                }\n                if (next[0] && next[0] !== current[0]) {\n                    focusTable(next.closest('table'), true);\n                }\n                this.current(next);\n                return true;\n            },\n            _moveLeft: function (current) {\n                var prev = current.prevAll(NAVCELL).first();\n                var row = current.parent();\n                if (current.hasClass('k-header')) {\n                    prev = current.prev(NAVHEADER);\n                    if (!prev[0] && this.lockedTable && current.closest('table')[0] === this.thead.parent()[0]) {\n                        prev = this.lockedHeader.find('>table>thead>tr>' + NAVHEADER + ':last');\n                    }\n                }\n                if (!prev[0] && this.lockedTable && current.closest('table')[0] === this.table[0]) {\n                    prev = this._relatedRow(row).children(NAVCELL).last();\n                }\n                if (prev[0] && prev[0] !== current[0]) {\n                    focusTable(prev.closest('table'), true);\n                }\n                this.current(prev);\n                return true;\n            },\n            _moveUp: function (current) {\n                var row = current.parent();\n                var prevRow = row.prevAll(NAVROW + ':first');\n                var prev;\n                if (prevRow[0]) {\n                    prev = prevRow.children().eq(current.index());\n                } else {\n                    var verticalContainer = this._verticalContainer(current.closest('table'), true);\n                    prev = verticalContainer.find(HEADERCELL).eq(current.siblings(':visible').addBack().index(current));\n                    if (prev[0]) {\n                        focusTable(prev.closest('table'), true);\n                    }\n                }\n                this.current(prev);\n                return true;\n            },\n            _moveDown: function (current) {\n                var row = current.parent();\n                var nextRow = row.nextAll(NAVROW + ':first');\n                var next;\n                if (nextRow[0]) {\n                    next = nextRow.children().eq(current.index());\n                } else {\n                    var verticalContainer = this._verticalContainer(current.closest('table'));\n                    next = verticalContainer.find(NAVCELL).eq(current.siblings(':visible').addBack().index(current));\n                    if (next[0]) {\n                        focusTable(next.closest('table'), true);\n                    }\n                }\n                this.current(next);\n                return true;\n            },\n            _tableClick: function (e) {\n                var currentTarget = $(e.currentTarget), isHeader = currentTarget.is('th'), table = this.table.add(this.lockedTable), headerTable = this.thead.parent().add($('>table', this.lockedHeader)), isInput = isInputElement(e.target), currentTable = currentTarget.closest('table')[0];\n                if (kendo.support.touch) {\n                    return;\n                }\n                if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n                    return;\n                }\n                if (this.options.navigatable) {\n                    this.current(currentTarget);\n                }\n                if (isHeader || !isInput) {\n                    setTimeout(function () {\n                        if (!isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement())) {\n                            focusTable(currentTable, true);\n                        }\n                    });\n                }\n                if (isHeader) {\n                    e.preventDefault();\n                }\n            },\n            _setTabIndex: function (table) {\n                this._navigatableTables.attr(TABINDEX, -1);\n                table.attr(TABINDEX, 0);\n            },\n            _tableFocus: function (e) {\n                var current = this.current();\n                var table = $(e.currentTarget);\n                if (current && current.is(':visible')) {\n                    current.addClass(classNames.focused);\n                } else {\n                    this.current(table.find(FIRSTNAVITEM));\n                }\n                this._setTabIndex(table);\n            },\n            _tableBlur: function () {\n                var current = this.current();\n                if (current) {\n                    current.removeClass(classNames.focused);\n                }\n            },\n            _attachEvents: function () {\n                var icons = DOT + classNames.iconCollapse + ', .' + classNames.iconExpand + ', .' + classNames.refresh;\n                var retryButton = DOT + classNames.retry;\n                this.element.on(MOUSEDOWN + NS, icons, proxy(this._toggleChildren, this)).on(CLICK + NS, retryButton, this._dataSourceFetchProxy).on(CLICK + NS, '.k-button[data-command]', proxy(this._commandClick, this));\n            },\n            _commandByName: function (name) {\n                var columns = this.columns;\n                var toolbar = $.isArray(this.options.toolbar) ? this.options.toolbar : [];\n                var i, j, commands, currentName;\n                name = name.toLowerCase();\n                if (defaultCommands[name]) {\n                    return defaultCommands[name];\n                }\n                for (i = 0; i < columns.length; i++) {\n                    commands = columns[i].command;\n                    if (commands) {\n                        for (j = 0; j < commands.length; j++) {\n                            currentName = commands[j].name;\n                            if (!currentName) {\n                                continue;\n                            }\n                            if (currentName.toLowerCase() == name) {\n                                return commands[j];\n                            }\n                        }\n                    }\n                }\n                for (i = 0; i < toolbar.length; i++) {\n                    currentName = toolbar[i].name;\n                    if (!currentName) {\n                        continue;\n                    }\n                    if (currentName.toLowerCase() == name) {\n                        return toolbar[i];\n                    }\n                }\n            },\n            _commandClick: function (e) {\n                var button = $(e.currentTarget);\n                var commandName = button.attr('data-command');\n                var command = this._commandByName(commandName);\n                var row = button.parentsUntil(this.wrapper, 'tr');\n                row = row.length ? row : undefined;\n                if (command) {\n                    if (command.methodName) {\n                        this[command.methodName](row);\n                    } else if (command.click) {\n                        command.click.call(this, e);\n                    }\n                    e.preventDefault();\n                }\n            },\n            _ensureExpandableColumn: function () {\n                if (this._autoExpandable) {\n                    delete this._autoExpandable.expandable;\n                }\n                var visibleColumns = grep(this.columns, not(is('hidden')));\n                var expandableColumns = grep(visibleColumns, is('expandable'));\n                if (this.columns.length && !expandableColumns.length) {\n                    this._autoExpandable = visibleColumns[0];\n                    visibleColumns[0].expandable = true;\n                }\n            },\n            _columns: function () {\n                var columns = this.options.columns || [];\n                this.columns = map(columns, function (column) {\n                    column = typeof column === 'string' ? { field: column } : column;\n                    return extend({ encoded: true }, column);\n                });\n                var lockedColumns = this._lockedColumns();\n                if (lockedColumns.length > 0) {\n                    this._hasLockedColumns = true;\n                    this.columns = lockedColumns.concat(this._nonLockedColumns());\n                }\n                this._ensureExpandableColumn();\n                this._columnTemplates();\n                this._columnAttributes();\n            },\n            _columnTemplates: function () {\n                var idx, length, column;\n                var columns = this.columns;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (column.template) {\n                        column.template = kendo.template(column.template);\n                    }\n                    if (column.headerTemplate) {\n                        column.headerTemplate = kendo.template(column.headerTemplate);\n                    }\n                    if (column.footerTemplate) {\n                        column.footerTemplate = kendo.template(column.footerTemplate);\n                    }\n                }\n            },\n            _columnAttributes: function () {\n                var idx, length;\n                var columns = this.columns;\n                function convertStyle(attr) {\n                    var properties, i, declaration;\n                    if (attr && attr.style) {\n                        properties = attr.style.split(';');\n                        attr.style = {};\n                        for (i = 0; i < properties.length; i++) {\n                            declaration = properties[i].split(':');\n                            var name = $.trim(declaration[0]);\n                            if (name) {\n                                attr.style[$.camelCase(name)] = $.trim(declaration[1]);\n                            }\n                        }\n                    }\n                }\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    convertStyle(columns[idx].attributes);\n                    convertStyle(columns[idx].headerAttributes);\n                }\n            },\n            _layout: function () {\n                var columns = this.columns;\n                var element = this.element;\n                var layout = '';\n                this.wrapper = element.addClass(classNames.wrapper);\n                layout = '<div class=\\'#= gridHeader #\\'>';\n                if (this._hasLockedColumns) {\n                    layout += '<div class=\\'k-grid-header-locked\\'>' + '<table role=\\'grid\\'>' + '<colgroup></colgroup>' + '<thead role=\\'rowgroup\\' />' + '</table>' + '</div>';\n                }\n                layout += '<div class=\\'#= gridHeaderWrap #\\'>' + '<table role=\\'grid\\'>' + '<colgroup></colgroup>' + '<thead role=\\'rowgroup\\' />' + '</table>' + '</div>' + '</div>';\n                if (this._hasLockedColumns) {\n                    layout += '<div class=\\'k-grid-content-locked\\'>' + '<table role=\\'treegrid\\' tabindex=\\'0\\'>' + '<colgroup></colgroup>' + '<tbody />' + '</table>' + '</div>';\n                }\n                layout += '<div class=\\'#= gridContentWrap # k-auto-scrollable\\'>' + '<table role=\\'treegrid\\' tabindex=\\'0\\'>' + '<colgroup></colgroup>' + '<tbody />' + '</table>' + '</div>';\n                if (!this.options.scrollable) {\n                    layout = '<table role=\\'treegrid\\' tabindex=\\'0\\'>' + '<colgroup></colgroup>' + '<thead class=\\'#= gridHeader #\\' role=\\'rowgroup\\' />' + '<tbody />' + '</table>';\n                }\n                if (this.options.toolbar) {\n                    layout = '<div class=\\'#= header # #= gridToolbar #\\' />' + layout;\n                }\n                element.append(kendo.template(layout)(classNames) + '<div class=\\'k-status\\' />');\n                this.toolbar = element.find(DOT + classNames.gridToolbar);\n                var header = element.find(DOT + classNames.gridHeader).find('thead').addBack().filter('thead');\n                this.thead = header.last();\n                if (this.options.scrollable) {\n                    var rtl = kendo.support.isRtl(element);\n                    element.find('div.' + classNames.gridHeader).css(rtl ? 'padding-left' : 'padding-right', kendo.support.scrollbar());\n                }\n                var content = element.find(DOT + classNames.gridContentWrap);\n                if (!content.length) {\n                    content = element;\n                } else {\n                    this.content = content;\n                }\n                this.table = content.find('>table');\n                this.tbody = this.table.find('>tbody');\n                if (this._hasLockedColumns) {\n                    this.lockedHeader = header.first().closest('.k-grid-header-locked');\n                    this.lockedContent = element.find('.k-grid-content-locked');\n                    this.lockedTable = this.lockedContent.children();\n                }\n                this._initVirtualTrees();\n                this._renderCols();\n                this._renderHeader();\n                this.angular('compile', function () {\n                    return {\n                        elements: header.find('th.k-header').get(),\n                        data: map(columns, function (col) {\n                            return { column: col };\n                        })\n                    };\n                });\n            },\n            _initVirtualTrees: function () {\n                this._headerColsTree = new kendoDom.Tree(this.thead.prev()[0]);\n                this._contentColsTree = new kendoDom.Tree(this.tbody.prev()[0]);\n                this._headerTree = new kendoDom.Tree(this.thead[0]);\n                this._contentTree = new kendoDom.Tree(this.tbody[0]);\n                this._statusTree = new kendoDom.Tree(this.element.children('.k-status')[0]);\n                if (this.lockedHeader) {\n                    this._lockedHeaderColsTree = new kendoDom.Tree(this.lockedHeader.find('colgroup')[0]);\n                    this._lockedContentColsTree = new kendoDom.Tree(this.lockedTable.find('>colgroup')[0]);\n                    this._lockedHeaderTree = new kendoDom.Tree(this.lockedHeader.find('thead')[0]);\n                    this._lockedContentTree = new kendoDom.Tree(this.lockedTable.find('>tbody')[0]);\n                }\n            },\n            _toolbar: function () {\n                var options = this.options.toolbar;\n                var toolbar = this.toolbar;\n                if (!options) {\n                    return;\n                }\n                if ($.isArray(options)) {\n                    var buttons = this._buildCommands(options);\n                    new kendoDom.Tree(toolbar[0]).render(buttons);\n                } else {\n                    toolbar.append(kendo.template(options)({}));\n                }\n                this.angular('compile', function () {\n                    return { elements: toolbar.get() };\n                });\n            },\n            _lockedColumns: function () {\n                return grep(this.columns, is('locked'));\n            },\n            _nonLockedColumns: function () {\n                return grep(this.columns, not(is('locked')));\n            },\n            _templateColumns: function () {\n                return grep(this.columns, is('template'));\n            },\n            _flushCache: function () {\n                if (this.options.$angular && this._templateColumns().length) {\n                    this._contentTree.render([]);\n                    if (this._hasLockedColumns) {\n                        this._lockedContentTree.render([]);\n                    }\n                }\n            },\n            _render: function (options) {\n                options = options || {};\n                var messages = this.options.messages;\n                var data = this.dataSource.rootNodes();\n                var uidAttr = kendo.attr('uid');\n                var selected = this.select().removeClass('k-state-selected').map(function (_, row) {\n                    return $(row).attr(uidAttr);\n                });\n                this._absoluteIndex = 0;\n                this._angularItems('cleanup');\n                this._angularFooters('cleanup');\n                this._flushCache();\n                if (options.error) {\n                    this._showStatus(kendo.template('#: messages.requestFailed # ' + '<button class=\\'#= buttonClass #\\'>#: messages.retry #</button>')({\n                        buttonClass: [\n                            classNames.button,\n                            classNames.retry\n                        ].join(' '),\n                        messages: messages\n                    }));\n                } else if (!data.length) {\n                    this._showStatus(kendo.htmlEncode(messages.noRows));\n                } else {\n                    this._hideStatus();\n                    this._contentTree.render(this._trs({\n                        columns: this._nonLockedColumns(),\n                        aggregates: options.aggregates,\n                        selected: selected,\n                        data: data,\n                        visible: true,\n                        level: 0\n                    }));\n                    if (this._hasLockedColumns) {\n                        this._absoluteIndex = 0;\n                        this._lockedContentTree.render(this._trs({\n                            columns: this._lockedColumns(),\n                            aggregates: options.aggregates,\n                            selected: selected,\n                            data: data,\n                            visible: true,\n                            level: 0\n                        }));\n                    }\n                }\n                if (this._touchScroller) {\n                    this._touchScroller.contentResized();\n                }\n                this._muteAngularRebind(function () {\n                    this._angularItems('compile');\n                    this._angularFooters('compile');\n                });\n                this.items().filter(function () {\n                    return $.inArray($(this).attr(uidAttr), selected) >= 0;\n                }).addClass('k-state-selected');\n                this._adjustRowsHeight();\n            },\n            _adjustRowsHeight: function () {\n                if (!this._hasLockedColumns) {\n                    return;\n                }\n                var table = this.table;\n                var lockedTable = this.lockedTable;\n                var rows = table[0].rows;\n                var length = rows.length;\n                var idx;\n                var lockedRows = lockedTable[0].rows;\n                var containers = table.add(lockedTable);\n                var containersLength = containers.length;\n                var heights = [];\n                var lockedHeaderRows = this.lockedHeader.find('tr');\n                var headerRows = this.thead.find('tr');\n                lockedHeaderRows.add(headerRows).height('auto').height(Math.max(lockedHeaderRows.height(), headerRows.height()));\n                for (idx = 0; idx < length; idx++) {\n                    if (!lockedRows[idx]) {\n                        break;\n                    }\n                    if (rows[idx].style.height) {\n                        rows[idx].style.height = lockedRows[idx].style.height = '';\n                    }\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (!lockedRows[idx]) {\n                        break;\n                    }\n                    var offsetHeight1 = rows[idx].offsetHeight;\n                    var offsetHeight2 = lockedRows[idx].offsetHeight;\n                    var height = 0;\n                    if (offsetHeight1 > offsetHeight2) {\n                        height = offsetHeight1;\n                    } else if (offsetHeight1 < offsetHeight2) {\n                        height = offsetHeight2;\n                    }\n                    heights.push(height);\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = 'none';\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (heights[idx]) {\n                        rows[idx].style.height = lockedRows[idx].style.height = heights[idx] + 1 + 'px';\n                    }\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = '';\n                }\n            },\n            _ths: function (columns) {\n                var ths = [];\n                var column, title, children, cellClasses, attr, headerContent;\n                for (var i = 0, length = columns.length; i < length; i++) {\n                    column = columns[i];\n                    children = [];\n                    cellClasses = [classNames.header];\n                    if (column.headerTemplate) {\n                        title = column.headerTemplate({});\n                    } else {\n                        title = column.title || column.field || '';\n                    }\n                    if (column.headerTemplate) {\n                        headerContent = kendoHtmlElement(title);\n                    } else {\n                        headerContent = kendoTextElement(title);\n                    }\n                    if (column.sortable) {\n                        children.push(kendoDomElement('a', {\n                            href: '#',\n                            className: classNames.link\n                        }, [headerContent]));\n                    } else {\n                        children.push(headerContent);\n                    }\n                    attr = {\n                        'data-field': column.field,\n                        'data-title': column.title,\n                        'style': column.hidden === true ? { 'display': 'none' } : {},\n                        className: cellClasses.join(' '),\n                        'role': 'columnheader'\n                    };\n                    attr = extend(true, {}, attr, column.headerAttributes);\n                    ths.push(kendoDomElement('th', attr, children));\n                }\n                return ths;\n            },\n            _cols: function (columns) {\n                var cols = [];\n                var width, attr;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].hidden === true) {\n                        continue;\n                    }\n                    width = columns[i].width;\n                    attr = {};\n                    if (width && parseInt(width, 10) !== 0) {\n                        attr.style = { width: typeof width === 'string' ? width : width + 'px' };\n                    }\n                    cols.push(kendoDomElement('col', attr));\n                }\n                return cols;\n            },\n            _renderCols: function () {\n                var columns = this._nonLockedColumns();\n                this._headerColsTree.render(this._cols(columns));\n                if (this.options.scrollable) {\n                    this._contentColsTree.render(this._cols(columns));\n                }\n                if (this._hasLockedColumns) {\n                    columns = this._lockedColumns();\n                    this._lockedHeaderColsTree.render(this._cols(columns));\n                    this._lockedContentColsTree.render(this._cols(columns));\n                }\n            },\n            _renderHeader: function () {\n                var columns = this._nonLockedColumns();\n                this._headerTree.render([kendoDomElement('tr', { 'role': 'row' }, this._ths(columns))]);\n                if (this._hasLockedColumns) {\n                    columns = this._lockedColumns();\n                    this._lockedHeaderTree.render([kendoDomElement('tr', { 'role': 'row' }, this._ths(columns))]);\n                    this._applyLockedContainersWidth();\n                }\n            },\n            _applyLockedContainersWidth: function () {\n                if (!this._hasLockedColumns) {\n                    return;\n                }\n                var lockedWidth = columnsWidth(this.lockedHeader.find('>table>colgroup>col'));\n                var headerTable = this.thead.parent();\n                var nonLockedWidth = columnsWidth(headerTable.find('>colgroup>col'));\n                var wrapperWidth = this.wrapper[0].clientWidth;\n                var scrollbar = kendo.support.scrollbar();\n                if (lockedWidth >= wrapperWidth) {\n                    lockedWidth = wrapperWidth - 3 * scrollbar;\n                }\n                this.lockedHeader.add(this.lockedContent).width(lockedWidth);\n                headerTable.add(this.table).width(nonLockedWidth);\n                var width = wrapperWidth - lockedWidth - 2;\n                this.content.width(width);\n                headerTable.parent().width(width - scrollbar);\n            },\n            _trs: function (options) {\n                var model, attr, className, hasChildren, childNodes, i, length;\n                var rows = [];\n                var level = options.level;\n                var data = options.data;\n                var dataSource = this.dataSource;\n                var aggregates = dataSource.aggregates() || {};\n                var columns = options.columns;\n                for (i = 0, length = data.length; i < length; i++) {\n                    className = [];\n                    model = data[i];\n                    childNodes = model.loaded() && dataSource.childNodes(model);\n                    hasChildren = childNodes && childNodes.length;\n                    attr = { 'role': 'row' };\n                    attr[kendo.attr('uid')] = model.uid;\n                    if (hasChildren) {\n                        attr['aria-expanded'] = !!model.expanded;\n                    }\n                    if (options.visible) {\n                        if (this._absoluteIndex % 2 !== 0) {\n                            className.push(classNames.alt);\n                        }\n                        this._absoluteIndex++;\n                    } else {\n                        attr.style = { display: 'none' };\n                    }\n                    if ($.inArray(model.uid, options.selected) >= 0) {\n                        className.push(classNames.selected);\n                    }\n                    if (hasChildren) {\n                        className.push(classNames.group);\n                    }\n                    if (model._edit) {\n                        className.push('k-grid-edit-row');\n                    }\n                    attr.className = className.join(' ');\n                    rows.push(this._tds({\n                        model: model,\n                        attr: attr,\n                        level: level\n                    }, columns, proxy(this._td, this)));\n                    if (hasChildren) {\n                        rows = rows.concat(this._trs({\n                            columns: columns,\n                            aggregates: aggregates,\n                            selected: options.selected,\n                            visible: options.visible && !!model.expanded,\n                            data: childNodes,\n                            level: level + 1\n                        }));\n                    }\n                }\n                if (this._hasFooterTemplate()) {\n                    attr = {\n                        className: classNames.footerTemplate,\n                        'data-parentId': model.parentId\n                    };\n                    if (!options.visible) {\n                        attr.style = { display: 'none' };\n                    }\n                    rows.push(this._tds({\n                        model: aggregates[model.parentId],\n                        attr: attr,\n                        level: level\n                    }, columns, this._footerTd));\n                }\n                return rows;\n            },\n            _footerTd: function (options) {\n                var content = [];\n                var column = options.column;\n                var template = options.column.footerTemplate || $.noop;\n                var aggregates = options.model[column.field] || {};\n                var attr = {\n                    'role': 'gridcell',\n                    'style': column.hidden === true ? { 'display': 'none' } : {}\n                };\n                if (column.expandable) {\n                    content = content.concat(createPlaceholders({\n                        level: options.level + 1,\n                        className: classNames.iconPlaceHolder\n                    }));\n                }\n                if (column.attributes) {\n                    extend(attr, column.attributes);\n                }\n                content.push(kendoHtmlElement(template(aggregates) || ''));\n                return kendoDomElement('td', attr, content);\n            },\n            _hasFooterTemplate: function () {\n                return !!grep(this.columns, function (c) {\n                    return c.footerTemplate;\n                }).length;\n            },\n            _tds: function (options, columns, renderer) {\n                var children = [];\n                var column;\n                for (var i = 0, l = columns.length; i < l; i++) {\n                    column = columns[i];\n                    children.push(renderer({\n                        model: options.model,\n                        column: column,\n                        level: options.level\n                    }));\n                }\n                return kendoDomElement('tr', options.attr, children);\n            },\n            _td: function (options) {\n                var children = [];\n                var model = options.model;\n                var column = options.column;\n                var iconClass;\n                var attr = {\n                    'role': 'gridcell',\n                    'style': column.hidden === true ? { 'display': 'none' } : {}\n                };\n                if (column.attributes) {\n                    extend(true, attr, column.attributes);\n                }\n                if (model._edit && column.field && model.editable(column.field)) {\n                    attr[kendo.attr('container-for')] = column.field;\n                } else {\n                    if (column.expandable) {\n                        children = createPlaceholders({\n                            level: options.level,\n                            className: classNames.iconPlaceHolder\n                        });\n                        iconClass = [classNames.icon];\n                        if (model.hasChildren) {\n                            iconClass.push(model.expanded ? classNames.iconCollapse : classNames.iconExpand);\n                        } else {\n                            iconClass.push(classNames.iconHidden);\n                        }\n                        if (model._error) {\n                            iconClass.push(classNames.refresh);\n                        } else if (!model.loaded() && model.expanded) {\n                            iconClass.push(classNames.loading);\n                        }\n                        children.push(kendoDomElement('span', { className: iconClass.join(' ') }));\n                        attr.style['white-space'] = 'nowrap';\n                    }\n                    if (column.command) {\n                        if (attr.className && attr.className.indexOf('k-command-cell') !== -1) {\n                            attr.className += ' k-command-cell';\n                        } else if (!attr.className) {\n                            attr.className = 'k-command-cell';\n                        }\n                        if (model._edit) {\n                            children = this._buildCommands([\n                                'update',\n                                'canceledit'\n                            ]);\n                        } else {\n                            children = this._buildCommands(column.command);\n                        }\n                    } else {\n                        children.push(this._cellContent(column, model));\n                    }\n                }\n                return kendoDomElement('td', attr, children);\n            },\n            _cellContent: function (column, model) {\n                var value;\n                if (column.template) {\n                    value = column.template(model);\n                } else if (column.field) {\n                    value = model.get(column.field);\n                    if (value !== null && column.format) {\n                        value = kendo.format(column.format, value);\n                    }\n                }\n                if (value === null || typeof value == 'undefined') {\n                    value = '';\n                }\n                if (column.template || !column.encoded) {\n                    return kendoHtmlElement(value);\n                } else {\n                    return kendoTextElement(value);\n                }\n            },\n            _buildCommands: function (commands) {\n                var i, result = [];\n                for (i = 0; i < commands.length; i++) {\n                    result.push(this._button(commands[i]));\n                }\n                return result;\n            },\n            _button: function (command) {\n                var name = (command.name || command).toLowerCase();\n                var text = this.options.messages.commands[name];\n                var icon = [];\n                command = extend({}, defaultCommands[name], { text: text }, command);\n                if (command.imageClass) {\n                    icon.push(kendoDomElement('span', {\n                        className: [\n                            'k-icon',\n                            command.imageClass\n                        ].join(' ')\n                    }));\n                }\n                return kendoDomElement('button', {\n                    'type': 'button',\n                    'data-command': name,\n                    className: [\n                        'k-button',\n                        'k-button-icontext',\n                        command.className\n                    ].join(' ')\n                }, icon.concat([kendoTextElement(command.text || command.name)]));\n            },\n            _positionResizeHandle: function (e) {\n                var th = $(e.currentTarget);\n                var resizeHandle = this.resizeHandle;\n                var position = th.position();\n                var left = position.left;\n                var cellWidth = outerWidth(th);\n                var container = th.closest('div');\n                var clientX = e.clientX + $(window).scrollLeft();\n                var indicatorWidth = this.options.columnResizeHandleWidth || 3;\n                left += container.scrollLeft();\n                if (!resizeHandle) {\n                    resizeHandle = this.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\" /></div>');\n                }\n                var cellOffset = th.offset().left + cellWidth;\n                var show = clientX > cellOffset - indicatorWidth && clientX < cellOffset + indicatorWidth;\n                if (!show) {\n                    resizeHandle.hide();\n                    return;\n                }\n                container.append(resizeHandle);\n                resizeHandle.show().css({\n                    top: position.top,\n                    left: left + cellWidth - indicatorWidth - 1,\n                    height: outerHeight(th),\n                    width: indicatorWidth * 3\n                }).data('th', th);\n                var that = this;\n                resizeHandle.off('dblclick' + NS).on('dblclick' + NS, function () {\n                    var index = th.index();\n                    if ($.contains(that.thead[0], th[0])) {\n                        index += grep(that.columns, function (val) {\n                            return val.locked && !val.hidden;\n                        }).length;\n                    }\n                    that.autoFitColumn(index);\n                });\n            },\n            autoFitColumn: function (column) {\n                var that = this, options = that.options, columns = that.columns, index, browser = kendo.support.browser, th, headerTable, isLocked, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, col;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(columns, function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.hidden) {\n                    return;\n                }\n                index = inArray(column, columns);\n                isLocked = column.locked;\n                if (isLocked) {\n                    headerTable = that.lockedHeader.children('table');\n                } else {\n                    headerTable = that.thead.parent();\n                }\n                th = headerTable.find('[data-index=\\'' + index + '\\']');\n                var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                var footerTable = footer.find('table').first();\n                if (that.lockedHeader && visibleLocked >= index && !isLocked) {\n                    index -= visibleLocked;\n                }\n                for (var j = 0; j < columns.length; j++) {\n                    if (columns[j] === column) {\n                        break;\n                    } else {\n                        if (columns[j].hidden) {\n                            index--;\n                        }\n                    }\n                }\n                if (options.scrollable) {\n                    col = headerTable.find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footerTable.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                } else {\n                    col = contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                }\n                var tables = headerTable.add(contentTable).add(footerTable);\n                var oldColumnWidth = outerWidth(th);\n                col.width('');\n                tables.css('table-layout', 'fixed');\n                col.width('auto');\n                tables.addClass('k-autofitting');\n                tables.css('table-layout', '');\n                var newColumnWidth = Math.ceil(Math.max(outerWidth(th), outerWidth(contentTable.find('tr').eq(0).children('td:visible').eq(index)), outerWidth(footerTable.find('tr').eq(0).children('td:visible').eq(index))));\n                col.width(newColumnWidth);\n                column.width = newColumnWidth;\n                if (options.scrollable) {\n                    var cols = headerTable.find('col'), colWidth, totalWidth = 0;\n                    for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            totalWidth += parseInt(colWidth, 10);\n                        } else {\n                            totalWidth = 0;\n                            break;\n                        }\n                    }\n                    if (totalWidth) {\n                        tables.each(function () {\n                            this.style.width = totalWidth + 'px';\n                        });\n                    }\n                }\n                if (browser.msie && browser.version == 8) {\n                    tables.css('display', 'inline-table');\n                    setTimeout(function () {\n                        tables.css('display', 'table');\n                    }, 1);\n                }\n                tables.removeClass('k-autofitting');\n                that.trigger(COLUMNRESIZE, {\n                    column: column,\n                    oldWidth: oldColumnWidth,\n                    newWidth: newColumnWidth\n                });\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n            },\n            _adjustLockedHorizontalScrollBar: function () {\n                var table = this.table, content = table.parent();\n                var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n                this.lockedContent.height(content.height() - scrollbar);\n            },\n            _syncLockedContentHeight: function () {\n                if (this.lockedTable) {\n                    if (!this._touchScroller) {\n                        this._adjustLockedHorizontalScrollBar();\n                    }\n                    this._adjustRowsHeight(this.table, this.lockedTable);\n                }\n            },\n            _syncLockedHeaderHeight: function () {\n                if (this.lockedHeader) {\n                    var lockedTable = this.lockedHeader.children('table');\n                    var table = this.thead.parent();\n                    this._adjustRowsHeight(lockedTable, table);\n                    syncTableHeight(lockedTable, table);\n                }\n            },\n            _resizable: function () {\n                if (!this.options.resizable) {\n                    return;\n                }\n                if (this.resizable) {\n                    this.resizable.destroy();\n                }\n                var treelist = this;\n                $(this.lockedHeader).find('thead').add(this.thead).on('mousemove' + NS, 'th', $.proxy(this._positionResizeHandle, this));\n                this.resizable = new kendo.ui.Resizable(this.wrapper, {\n                    handle: '.k-resize-handle',\n                    start: function (e) {\n                        var th = $(e.currentTarget).data('th');\n                        var colSelector = 'col:eq(' + $.inArray(th[0], th.parent().children().filter(':visible')) + ')';\n                        var header, contentTable;\n                        treelist.wrapper.addClass('k-grid-column-resizing');\n                        if (treelist.lockedHeader && $.contains(treelist.lockedHeader[0], th[0])) {\n                            header = treelist.lockedHeader;\n                            contentTable = treelist.lockedTable;\n                        } else {\n                            header = treelist.thead.parent();\n                            contentTable = treelist.table;\n                        }\n                        this.col = contentTable.children('colgroup').find(colSelector).add(header.find(colSelector));\n                        this.th = th;\n                        this.startLocation = e.x.location;\n                        this.columnWidth = outerWidth(th);\n                        this.table = this.col.closest('table');\n                        this.totalWidth = this.table.width();\n                    },\n                    resize: function (e) {\n                        var minColumnWidth = 11;\n                        var delta = e.x.location - this.startLocation;\n                        if (this.columnWidth + delta < minColumnWidth) {\n                            delta = minColumnWidth - this.columnWidth;\n                        }\n                        this.table.width(this.totalWidth + delta);\n                        this.col.width(this.columnWidth + delta);\n                    },\n                    resizeend: function () {\n                        treelist.wrapper.removeClass('k-grid-column-resizing');\n                        var field = this.th.attr('data-field');\n                        var column = grep(treelist.columns, function (c) {\n                            return c.field == field;\n                        });\n                        var newWidth = Math.floor(outerWidth(this.th));\n                        column[0].width = newWidth;\n                        treelist._resize();\n                        treelist._adjustRowsHeight();\n                        treelist.trigger(COLUMNRESIZE, {\n                            column: column,\n                            oldWidth: this.columnWidth,\n                            newWidth: newWidth\n                        });\n                        this.table = this.col = this.th = null;\n                    }\n                });\n            },\n            _sortable: function () {\n                var columns = this.columns;\n                var column;\n                var sortableInstance;\n                var cells = $(this.lockedHeader).add(this.thead).find('th');\n                var cell, idx, length;\n                var fieldAttr = kendo.attr('field');\n                var sortable = this.options.sortable;\n                if (!sortable) {\n                    return;\n                }\n                for (idx = 0, length = cells.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (column.sortable !== false && !column.command && column.field) {\n                        cell = cells.eq(idx);\n                        sortableInstance = cell.data('kendoColumnSorter');\n                        if (sortableInstance) {\n                            sortableInstance.destroy();\n                        }\n                        cell.attr(fieldAttr, column.field).kendoColumnSorter(extend({}, sortable, column.sortable, { dataSource: this.dataSource }));\n                    }\n                }\n            },\n            _filterable: function () {\n                var cells = $(this.lockedHeader).add(this.thead).find('th');\n                var filterable = this.options.filterable;\n                var idx, length, column, cell, filterMenuInstance;\n                if (!filterable || this.options.columnMenu) {\n                    return;\n                }\n                var filterInit = proxy(function (e) {\n                    this.trigger(FILTERMENUINIT, {\n                        field: e.field,\n                        container: e.container\n                    });\n                }, this);\n                for (idx = 0, length = cells.length; idx < length; idx++) {\n                    column = this.columns[idx];\n                    cell = cells.eq(idx);\n                    filterMenuInstance = cell.data('kendoFilterMenu');\n                    if (filterMenuInstance) {\n                        filterMenuInstance.destroy();\n                    }\n                    if (column.command || column.filterable === false) {\n                        continue;\n                    }\n                    cell.kendoFilterMenu(extend(true, {}, filterable, column.filterable, {\n                        dataSource: this.dataSource,\n                        init: filterInit\n                    }));\n                }\n            },\n            _change: function () {\n                this.trigger(CHANGE);\n            },\n            _isLocked: function () {\n                return this.lockedHeader !== null;\n            },\n            _selectable: function () {\n                var that = this;\n                var selectable = this.options.selectable;\n                var filter;\n                var element = this.table;\n                var useAllItems;\n                var isLocked = that._isLocked();\n                var multi;\n                var cell;\n                if (selectable) {\n                    selectable = kendo.ui.Selectable.parseOptions(selectable);\n                    if (this._hasLockedColumns) {\n                        element = element.add(this.lockedTable);\n                        useAllItems = selectable.multiple && selectable.cell;\n                    }\n                    filter = '>tbody>tr:not(.k-footer-template)';\n                    if (selectable.cell) {\n                        filter = filter + '>td';\n                    }\n                    this.selectable = new kendo.ui.Selectable(element, {\n                        filter: filter,\n                        aria: true,\n                        multiple: selectable.multiple,\n                        change: proxy(this._change, this),\n                        useAllItems: useAllItems,\n                        continuousItems: proxy(this._continuousItems, this, filter, selectable.cell),\n                        relatedTarget: !selectable.cell && this._hasLockedColumns ? proxy(this._selectableTarget, this) : undefined\n                    });\n                    if (that.options.navigatable) {\n                        multi = selectable.multiple;\n                        cell = selectable.cell;\n                        element.on('keydown' + NS, function (e) {\n                            var current = that.current();\n                            var target = e.target;\n                            if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, element) > -1 && !current.is('.k-header')) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = cell ? current : current.parent();\n                                if (isLocked && !cell) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!e.ctrlKey) {\n                                        that.selectable.clear();\n                                    } else {\n                                        if (current.hasClass(classNames.selected)) {\n                                            current.removeClass(classNames.selected);\n                                            that.trigger(CHANGE);\n                                            return;\n                                        }\n                                    }\n                                } else {\n                                    that.selectable.clear();\n                                }\n                                if (!cell) {\n                                    that.selectable._lastActive = current;\n                                }\n                                that.selectable.value(current);\n                            } else if (!cell && (e.shiftKey && e.keyCode == keys.LEFT || e.shiftKey && e.keyCode == keys.RIGHT || e.shiftKey && e.keyCode == keys.UP || e.shiftKey && e.keyCode == keys.DOWN || e.keyCode === keys.SPACEBAR && e.shiftKey)) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = current.parent();\n                                if (isLocked) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!that.selectable._lastActive) {\n                                        that.selectable._lastActive = current;\n                                    }\n                                    that.selectable.selectRange(that.selectable._firstSelectee(), current);\n                                } else {\n                                    that.selectable.clear();\n                                    that.selectable.value(current);\n                                }\n                            }\n                        });\n                    }\n                }\n            },\n            _continuousItems: function (filter, cell) {\n                if (!this.lockedContent) {\n                    return;\n                }\n                var lockedItems = $(filter, this.lockedTable);\n                var nonLockedItems = $(filter, this.table);\n                var columns = cell ? this._lockedColumns().length : 1;\n                var nonLockedColumns = cell ? this.columns.length - columns : 1;\n                var result = [];\n                for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                    push.apply(result, lockedItems.slice(idx, idx + columns));\n                    push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n                }\n                return result;\n            },\n            _selectableTarget: function (items) {\n                var related;\n                var result = $();\n                for (var idx = 0, length = items.length; idx < length; idx++) {\n                    related = this._relatedRow(items[idx]);\n                    if (inArray(related[0], items) < 0) {\n                        result = result.add(related);\n                    }\n                }\n                return result;\n            },\n            _relatedRow: function (row) {\n                var lockedTable = this.lockedTable;\n                row = $(row);\n                if (!lockedTable) {\n                    return row;\n                }\n                var table = row.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr').index(row);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr').eq(index);\n            },\n            select: function (value) {\n                var selectable = this.selectable;\n                if (!selectable) {\n                    return $();\n                }\n                if (typeof value !== 'undefined') {\n                    if (!selectable.options.multiple) {\n                        selectable.clear();\n                        value = value.first();\n                    }\n                    if (this._hasLockedColumns) {\n                        value = value.add($.map(value, proxy(this._relatedRow, this)));\n                    }\n                }\n                return selectable.value(value);\n            },\n            clearSelection: function () {\n                var selected = this.select();\n                if (selected.length) {\n                    this.selectable.clear();\n                    this.trigger(CHANGE);\n                }\n            },\n            _dataSource: function (dataSource) {\n                var ds = this.dataSource;\n                if (ds) {\n                    ds.unbind(CHANGE, this._refreshHandler);\n                    ds.unbind(ERROR, this._errorHandler);\n                    ds.unbind(PROGRESS, this._progressHandler);\n                }\n                this._refreshHandler = proxy(this.refresh, this);\n                this._errorHandler = proxy(this._error, this);\n                this._progressHandler = proxy(this._progress, this);\n                ds = this.dataSource = TreeListDataSource.create(dataSource);\n                ds.bind(CHANGE, this._refreshHandler);\n                ds.bind(ERROR, this._errorHandler);\n                ds.bind(PROGRESS, this._progressHandler);\n                this._dataSourceFetchProxy = proxy(function () {\n                    this.dataSource.fetch();\n                }, this);\n            },\n            setDataSource: function (dataSource) {\n                this._dataSource(dataSource);\n                this._sortable();\n                this._filterable();\n                this._contentTree.render([]);\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n            },\n            dataItem: function (element) {\n                if (element instanceof TreeListModel) {\n                    return element;\n                }\n                var row = $(element).closest('tr');\n                var model = this.dataSource.getByUid(row.attr(kendo.attr('uid')));\n                return model;\n            },\n            editRow: function (row) {\n                var model;\n                if (typeof row === STRING) {\n                    row = this.tbody.find(row);\n                }\n                model = this.dataItem(row);\n                if (!model) {\n                    return;\n                }\n                if (this._editMode() != 'popup') {\n                    model._edit = true;\n                }\n                this._cancelEditor();\n                this._render();\n                this._createEditor(model);\n                this.trigger(EDIT, {\n                    container: this.editor.wrapper,\n                    model: model\n                });\n            },\n            _cancelEdit: function (e) {\n                if (!this.editor) {\n                    return;\n                }\n                var currentIndex;\n                e = extend(e, {\n                    container: this.editor.wrapper,\n                    model: this.editor.model\n                });\n                if (this.trigger(CANCEL, e)) {\n                    return;\n                }\n                if (this.options.navigatable) {\n                    currentIndex = this.items().index($(this.current()).parent());\n                }\n                this.cancelRow();\n                if (this.options.navigatable) {\n                    this.current(this.items().eq(currentIndex).children().filter(NAVCELL).first());\n                    focusTable(this.table, true);\n                }\n            },\n            cancelRow: function () {\n                this._cancelEditor();\n                this._render();\n            },\n            saveRow: function () {\n                var editor = this.editor;\n                var args;\n                if (!editor) {\n                    return;\n                }\n                args = {\n                    model: editor.model,\n                    container: editor.wrapper\n                };\n                if (editor.end() && !this.trigger(SAVE, args)) {\n                    this.dataSource.sync();\n                }\n            },\n            addRow: function (parent) {\n                var editor = this.editor;\n                var index = 0;\n                var model = {};\n                if (editor && !editor.end()) {\n                    return;\n                }\n                if (parent) {\n                    if (!(parent instanceof TreeListModel)) {\n                        parent = this.dataItem(parent);\n                    }\n                    model[parent.parentIdField] = parent.id;\n                    index = this.dataSource.indexOf(parent) + 1;\n                    this.expand(parent).then(proxy(this._insertAt, this, model, index));\n                    return;\n                }\n                this._insertAt(model, index);\n            },\n            _insertAt: function (model, index) {\n                model = this.dataSource.insert(index, model);\n                var row = this.itemFor(model);\n                this.editRow(row);\n            },\n            removeRow: function (row) {\n                var model = this.dataItem(row);\n                var args = {\n                    model: model,\n                    row: row\n                };\n                if (model && !this.trigger(REMOVE, args)) {\n                    this.dataSource.remove(model);\n                    this.dataSource.sync();\n                }\n            },\n            _cancelEditor: function () {\n                var model;\n                var editor = this.editor;\n                if (editor) {\n                    model = editor.model;\n                    this._destroyEditor();\n                    this.dataSource.cancelChanges(model);\n                    model._edit = false;\n                }\n            },\n            _destroyEditor: function () {\n                if (!this.editor) {\n                    return;\n                }\n                this.editor.close();\n                this.editor = null;\n            },\n            _createEditor: function (model) {\n                var row = this.itemFor(model);\n                row = row.add(this._relatedRow(row));\n                var mode = this._editMode();\n                var options = {\n                    columns: this.columns,\n                    model: model,\n                    target: this,\n                    clearContainer: false,\n                    template: this.options.editable.template\n                };\n                if (mode == 'inline') {\n                    this.editor = new Editor(row, options);\n                } else {\n                    extend(options, {\n                        window: this.options.editable.window,\n                        commandRenderer: proxy(function () {\n                            return this._buildCommands([\n                                'update',\n                                'canceledit'\n                            ]);\n                        }, this),\n                        fieldRenderer: this._cellContent,\n                        save: proxy(this.saveRow, this),\n                        cancel: proxy(this._cancelEdit, this),\n                        appendTo: this.wrapper\n                    });\n                    this.editor = new PopupEditor(row, options);\n                }\n            },\n            _editMode: function () {\n                var mode = 'inline', editable = this.options.editable;\n                if (editable !== true) {\n                    if (typeof editable == 'string') {\n                        mode = editable;\n                    } else {\n                        mode = editable.mode || mode;\n                    }\n                }\n                return mode.toLowerCase();\n            },\n            hideColumn: function (column) {\n                this._toggleColumnVisibility(column, true);\n            },\n            showColumn: function (column) {\n                this._toggleColumnVisibility(column, false);\n            },\n            _toggleColumnVisibility: function (column, hidden) {\n                column = this._findColumn(column);\n                if (!column || column.hidden === hidden) {\n                    return;\n                }\n                column.hidden = hidden;\n                this._ensureExpandableColumn();\n                this._renderCols();\n                this._renderHeader();\n                this._render();\n                this._adjustTablesWidth();\n                this.trigger(hidden ? COLUMNHIDE : COLUMNSHOW, { column: column });\n                if (!hidden && !column.width) {\n                    this.table.add(this.thead.closest('table')).width('');\n                }\n            },\n            _findColumn: function (column) {\n                if (typeof column == 'number') {\n                    column = this.columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(this.columns, function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(this.columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                return column;\n            },\n            _adjustTablesWidth: function () {\n                var idx, length;\n                var cols = this.thead.prev().children();\n                var colWidth, width = 0;\n                for (idx = 0, length = cols.length; idx < length; idx++) {\n                    colWidth = cols[idx].style.width;\n                    if (colWidth && colWidth.indexOf('%') == -1) {\n                        width += parseInt(colWidth, 10);\n                    } else {\n                        width = 0;\n                        break;\n                    }\n                }\n                if (width) {\n                    this.table.add(this.thead.closest('table')).width(width);\n                }\n            },\n            _reorderable: function () {\n                if (!this.options.reorderable) {\n                    return;\n                }\n                var scrollable = this.options.scrollable === true;\n                var selector = (scrollable ? '.k-grid-header:first ' : 'table:first>.k-grid-header ') + HEADERCELLS;\n                var that = this;\n                this._draggableInstance = new ui.Draggable(this.wrapper, {\n                    group: kendo.guid(),\n                    filter: selector,\n                    hint: function (target) {\n                        return $('<div class=\"k-header k-drag-clue\" />').css({\n                            width: target.width(),\n                            paddingLeft: target.css('paddingLeft'),\n                            paddingRight: target.css('paddingRight'),\n                            lineHeight: target.height() + 'px',\n                            paddingTop: target.css('paddingTop'),\n                            paddingBottom: target.css('paddingBottom')\n                        }).html(target.attr(kendo.attr('title')) || target.attr(kendo.attr('field')) || target.text()).prepend('<span class=\"k-icon k-drag-status k-i-cancel\" />');\n                    }\n                });\n                this.reorderable = new ui.Reorderable(this.wrapper, {\n                    draggable: this._draggableInstance,\n                    dragOverContainers: proxy(this._allowDragOverContainers, this),\n                    inSameContainer: function (e) {\n                        return $(e.source).parent()[0] === $(e.target).parent()[0];\n                    },\n                    change: function (e) {\n                        var newIndex = e.newIndex;\n                        var oldIndex = e.oldIndex;\n                        var before = e.position === 'before';\n                        var column = that.columns[oldIndex];\n                        that.trigger(COLUMNREORDER, {\n                            newIndex: newIndex,\n                            oldIndex: oldIndex,\n                            column: column\n                        });\n                        that.reorderColumn(newIndex, column, before);\n                    }\n                });\n            },\n            _allowDragOverContainers: function (index) {\n                return this.columns[index].lockable !== false;\n            },\n            reorderColumn: function (destIndex, column, before) {\n                var lockChanged;\n                var columns = this.columns;\n                var sourceIndex = inArray(column, columns);\n                var destColumn = columns[destIndex];\n                var isLocked = !!destColumn.locked;\n                var nonLockedColumnsLength = this._nonLockedColumns().length;\n                if (sourceIndex === destIndex) {\n                    return;\n                }\n                if (isLocked && !column.locked && nonLockedColumnsLength == 1) {\n                    return;\n                }\n                if (!isLocked && column.locked && columns.length - nonLockedColumnsLength == 1) {\n                    return;\n                }\n                if (before === undefined) {\n                    before = destIndex < sourceIndex;\n                }\n                lockChanged = !!column.locked;\n                lockChanged = lockChanged != isLocked;\n                column.locked = isLocked;\n                columns.splice(before ? destIndex : destIndex + 1, 0, column);\n                columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                this._renderCols();\n                var ths = $(this.lockedHeader).add(this.thead).find('th');\n                ths.eq(sourceIndex)[before ? 'insertBefore' : 'insertAfter'](ths.eq(destIndex));\n                var dom = this._headerTree.children[0].children;\n                if (this._hasLockedColumns) {\n                    dom = this._lockedHeaderTree.children[0].children.concat(dom);\n                }\n                dom.splice(before ? destIndex : destIndex + 1, 0, dom[sourceIndex]);\n                dom.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                if (this._hasLockedColumns) {\n                    this._lockedHeaderTree.children[0].children = dom.splice(0, this._lockedColumns().length);\n                    this._headerTree.children[0].children = dom;\n                }\n                this._applyLockedContainersWidth();\n                this.refresh();\n                if (!lockChanged) {\n                    return;\n                }\n                if (isLocked) {\n                    this.trigger(COLUMNLOCK, { column: column });\n                } else {\n                    this.trigger(COLUMNUNLOCK, { column: column });\n                }\n            },\n            lockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.hidden) {\n                    return;\n                }\n                var index = this._lockedColumns().length - 1;\n                this.reorderColumn(index, column, false);\n            },\n            unlockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.hidden) {\n                    return;\n                }\n                var index = this._lockedColumns().length;\n                this.reorderColumn(index, column, true);\n            },\n            _columnMenu: function () {\n                var ths = $(this.lockedHeader).add(this.thead).find('th');\n                var columns = this.columns;\n                var options = this.options;\n                var columnMenu = options.columnMenu;\n                var column, menu, menuOptions, sortable, filterable;\n                var initHandler = proxy(this._columnMenuInit, this);\n                var lockedColumnsLength = this._lockedColumns().length;\n                if (!columnMenu) {\n                    return;\n                }\n                if (typeof columnMenu == 'boolean') {\n                    columnMenu = {};\n                }\n                for (var i = 0; i < ths.length; i++) {\n                    column = columns[i];\n                    if (!column.field) {\n                        continue;\n                    }\n                    menu = ths.eq(i).data('kendoColumnMenu');\n                    if (menu) {\n                        menu.destroy();\n                    }\n                    sortable = false;\n                    if (column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false) {\n                        sortable = extend({}, options.sortable, { compare: (column.sortable || {}).compare });\n                    }\n                    filterable = false;\n                    if (options.filterable && column.filterable !== false && columnMenu.filterable !== false) {\n                        filterable = extend({ pane: this.pane }, column.filterable, options.filterable);\n                    }\n                    menuOptions = {\n                        dataSource: this.dataSource,\n                        values: column.values,\n                        columns: columnMenu.columns,\n                        sortable: sortable,\n                        filterable: filterable,\n                        messages: columnMenu.messages,\n                        owner: this,\n                        closeCallback: $.noop,\n                        init: initHandler,\n                        pane: this.pane,\n                        lockedColumns: column.lockable !== false && lockedColumnsLength > 0\n                    };\n                    if (options.$angular) {\n                        menuOptions.$angular = options.$angular;\n                    }\n                    ths.eq(i).kendoColumnMenu(menuOptions);\n                }\n            },\n            _columnMenuInit: function (e) {\n                this.trigger(COLUMNMENUINIT, {\n                    field: e.field,\n                    container: e.container\n                });\n            }\n        });\n        function isInputElement(element) {\n            return $(element).is(':button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon');\n        }\n        function focusTable(table, direct) {\n            var msie = browser.msie || browser.edge;\n            if (direct === true) {\n                table = $(table);\n                var scrollTop, scrollLeft;\n                scrollTop = table.parent().scrollTop();\n                scrollLeft = table.parent().scrollLeft();\n                if (msie) {\n                    try {\n                        table[0].setActive();\n                    } catch (e) {\n                        table[0].focus();\n                    }\n                } else {\n                    table[0].focus();\n                }\n                table.parent().scrollTop(scrollTop).scrollLeft(scrollLeft);\n            } else {\n                $(table).one('focusin', function (e) {\n                    e.preventDefault();\n                }).focus();\n            }\n        }\n        if (kendo.ExcelMixin) {\n            kendo.ExcelMixin.extend(TreeList.prototype);\n        }\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(TreeList.prototype);\n            TreeList.fn._drawPDF = function (progress) {\n                var promise = new $.Deferred();\n                this._drawPDFShadow({ width: this.wrapper.width() }, { avoidLinks: this.options.pdf.avoidLinks }).done(function (group) {\n                    var args = {\n                        page: group,\n                        pageNumber: 1,\n                        progress: 1,\n                        totalPages: 1\n                    };\n                    progress.notify(args);\n                    promise.resolve(args.page);\n                }).fail(function (err) {\n                    promise.reject(err);\n                });\n                return promise;\n            };\n        }\n        extend(true, kendo.data, {\n            TreeListDataSource: TreeListDataSource,\n            TreeListModel: TreeListModel\n        });\n        extend(true, kendo.ui, { TreeList: TreeList });\n        ui.plugin(TreeList);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}